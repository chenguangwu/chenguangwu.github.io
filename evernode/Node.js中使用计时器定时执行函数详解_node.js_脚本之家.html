<html>
<head>
  <title>Node.js中使用计时器定时执行函数详解_node.js_脚本之家</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="11664"/>
<h1>Node.js中使用计时器定时执行函数详解_node.js_脚本之家</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/8/22 9:42</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.jb51.net/article/53778.htm"><i>http://www.jb51.net/article/53778.htm</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px"><div><div style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:1.5;font-family:tahoma, arial, 宋体;background-color:rgb(255, 255, 255);"><div><div><div><div><div style="zoom:1;border:1px solid rgb(188, 213, 229);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:688px;height:7444px;">
      <div style="margin:0px;padding:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:688px;height:85px;">
            <h1 style="text-align:center;margin:0px;font-size:16px;font-weight:600;font-family:'microsoft yahei', arial;color:rgb(51, 51, 51);font-style:normal;font-variant:normal;font-stretch:normal;line-height:normal;padding:15px 0px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(188, 213, 229);margin-bottom:10px;border:;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:688px;">Node.js中使用计时器定时执行函数详解</h1>
            <p style="margin:0px;padding:5px;color:rgb(153, 153, 153);text-align:center;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:678px;height:18px;">作者：Jack Yao''s Workshop  字体：[<a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">增加</a> <a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">减小</a>] 类型：转载 时间：2014-08-15<a href="http://www.jb51.net/article/53778.htm#comments" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 我要评论</a></p>
        </div>
        <div style="background:rgb(246, 251, 255);margin:10px 5px;color:rgb(51, 51, 51);border-left-width:3px;border-left-style:solid;border-left-color:rgb(59, 176, 219);font-size:14px;padding:10px;border:;background-color:rgb(246, 251, 255);background-image:none;box-shadow:none;width:655px;height:42px;"><div style="margin:0px;padding:0px;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:655px;height:42px;">这篇文章主要介绍了Node.js中使用计时器定时执行函数详解,本文使用了Node.js中的setTimeout和setInterval函数,需要的朋友可以参考下</div></div>
        <div style="margin:5px auto;padding:0px;width:680px;text-align:center;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;height:0px;"><span style="text-align:center;display:block;height:0px;overflow:hidden;visibility:hidden;">.</span>
<span style="text-align:center;display:block;height:0px;overflow:hidden;visibility:hidden;clear:both;">.</span></div>
        <div style="word-wrap:break-word;margin:0px 10px;width:660px;text-align:left;line-height:180%;clear:both;font-size:14px;padding:20px 5px 0px;word-break:break-all;overflow:hidden;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;height:6172px;">
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">如果你熟悉客户端JavaScript编程，你可能使用过setTimeout和setInterval函数，这两个函数允许延时一段时间再运行函数。比如下面的代码， 一旦被加载到Web页面，1秒后会在页面文档后追加“Hello there”：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:165px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
var oneSecond = 1000 * 1; // one second = 1000 x 1 ms<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">setTimeout(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">    document.write('&lt;p&gt;Hello there.&lt;/p&gt;');</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">}, oneSecond);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">而setInterval允许以指定的时间间隔重复执行函数。如果把下面的代码注入到Web页面，会导致每秒钟向页面文档后面追加一句“Hello there”：</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:165px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                  var oneSecond = 1000 * 1; // one second = 1000 x 1 ms<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                  setInterval(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                    document.write('&lt;p&gt;Hello there.&lt;/p&gt;');</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                  }, oneSecond);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:100px;">因为Web早已成为一个用来构建应用程序的平台，而不再是简单的静态页面，所以这种类似的需求日益浮现。这些任务计划函数帮助开发人员实现表单定期验证，延迟远程数据同步，或者那些需要延时反应的UI交互。Node也完整实现了这些方法。在服务器端，你可以用它们来重复或延迟执行很多任务，比如缓存过期，连接池清理，会话过期，轮询等等。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">使用setTimeout延迟函数执行</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">setTimeout可以制定一个在将来某个时间把指定函数运行一次的执行计划，比如：</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:165px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   var timeout_ms = 2000; // 2 seconds<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   var timeout = setTimeout(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            console.log(&quot;timed out!&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   }, timeout_ms);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">和客户端JavaScript完全一样，setTimeout接受两个参数，第一个参数是需要被延迟的函数，第二个参数是延迟时间（以毫秒为单位）。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">setTimeout返回一个超时句柄，它是个内部对象，可以用它作为参数调用clearTimeout来取消计时器，除此之外这个句柄没有任何作用。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">使用clearTimeout取消执行计划</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">一旦获得了超时句柄，就可以用clearTimeout来取消函数执行计划，像这样：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:200px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   var timeoutTime = 1000; // one second<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   var timeout = setTimeout(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            console.log(&quot;timed out!&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   }, timeoutTime);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   clearTimeout(timeout);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;"> 这个例子里，计时器永远不会被触发，也不会输出”time out!”这几个字。你也可以在将来的任何时间取消执行计划，就像下面的例子：</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:300px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 var timeout = setTimeout(function A() {<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 <br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                            console.log(&quot;timed out!&quot;);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 <br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   }, 2000);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 <br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   setTimeout(function B() {<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 <br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                            clearTimeout(timeout);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 <br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   }, 1000);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">代码指定了两个延时执行的函数A和B，函数A计划在2秒钟后执行，B计划在1秒钟后执行，因为函数B先执行，而它取消了A的执行计划，因此A永远不会运行。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">制定和取消函数的重复执行计划</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">setInterval和setTimeout类似，但是它会以指定时间为间隔重复执行一个函数。你可以用它来周期性的触发一段程序，来完成一些类似清理，收集，日志，获取数据，轮询等其它需要重复执行的任务。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">下面代码每秒会向控制台输出一句“tick”：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:165px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   var period = 1000; // 1 second<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   setInterval(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            console.log(&quot;tick&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   }, period);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">如果你不想让它永远运行下去，可以用clearInterval()取消定时器。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">setInterval返回一个执行计划句柄，可以把它用作clearInterval的参数来取消执行计划：</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:200px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   var interval = setInterval(function() {<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            console.log(&quot;tick&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   }, 1000);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   // …</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   clearInterval(interval);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">使用process.nextTick将函数执行延迟到事件循环的下一轮</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:100px;">有时候客户端JavaScript程序员用setTimeout(callback,0)将任务延迟一段很短的时间，第二个参数是0毫秒，它告诉JavaScript运行时，当所有挂起的事件处理完毕后立刻执行这个回调函数。有时候这种技术被用来延迟执行一些并不需要被立刻执行的操作。比如，有时候需要在用户事件处理完毕后再开始播放动画或者做一些其它的计算。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">Node中，就像 “事件循环”的字面意思，事件循环运行在一个处理事件队列的循环里，事件循环工作过程中的每一轮就称为一个tick。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">你可以在事件循环每次开始下一轮（下一个tick）执行时调用回调函数一次，这也正是process.nextTick的原理，而setTimeout，setTimeout使用JavaScript运行时内部的执行队列，而不是使用事件循环。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">通过使用process.nextTick(callback) ，而不是setTimeout(callback, 0)，你的回调函数会在队列内的事件处理完毕后立刻执行，它要比JavaScript的超时队列快很多（以CPU时间来衡量）。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">你可以像下面这样，把函数延迟到下一轮事件循环再运行：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:130px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   process.nextTick(function() {<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            my_expensive_computation_function();</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   });<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">  注意：process对象是Node为数不多的全局对象之一。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">堵塞事件循环</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:100px;">Node和JavaScript的运行时采用的是单线程事件循环，每次循环，运行时通过调用相关回调函数来处理队列内的下个事件。当事件执行完毕，事件循环取得执行结果并处理下个事件，如此反复，直到事件队列为空。如果其中一个回调函数运行时占用了很长时间，事件循环在那期间就不能处理其它挂起的事件，这会让应用程序或服务变得非常慢。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">在处理事件时，如果使用了内存敏感或者处理器敏感的函数，会导致事件循环变得缓慢，而且造成大量事件堆积，不能被及时处理，甚至堵塞队列。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">看下面堵塞事件循环的例子：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:445px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   process.nextTick(function nextTick1() {<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            var a = 0;</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            while(true) {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                     a ++;</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            }</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   });</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   process.nextTick(function nextTick2() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            console.log(&quot;next tick&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   });</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   setTimeout(function timeout() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            console.log(&quot;timeout&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   }, 1000);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">这个例子里，nextTick2和timeout函数无论等待多久都没机会运行，因为事件循环被nextTick函数里的无限循环堵塞了，即使timeout函数被计划在1秒钟后执行它也不会运行。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">         当使用setTimeout时，回调函数会被添加到执行计划队列，而在这个例子里它们甚至不会被添加到队列。这虽然是个极端例子，但是你可以看到，运行一个处理器敏感的任务时可能会堵塞或者拖慢事件循环。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">退出事件循环</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">使用process.nextTick，可以把一个非关键性的任务推迟到事件循环的下一轮(tick)再执行，这样可以释放事件循环，让它可以继续执行其它挂起的事件。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">看下面例子，如果你打算删除一个临时文件，但是又不想让data事件的回调函数等待这个IO操作，你可以这样延迟它：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:235px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   stream.on(&quot;data&quot;, function(data) {<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            stream.end(&quot;my response&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            process.nextTick(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                     fs.unlink(&quot;/path/to/file&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            });</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   });<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">使用setTimeout替代setInterval来确保函数执行的串行性</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">假设，你打算设计一个叫my_async_function的函数，它可以做某些I/O操作（比如解析日志文件）的函数，并打算让它周期性执行，你可以用setInterval这样实现它：</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:235px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   var interval = 1000;<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   setInterval(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            my_async_function(function() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                     console.log('my_async_function finished!');</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            });</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   },interval);//译者注：前面“,interval”是我添加的，作者应该是笔误遗漏了<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">你必须能确保这些函数不会被同时执行，但是如果使用setinterval你无法保证这一点，假如my_async_function函数运行的时间比interval变量多了一毫秒，它们就会被同时执行，而不是按次序串行执行。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">译者注：（下面粗体部分为译者添加，非原书内容）</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;">为了方便理解这部分内容，可以修改下作者的代码，让它可以实际运行：</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:305px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                   var interval = 1000;<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   setInterval(function(){</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            (function my_async_function(){</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                      setTimeout(function(){</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                              console.log(&quot;1&quot;);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                      },5000);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                           })();</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   },interval);<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:75px;"> 运行下这段代码看看，你会发现，等待5秒钟后，“hello ”被每隔1秒输出一次。而我们期望是，当前my_async_function执行完毕（耗费5秒）后，等待1秒再执行下一个my_async_function，每次输出之间应该间隔6秒才对。造成这种结果，是因为my_async_function不是串行执行的，而是多个在同时运行。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:75px;"> 因此，你需要一种办法来强制使一个my_async_function执行结束到下个my_async_function开始执行之间的间隔时间正好是interval变量指定的时间。你可以这样做：<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 </p><div style="border-right-width:1px;margin:3px auto 0px;line-height:180%;font-size:14px;width:640px;clear:both;border-top-color:rgb(0, 153, 204);border-right-color:rgb(0, 153, 204);border-left-color:rgb(0, 153, 204);border-top-width:1px;padding:0px 3px;border-left-width:1px;border-top-style:solid;border-right-style:solid;border-left-style:solid;background:rgb(242, 246, 251);border:;background-color:rgb(242, 246, 251);background-image:none;box-shadow:none;height:25px;"><span style="line-height:180%;font-size:12px;float:right;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:48px;height:21px;"><a style="color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><u style="border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">复制代码</u></a></span> 代码如下:</div><div style="clear:both;margin:0px auto 3px;line-height:180%;font-size:14px;border:1px solid rgb(0, 153, 204);width:638px;padding:0px 3px 0px 5px;background:rgb(221, 237, 251);background-color:rgb(221, 237, 251);background-image:none;box-shadow:none;height:365px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
                    var interval = 1000; // 1 秒<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                   (function schedule() {      //第3行</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            setTimeout(function do_it() {</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                     my_async_function(function() {      //第5行</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                               console.log('async is done!');</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                               schedule();</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                                     });</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:25px;">                            }, interval);</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:638px;height:50px;">                   }());        //第10行<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
 </p></div><p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:0px;"></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:100px;">前面代码里，声明了一个叫schedule的函数（第3行），并且在声明后立刻调用它（第10行），schedule函数会在1秒（由interval指定）后运行do_it函数。1秒钟过后，第5行的my_async_function函数会被调用，当它执行完毕后，会调用它自己的那个匿名回调函数（第6行），而这个匿名回调函数又会再次重置do_it的执行计划，让它1秒钟后重新执行，这样代码就开始串行地不断循环执行了。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">小结</strong></p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">可以用setTimeout()函数预先设定函数的执行计划，并用clearTimeout()函数取消它。还可以用setInterval()周期性的重复执行某个函数，相应的，可以使用clearInterval()取消这个重复执行计划。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:75px;">如果因为使用了一个处理器敏感的操作而堵塞了事件循环，那些原计划应该被执行的函数将会被延迟，甚至永远无法执行。所以不要在事件循环内使用CPU敏感的操作。还有，你可以使用process.nextTick()把函数的执行延迟到事件循环的下一轮。</p>
<p style="margin:0px;padding:5px 0px;font-size:14px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:660px;height:50px;">I/O和setInterval()一起使用时，你无法保证在任何时间点只有一个挂起的调用，但是，你可以使用递归函数和setTimeout()函数来回避这个棘手的问题。<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
</p>

</div>
<div style="border:0px none rgb(0, 0, 0);margin:0px;text-align:left;overflow:hidden;clear:both;padding:10px 20px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:648px;height:301px;">
<h4 style="border:0px none rgb(0, 102, 153);margin:0px;font-size:14px;font-weight:bold;color:rgb(0, 102, 153);padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:648px;">您可能感兴趣的文章:</h4><ul style="margin:0px;padding:0px;list-style:none;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:648px;height:280px;"><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/29855.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js 一个简单的页面输出实现代码">node.js 一个简单的页面输出实现代码</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/29865.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Node.js实战 建立简单的Web服务器">Node.js实战 建立简单的Web服务器</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/35380.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="分析Node.js connect ECONNREFUSED错误">分析Node.js connect ECONNREFUSED错误</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/50260.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="跟我学Nodejs（一）--- Node.js简介及安装开发环境">跟我学Nodejs（一）--- Node.js简介及安装开发环境</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/50668.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="NODE.JS加密模块CRYPTO常用方法介绍">NODE.JS加密模块CRYPTO常用方法介绍</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/50837.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Node.js（安装，启动，测试）">Node.js（安装，启动，测试）</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/52409.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="一行命令搞定node.js 版本升级">一行命令搞定node.js 版本升级</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/53811.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Node.js文件操作详解">Node.js文件操作详解</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/57874.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js+Ajax实现获取HTTP服务器返回数据">node.js+Ajax实现获取HTTP服务器返回数据</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;text-align:left;color:rgb(0, 102, 153);line-height:28px;font-size:14px;display:block;padding:0px;padding-left:20px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;height:28px;"><a href="http://www.jb51.net/article/85720.htm" style="color:rgb(0, 102, 153);text-decoration:none;font-size:14px;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js 动态执行脚本">node.js 动态执行脚本</a></li></ul>
</div>
<div style="margin:5px auto;padding:0px;width:680px;text-align:center;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;height:0px;"><span style="text-align:center;display:block;height:0px;overflow:hidden;visibility:hidden;">.</span>


<span style="text-align:center;display:block;height:0px;overflow:hidden;visibility:hidden;clear:both;">.</span></div>
<div style="margin:5px;padding:5px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:668px;height:0px;"></div>
<div style="line-height:24px;margin:0px auto;border:1px dashed rgb(202, 229, 255);border-image-source:none;width:600px;height:24px;text-align:left;padding:0px;background:rgb(255, 255, 255);padding-right:10px;padding-left:10px;background-color:rgb(255, 255, 255);background-image:none;box-shadow:none;">
<strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">Tags：</strong><a href="http://img.jb51.net/tag/Node.js/1.htm" style="color:rgb(51, 51, 51);text-decoration:none;margin-right:5px;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="搜索关于Node.js的文章">Node.js</a> <a href="http://img.jb51.net/tag/%BC%C6%CA%B1%C6%F7/1.htm" style="color:rgb(51, 51, 51);text-decoration:none;margin-right:5px;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="搜索关于计时器的文章">计时器</a> <a href="http://img.jb51.net/tag/%B6%A8%CA%B1%D6%B4%D0%D0/1.htm" style="color:rgb(51, 51, 51);text-decoration:none;margin-right:5px;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="搜索关于定时执行的文章">定时执行</a> 
</div>
<div style="border-bottom-color:rgb(188, 213, 229);margin:0px;height:319px;overflow:hidden;border-bottom-width:1px;border-bottom-style:solid;padding:0px;margin-top:5px;border:;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:688px;"><span style="display:block;height:0px;overflow:hidden;visibility:hidden;">.</span>
<h2 style="margin:0px;font-size:14px;font-weight:bold;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:rgb(59, 176, 219);color:rgb(0, 0, 0);padding:8px;overflow:hidden;background:rgb(246, 251, 255);border:;background-color:rgb(246, 251, 255);background-image:none;box-shadow:none;width:672px;">相关文章</h2>
<ul style="margin:0px;padding:0px 20px;list-style:none;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:648px;height:280px;"><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2015-05-05</span><a href="http://www.jb51.net/article/66847.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Nodejs实现批量下载妹纸图">Nodejs实现批量下载妹纸图</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-12-12</span><a href="http://www.jb51.net/article/58365.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js中的emitter.emit方法使用说明">node.js中的emitter.emit方法使用说明</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-12-12</span><a href="http://www.jb51.net/article/58550.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js中的fs.realpath方法使用说明">node.js中的fs.realpath方法使用说明</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2016-06-06</span><a href="http://www.jb51.net/article/86253.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Node.js中npm常用命令大全">Node.js中npm常用命令大全</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2016-01-01</span><a href="http://www.jb51.net/article/77809.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="基于Node.js的强大爬虫 能直接发布抓取的文章哦">基于Node.js的强大爬虫 能直接发布抓取的文章哦</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-12-12</span><a href="http://www.jb51.net/article/58294.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js中的events.EventEmitter.listenerCount方法使用说明">node.js中的events.EventEmitter.listenerCount方法使用说明</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-12-12</span><a href="http://www.jb51.net/article/58633.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="node.js中的fs.futimesSync方法使用说明">node.js中的fs.futimesSync方法使用说明</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-12-12</span><a href="http://www.jb51.net/article/58217.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Node.js实现的简易网页抓取功能示例">Node.js实现的简易网页抓取功能示例</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-12-12</span><a href="http://www.jb51.net/article/58819.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="NodeJS制作爬虫全过程">NodeJS制作爬虫全过程</a></li><li style="background:url(http://img.jb51.net/images/newsli.gif) 8px 50% no-repeat;margin:0px;height:28px;line-height:28px;overflow:hidden;font-size:14px;padding:0px;padding-left:20px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:url(http://img.jb51.net/images/newsli.gif);box-shadow:none;width:628px;"><span style="color:rgb(153, 153, 153);font-size:12px;margin-left:5px;float:right;border:0px none rgb(153, 153, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:64px;height:28px;">2014-08-08</span><a href="http://www.jb51.net/article/53813.htm" style="color:rgb(0, 102, 153);text-decoration:none;border:0px none rgb(0, 102, 153);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;" target="_blank" title="Node.js安装教程和NPM包管理器使用详解">Node.js安装教程和NPM包管理器使用详解</a></li></ul>
<span style="display:block;height:0px;overflow:hidden;visibility:hidden;clear:both;">.</span></div>
<div style="margin:5px auto;padding:0px;width:680px;text-align:center;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;height:0px;"><span style="text-align:center;display:block;height:0px;overflow:hidden;visibility:hidden;">.</span>


<span style="text-align:center;display:block;height:0px;overflow:hidden;visibility:hidden;clear:both;">.</span></div>
<a href="http://www.jb51.net/article/53778.htm#comments" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"></a>
<div style="border-bottom-color:rgb(188, 213, 229);margin:0px;height:372px;overflow:hidden;border-bottom-width:1px;border-bottom-style:solid;padding:0px;border:;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:688px;">
<h2 style="margin:0px;font-size:14px;font-weight:bold;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:rgb(59, 176, 219);color:rgb(0, 0, 0);padding:8px;overflow:hidden;background:rgb(246, 251, 255);border:;background-color:rgb(246, 251, 255);background-image:none;box-shadow:none;width:672px;">最新评论</h2>
<div style="margin:0px;padding:5px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:678px;height:323px;"><div style="height:323px;margin:0px;clear:both;overflow:visible;border:0px none rgb(51, 51, 51);font-weight:400;text-align:left;width:678px;padding:0px;font-family:宋体;font-size:12px;color:rgb(51, 51, 51);line-height:1;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><div style="overflow:visible;margin:0px;border:0px none rgb(51, 51, 51);font-weight:400;text-align:left;width:678px;height:323px;padding:0px;font-family:宋体;font-size:12px;color:rgb(51, 51, 51);line-height:1;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><div style="font-size:100%;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-weight:400;text-align:left;width:678px;height:323px;overflow:visible;font-family:宋体;padding:0px;color:rgb(51, 51, 51);line-height:1;background-color:rgba(0, 0, 0, 0);vertical-align:baseline;float:none;text-indent:0px;background-image:none;background-position:0px 0px;box-shadow:none;"><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:52px;">        <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;zoom:1;height:24px;background-color:rgba(0, 0, 0, 0);box-shadow:none;">
            <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:178.813px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:24px;">
                <div style="overflow:visible;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:178.813px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;line-height:24px;height:24px;font-family:微软雅黑, 宋体;background-color:rgba(0, 0, 0, 0);box-shadow:none;"><strong style="overflow:visible;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:auto;float:none;margin:0px;text-indent:0px;background-image:none;background-position:0px 0px;font-weight:400;display:inline;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);box-shadow:none;">评论</strong><span style="float:none;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:auto;margin:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);box-shadow:none;">(<em style="float:none;font-style:normal;margin:0px;padding:0px;border:0px none rgb(238, 84, 42);font-size:100%;text-align:left;vertical-align:baseline;width:auto;box-sizing:content-box;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;font-family:Georgia;color:rgb(238, 84, 42);background-color:rgba(0, 0, 0, 0);box-shadow:none;">0</em><span style="float:none;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:auto;margin:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;background-color:rgba(0, 0, 0, 0);box-shadow:none;">人参与</span><i style="width:auto;font-style:normal;margin:0px;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;box-sizing:content-box;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;background-color:rgba(0, 0, 0, 0);box-shadow:none;">，</i><em style="float:none;font-style:normal;margin:0px;padding:0px;border:0px none rgb(238, 84, 42);font-size:100%;text-align:left;vertical-align:baseline;width:auto;box-sizing:content-box;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;font-family:Georgia;color:rgb(238, 84, 42);background-color:rgba(0, 0, 0, 0);box-shadow:none;">0</em><span style="float:none;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:auto;margin:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;background-color:rgba(0, 0, 0, 0);box-shadow:none;">条评论</span>)</span></div>
            </div>
            <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:0px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;">
                
            </div>
        <span style="font-size:100%;text-align:left;text-indent:0px;display:block;visibility:hidden;height:0px;clear:both;">.</span></div>
        </div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;"></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:212px;"><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:177px;"><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:1px;padding:0px;overflow:hidden;text-indent:0px;background-image:none;background-position:0px 0px;height:1px;background-color:rgba(0, 0, 0, 0);box-shadow:none;"><img src="Node.js中使用计时器定时执行函数详解_node.js_脚本之家_files/vcode.jpg" type="image/jpeg" data-filename="vcode.jpg" height="1" style="overflow:visible;border:0px none rgba(0, 0, 0, 0);box-sizing:content-box;margin:0px;padding:0px;font-size:0px;text-align:left;width:1px;float:none;vertical-align:bottom;text-indent:0px;background-image:none;background-position:0px 0px;color:transparent;display:inline;visibility:hidden;height:1px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" width="1"/></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;zoom:1;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:176px;">
            <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:42px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:42px;">
                <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:42px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:42px;background-color:rgba(0, 0, 0, 0);box-shadow:none;">
                                        <a href="#" style="width:auto;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;background-color:rgba(0, 0, 0, 0);box-shadow:none;" target="_self"><img src="Node.js中使用计时器定时执行函数详解_node.js_脚本之家_files/pic42_null.gif" type="image/gif" data-filename="pic42_null.gif" alt="" height="42" style="overflow:visible;border:0px none rgba(0, 0, 0, 0);box-sizing:content-box;margin:0px;padding:0px;font-size:0px;text-align:left;width:42px;float:none;vertical-align:bottom;text-indent:0px;background-image:none;background-position:0px 0px;color:transparent;display:inline;height:42px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" width="42"/></a>
                    </div>
                
            </div>
        <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:616px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:124px;"><div style="overflow:visible;margin:0px;box-sizing:content-box;border:2px solid rgb(204, 212, 217);font-size:100%;text-align:left;vertical-align:baseline;width:612px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;display:block;zoom:1;border-radius:3px;background-color:rgb(255, 255, 255);box-shadow:none;height:115px;"><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:612px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:75px;"><div style="overflow:visible;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:605px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;z-index:9;background-color:rgb(255, 255, 255);position:relative;zoom:1;box-shadow:none;height:68px;"></div></div><div style="text-indent:0px;margin:0px;box-sizing:content-box;border:;font-size:100%;text-align:left;vertical-align:baseline;width:612px;float:none;overflow:visible;padding:0px;background-image:none;background-position:0px 0px;zoom:1;height:39px;border-top-width:1px;border-top-style:solid;border-top-color:rgb(230, 234, 237);background-color:rgb(250, 250, 250);box-shadow:none;"><div style="overflow:visible;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:82px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;position:relative;z-index:12;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:39px;"><ul style="float:none;margin:0px;list-style:none;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:82px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;zoom:1;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:39px;"><li style="text-indent:0px;margin:0px;box-sizing:content-box;clear:none;border:;font-size:100%;text-align:left;vertical-align:baseline;width:40px;float:none;overflow:visible;padding:0px;background-image:none;background-position:0px 0px;list-style:none;display:list-item;height:39px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(230, 234, 237);background-color:rgba(0, 0, 0, 0);box-shadow:none;"><a href="#" style="width:19px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:19px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" title="表情"><i style="overflow:visible;font-style:normal;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;width:19px;float:none;box-sizing:content-box;text-indent:0px;background-image:url(http://changyan.itc.cn/v2.5/v20160405176/src/css/imgs/p-merage-20140113.png);background-position:-25px 0px;display:inline;height:19px;cursor:pointer;background-repeat:no-repeat;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></i></a></li><li style="text-indent:0px;margin:0px;box-sizing:content-box;clear:none;border:;font-size:100%;text-align:left;vertical-align:baseline;width:40px;float:none;overflow:visible;padding:0px;background-image:none;background-position:0px 0px;list-style:none;display:list-item;height:39px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(230, 234, 237);background-color:rgba(0, 0, 0, 0);box-shadow:none;"><a href="#" style="width:20px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:19px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" title="上传图片"><i style="overflow:visible;font-style:normal;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;width:20px;float:none;box-sizing:content-box;text-indent:0px;background-image:url(http://changyan.itc.cn/v2.5/v20160405176/src/css/imgs/p-merage-20140113.png);background-position:-50px 0px;display:inline;height:19px;cursor:pointer;background-repeat:no-repeat;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></i></a><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:40px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:39px;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></div><div style="overflow:visible;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:40px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;height:40px;margin-top:-40px;z-index:-1;position:relative;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></div></li><span style="list-style:none;font-size:100%;text-align:left;text-indent:0px;display:block;visibility:hidden;height:0px;clear:both;">.</span></ul></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:88px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;zoom:1;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:39px;"><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:88px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:39px;background-color:rgba(0, 0, 0, 0);text-decoration:none;box-shadow:none;"><a href="#" style="width:88px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;background-color:rgba(0, 0, 0, 0);float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:39px;text-decoration:none;box-shadow:none;"></a></div><span style="font-size:100%;text-align:left;text-indent:0px;display:block;visibility:hidden;height:0px;clear:both;">.</span></div><span style="font-size:100%;text-align:left;text-indent:0px;display:block;visibility:hidden;height:0px;clear:both;">.</span></div></div>
                                    <div style="overflow:visible;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:616px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;display:block;zoom:1;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;">
                <ul style="float:none;margin:0px;list-style:none;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:524px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;zoom:1;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:52px;">
                                                            <li style="float:none;margin:0px;box-sizing:content-box;clear:none;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:119px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;list-style:none;display:block;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:42px;">
                        <div style="float:none;margin:0px;box-sizing:content-box;border:1px solid rgb(204, 212, 217);font-size:100%;text-align:left;vertical-align:baseline;width:117px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:40px;background-color:rgb(255, 255, 255);box-shadow:none;">
                            <a href="#" style="width:107px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:30px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" target="_self" title="新浪微博">
                                <span style="overflow:visible;box-sizing:content-box;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;width:30px;float:none;margin:0px;text-indent:0px;background-image:url(http://changyan.itc.cn/v2.5/v20160405176/src/css/imgs/p-merage-20140113.png);background-position:-35px -125px;display:inline;height:30px;cursor:pointer;background-repeat:no-repeat;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></span><span style="text-indent:0px;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:72px;float:none;overflow:visible;margin:0px;background-image:none;background-position:0px 0px;display:inline;line-height:16px;cursor:pointer;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);box-shadow:none;height:16px;">微博登录</span>
                            </a>
                        </div>
                    </li>
                                        <li style="float:none;margin:0px;box-sizing:content-box;clear:none;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:119px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;list-style:none;display:block;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:42px;">
                        <div style="float:none;margin:0px;box-sizing:content-box;border:1px solid rgb(204, 212, 217);font-size:100%;text-align:left;vertical-align:baseline;width:117px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:40px;background-color:rgb(255, 255, 255);box-shadow:none;">
                            <a href="#" style="width:107px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:30px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" target="_self" title="QQ">
                                <span style="overflow:visible;box-sizing:content-box;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;width:30px;float:none;margin:0px;text-indent:0px;background-image:url(http://changyan.itc.cn/v2.5/v20160405176/src/css/imgs/p-merage-20140113.png);background-position:-70px -125px;display:inline;height:30px;cursor:pointer;background-repeat:no-repeat;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></span><span style="text-indent:0px;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:72px;float:none;overflow:visible;margin:0px;background-image:none;background-position:0px 0px;display:inline;line-height:16px;cursor:pointer;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);box-shadow:none;height:16px;">QQ登录</span>
                            </a>
                        </div>
                    </li>
                                        <li style="float:none;margin:0px;box-sizing:content-box;clear:none;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:119px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;list-style:none;display:list-item;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:42px;">
                        <div style="float:none;margin:0px;box-sizing:content-box;border:1px solid rgb(204, 212, 217);font-size:100%;text-align:left;vertical-align:baseline;width:117px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:40px;background-color:rgb(255, 255, 255);box-shadow:none;">
                            <a href="#" style="width:107px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:30px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" target="_self" title="">
                                <span style="overflow:visible;box-sizing:content-box;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;width:30px;float:none;margin:0px;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:30px;cursor:pointer;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></span><span style="text-indent:0px;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:72px;float:none;overflow:visible;margin:0px;background-image:none;background-position:0px 0px;display:inline;line-height:16px;cursor:pointer;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;"></span>
                            </a>
                        </div>
                    </li>
                                        <li style="float:none;margin:0px;box-sizing:content-box;clear:none;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:119px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;list-style:none;display:list-item;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:42px;">
                        <div style="float:none;margin:0px;box-sizing:content-box;border:1px solid rgb(204, 212, 217);font-size:100%;text-align:left;vertical-align:baseline;width:117px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;height:40px;background-color:rgb(255, 255, 255);box-shadow:none;">
                            <a href="#" style="width:107px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;height:30px;background-color:rgba(0, 0, 0, 0);box-shadow:none;" target="_self">
                                <span style="overflow:visible;box-sizing:content-box;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;text-align:left;vertical-align:baseline;width:30px;float:none;margin:0px;text-indent:0px;background-image:url(http://changyan.itc.cn/v2.5/v20160405176/src/css/imgs/phone-ico.jpg);background-position:0px 0px;display:inline;height:30px;cursor:pointer;background-repeat:no-repeat;background-color:rgba(0, 0, 0, 0);box-shadow:none;"></span><span style="text-indent:0px;box-sizing:content-box;padding:0px;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:72px;float:none;overflow:visible;margin:0px;background-image:none;background-position:0px 0px;display:inline;line-height:16px;cursor:pointer;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);box-shadow:none;height:16px;">手机登录</span>
                            </a>
                        </div>
                    </li>
                    <span style="list-style:none;font-size:100%;text-align:left;text-indent:0px;display:block;visibility:hidden;height:0px;clear:both;">.</span></ul>
            </div>
            </div><span style="font-size:100%;text-align:left;text-indent:0px;display:block;visibility:hidden;height:0px;clear:both;">.</span></div></div></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;"></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:33px;">
        <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:33px;">
            <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:33px;">
                <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:33px;"><span style="overflow:visible;box-sizing:content-box;padding:0px;border:0px none rgb(0, 144, 235);font-size:100%;text-align:left;vertical-align:baseline;width:678px;float:none;margin:0px;text-indent:0px;background-image:none;background-position:0px 0px;display:inline;line-height:16px;color:rgb(0, 144, 235);background-color:rgb(236, 248, 255);box-shadow:none;height:16px;">还没有评论，快来抢沙发吧！</span></div>
            </div>
        </div></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;"></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;"></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;text-align:left;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);box-shadow:none;height:0px;"></div><div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;box-shadow:none;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);display:block;text-align:right;height:51px;">        <div style="float:none;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;box-shadow:none;vertical-align:baseline;width:678px;padding:0px;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);display:block;text-align:right;height:51px;">
            <div style="overflow:visible;margin:0px;box-sizing:content-box;border:0px none rgb(51, 51, 51);font-size:100%;box-shadow:none;vertical-align:baseline;width:678px;float:none;padding:0px;text-indent:0px;background-image:none;background-position:0px 0px;line-height:16px;background-color:rgba(0, 0, 0, 0);display:block;text-align:right;height:16px;"><a href="http://changyan.sohu.com/?from=changyan" style="width:90px;color:rgb(51, 51, 51);box-sizing:content-box;margin:0px;padding:0px;border:0px none rgb(68, 112, 142);font-size:100%;box-shadow:none;vertical-align:baseline;text-decoration:none;float:none;overflow:visible;text-indent:0px;background-image:none;background-position:0px 0px;background-color:rgba(0, 0, 0, 0);display:inline-block;text-align:right;height:16px;" target="_blank">Powered by 畅言</a></div>
        </div></div></div></div></div></div>
</div>
      </div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 