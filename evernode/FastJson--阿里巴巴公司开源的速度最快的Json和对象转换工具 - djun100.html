<html>
<head>
  <title>FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100的专栏 - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="8183"/>
<h1>FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100的专栏 - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/10/15 22:59</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/djun100/article/details/24237371"><i>http://blog.csdn.net/djun100/article/details/24237371</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background:url(http://static.blog.csdn.net/skin/light_blue/images/body_bg.jpg) 50% 0% repeat-x;padding-bottom:initial;"><div style="background:url(http://static.blog.csdn.net/skin/light_blue/images/head_bg.jpg) 50% -25px no-repeat;"><div style="text-align:left;"><div style="overflow:hidden;"><div style="background:rgb(255, 255, 255);"><div>
    <div style="display:block;margin:5px 0px;color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';">   
         <span style="display:inline-block;width:19px;height:19px;margin:0px 2px 0px 0px;vertical-align:middle;background:url(http://static.blog.csdn.net/images/ico_Repost.gif) 0px 0px no-repeat;"></span>


    <h1 style="font-weight:normal;margin:0px;padding:0px;font-style:normal;font-variant:normal;display:inline;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';vertical-align:middle;">
        <span><a href="http://blog.csdn.net/djun100/article/details/24237371" style="text-decoration:none;color:rgb(51, 51, 51);">
        FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具            
        </a></span>
    </h1>
<span style="color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

   

    <div style="padding:5px 0px;color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:24px;font-family:Arial;text-align:right;">
        <span style="margin:0px 5px;float:left;">
        分类：
            <a href="http://blog.csdn.net/djun100/article/category/1491483" style="color:rgb(255, 153, 0);text-decoration:none;">Java</a> 
        </span>
    <span style="margin:0px 5px 0px 0px;">2014-04-21 11:00</span>
    <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_view.png) 0% 50% no-repeat;" title="阅读次数">9836人阅读</span>
    <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_comm.png) 0% 50% no-repeat;" title="评论次数"><a href="http://blog.csdn.net/djun100/article/details/24237371#comments" style="color:rgb(255, 153, 0);text-decoration:none;">评论</a>(0)</span>
    <span style="margin:0px 5px;"><a href="#" style="color:rgb(255, 153, 0);text-decoration:none;" title="收藏">收藏</a></span>
    <span style="margin:0px 5px;"><a href="http://blog.csdn.net/djun100/article/details/24237371#report" style="color:rgb(255, 153, 0);text-decoration:none;" title="举报">举报</a></span>
    
</div>

  

  
  
     

<div style="margin:20px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:26px;font-family:Arial;">

<div style="top:0px;">﻿﻿</div>
<p style="margin:0px;padding:0px;">这是关于FastJson的一个使用Demo，在Java环境下验证的</p>
<p style="margin:0px;padding:0px;"></p><div><div><div><b>[java]</b> <a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="view plain">view plain</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="copy">copy</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="print">print</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="?">?</a><a href="https://code.csdn.net/snippets/303896" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="在CODE上查看代码片"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/CODE_ico.png" type="image/png" data-filename="CODE_ico.png" alt="在CODE上查看代码片" height="12" style="border:none;max-width:100%;position:relative;top:1px;left:2px;" width="12"/></a><a href="https://code.csdn.net/snippets/303896/fork" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="派生到我的代码片"><a href="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/ico_fork.svg"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/3298bb5f188cbaeed9056283e6db64e0.png" alt="ico_fork.svg"></a></a><div style="position:absolute;left:383px;top:450px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1"><li><span><span>class</span><span> User{  </span></span></li><li><span>    <span>private</span><span> </span><span>int</span><span> id;  </span></span></li><li><span>    <span>private</span><span> String name;  </span></span></li><li><span>    <span>public</span><span> </span><span>int</span><span> getId() {  </span></span></li><li><span>        <span>return</span><span> id;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setId(</span><span>int</span><span> id) {  </span></span></li><li><span>        <span>this</span><span>.id = id;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> String getName() {  </span></span></li><li><span>        <span>return</span><span> name;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setName(String name) {  </span></span></li><li><span>        <span>this</span><span>.name = name;  </span></span></li><li><span>    }  </span></li><li><span>}  </span></li></ol></div><div><div><div><b>[java]</b> <a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="view plain">view plain</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="copy">copy</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="print">print</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="?">?</a><a href="https://code.csdn.net/snippets/303896" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="在CODE上查看代码片"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/CODE_ico [1].png" type="image/png" data-filename="CODE_ico.png" alt="在CODE上查看代码片" height="12" style="border:none;max-width:100%;position:relative;top:1px;left:2px;" width="12"/></a><a href="https://code.csdn.net/snippets/303896/fork" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="派生到我的代码片"><a href="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/ico_fork.svg"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/3298bb5f188cbaeed9056283e6db64e0.png" alt="ico_fork.svg"></a></a><div style="position:absolute;left:383px;top:777px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1"><li><span><span>import</span><span> java.util.ArrayList;  </span></span></li><li><span><span>import</span><span> java.util.List;  </span></span></li><li><span>  </span></li><li><span><span>class</span><span> Group{  </span></span></li><li><span>    <span>private</span><span> </span><span>int</span><span> id;  </span></span></li><li><span>    <span>private</span><span> String name;  </span></span></li><li><span>    <span>private</span><span> List&lt;User&gt; list = </span><span>new</span><span> ArrayList&lt;User&gt;();  </span></span></li><li><span>    <span>public</span><span> </span><span>int</span><span> getId() {  </span></span></li><li><span>        <span>return</span><span> id;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setId(</span><span>int</span><span> id) {  </span></span></li><li><span>        <span>this</span><span>.id = id;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> String getName() {  </span></span></li><li><span>        <span>return</span><span> name;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setName(String name) {  </span></span></li><li><span>        <span>this</span><span>.name = name;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> List&lt;User&gt; getList() {  </span></span></li><li><span>        <span>return</span><span> list;  </span></span></li><li><span>    }  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setList(List&lt;User&gt; list) {  </span></span></li><li><span>        <span>this</span><span>.list = list;  </span></span></li><li><span>    }  </span></li><li><span>}  </span></li></ol></div><div><div><div><b>[java]</b> <a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="view plain">view plain</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="copy">copy</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="print">print</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="?">?</a><a href="https://code.csdn.net/snippets/303896" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="在CODE上查看代码片"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/CODE_ico [2].png" type="image/png" data-filename="CODE_ico.png" alt="在CODE上查看代码片" height="12" style="border:none;max-width:100%;position:relative;top:1px;left:2px;" width="12"/></a><a href="https://code.csdn.net/snippets/303896/fork" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="派生到我的代码片"><a href="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/ico_fork.svg"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/3298bb5f188cbaeed9056283e6db64e0.png" alt="ico_fork.svg"></a></a><div style="position:absolute;left:383px;top:1278px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1"><li><span><span>class</span><span> Weibo {  </span></span></li><li><span>    <span>private</span><span> String id;  </span></span></li><li><span>    <span>private</span><span> String city;  </span></span></li><li><span>  </span></li><li><span>    <span>public</span><span> Weibo(String id, String city) {  </span></span></li><li><span>        <span>this</span><span>.id = id;  </span></span></li><li><span>        <span>this</span><span>.city = city;  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>public</span><span> Weibo() {  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>public</span><span> String getId() {  </span></span></li><li><span>        <span>return</span><span> id;  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setId(String id) {  </span></span></li><li><span>        <span>this</span><span>.id = id;  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>public</span><span> String getCity() {  </span></span></li><li><span>        <span>return</span><span> city;  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>public</span><span> </span><span>void</span><span> setCity(String city) {  </span></span></li><li><span>        <span>this</span><span>.city = city;  </span></span></li><li><span>    }  </span></li><li><span>}  </span></li></ol></div><div><div><div><b>[java]</b> <a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="view plain">view plain</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="copy">copy</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="print">print</a><a href="http://blog.csdn.net/djun100/article/details/24237371#" style="color:rgb(255, 153, 0);text-decoration:none;" title="?">?</a><a href="https://code.csdn.net/snippets/303896" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="在CODE上查看代码片"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/CODE_ico [3].png" type="image/png" data-filename="CODE_ico.png" alt="在CODE上查看代码片" height="12" style="border:none;max-width:100%;position:relative;top:1px;left:2px;" width="12"/></a><a href="https://code.csdn.net/snippets/303896/fork" style="color:rgb(255, 153, 0);text-decoration:none;text-indent:0;" target="_blank" title="派生到我的代码片"><a href="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/ico_fork.svg"><img src="FastJson--阿里巴巴公司开源的速度最快的Json和对象转换工具 - djun100_files/3298bb5f188cbaeed9056283e6db64e0.png" alt="ico_fork.svg"></a></a><div style="position:absolute;left:383px;top:1813px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1"><li><span><span>import</span><span> java.util.HashMap;  </span></span></li><li><span><span>import</span><span> java.util.List;  </span></span></li><li><span><span>import</span><span> java.util.Map;  </span></span></li><li><span>  </span></li><li><span><span>import</span><span> com.alibaba.fastjson.JSON;  </span></span></li><li><span><span>import</span><span> com.alibaba.fastjson.JSONArray;  </span></span></li><li><span><span>import</span><span> com.alibaba.fastjson.JSONObject;  </span></span></li><li><span>  </span></li><li><span><span>//下面是FastJson的简介：常用的方法！</span><span>  </span></span></li><li><span><span>//  Fastjson API入口类是com.alibaba.fastjson.JSON，常用的序列化操作都可以在JSON类上的静态方法直接完成。</span><span>  </span></span></li><li><span><span>//  public static final Object parse(String text); // 把JSON文本parse为JSONObject或者JSONArray </span><span>  </span></span></li><li><span><span>//  public static final JSONObject parseObject(String text)； // 把JSON文本parse成JSONObject    </span><span>  </span></span></li><li><span><span>//  public static final &lt;T&gt; T parseObject(String text, Class&lt;T&gt; clazz); // 把JSON文本parse为JavaBean </span><span>  </span></span></li><li><span><span>//  public static final JSONArray parseArray(String text); // 把JSON文本parse成JSONArray </span><span>  </span></span></li><li><span><span>//  public static final &lt;T&gt; List&lt;T&gt; parseArray(String text, Class&lt;T&gt; clazz); //把JSON文本parse成JavaBean集合 </span><span>  </span></span></li><li><span><span>//  public static final String toJSONString(Object object); // 将JavaBean序列化为JSON文本 </span><span>  </span></span></li><li><span><span>//  public static final String toJSONString(Object object, boolean prettyFormat); // 将JavaBean序列化为带格式的JSON文本 </span><span>  </span></span></li><li><span><span>//  public static final Object toJSON(Object javaObject); 将JavaBean转换为JSONObject或者JSONArray（和上面方法的区别是返回值是不一样的）</span><span>  </span></span></li><li><span>  </span></li><li><span><span>/**</span> </span></li><li><span><span> * 这是关于FastJson的一个使用Demo，在Java环境下验证的；</span> </span></li><li><span><span> * 使用的时候可以参照这个例子进行回忆！</span> </span></li><li><span><span> * 备注：下面写的Json格式的数据&quot;前面的\，意思是告诉编译器忽略掉它后面的&quot;。</span> </span></li><li><span><span> * 后面定义有三个类：User、Group、Weibo</span> </span></li><li><span><span> * @author liuzhao</span> </span></li><li><span><span> */</span><span>  </span></span></li><li><span><span>public</span><span> </span><span>class</span><span> JsonDemo {  </span></span></li><li><span>  </span></li><li><span>    <span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> main(String[] args) {  </span></span></li><li><span>          </span></li><li><span>        json2JsonObjectM1();<span>//将Json文本数据信息转换为JsonObject对象，然后利用键值对的方式获取信息</span><span>  </span></span></li><li><span>        json2BeanM2();<span>//将Json文本数据转换为JavaBean数据！</span><span>  </span></span></li><li><span>        json2JSONArrayM3();<span>//将json数据转化为JSONArray: </span><span>  </span></span></li><li><span>        json2JavaBeanM4();<span>//将JSON文本转换为JavaBean的集合；转换为单纯的1个Object：parseObject(String text, Class&lt;T&gt; clazz); </span><span>  </span></span></li><li><span>        bean2JsonM5();<span>//将JavaBean转换为Json格式的数据/Json文本 用户数据的传递：例如上传服务器</span><span>  </span></span></li><li><span>        bean2JSONObjectM6();<span>//将JavaBean转换为JSON对象</span><span>  </span></span></li><li><span>        complexExampleM7();<span>//一个相对复杂的例子：</span><span>  </span></span></li><li><span>        complex2JsonM8();<span>//一个复杂的Object到Json的Demo</span><span>  </span></span></li><li><span>        complexMap2JsonM9();<span>//将Map数据转换为JsonString的Demo；这个对RedBoy服务端不就直接破了嘛！</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将Json文本数据信息转换为JsonObject对象，然后利用键值对的方式获取信息</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> json2JsonObjectM1() {  </span></span></li><li><span>        <span>//一个JsonObject文本数据</span><span>  </span></span></li><li><span>        String s = <span>&quot;{\&quot;name\&quot;:\&quot;liuzhao\&quot;}&quot;</span><span>;  </span></span></li><li><span>        <span>//将JsonObject数据转换为Json</span><span>  </span></span></li><li><span>        JSONObject object = JSON.parseObject(s);  </span></li><li><span>        <span>//利用键值对的方式获取到值</span><span>  </span></span></li><li><span>        System.out.println(object.get(<span>&quot;name&quot;</span><span>));  </span></span></li><li><span>        <span>/**</span> </span></li><li><span><span>         * 打印：</span> </span></li><li><span><span>         * liuzhao</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>      </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将Json文本数据转换为JavaBean数据！</span> </span></li><li><span><span>     * 需要注意的是：这时候的Json文本信息中的键的名称必须和JavaBean中的字段名称一样！键中没有的在这个JavaBean中就显示为null！</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> json2BeanM2() {  </span></span></li><li><span>        String s = <span>&quot;{\&quot;id\&quot;:\&quot;0375\&quot;,\&quot;city\&quot;:\&quot;平顶山\&quot;}&quot;</span><span>;  </span></span></li><li><span>        <span>//一个简单方便 的方法将Json文本信息转换为JsonObject对象的同时转换为JavaBean对象！</span><span>  </span></span></li><li><span>        Weibo weibo = JSON.parseObject(s, Weibo.<span>class</span><span>);</span><span>//Weibo类在下边定义</span><span>  </span></span></li><li><span>        System.out.println(weibo.getId());  </span></li><li><span>        System.out.println(weibo.getCity());  </span></li><li><span>        <span>//打印的结果     0375</span><span>  </span></span></li><li><span>        <span>//              平顶山</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将Map类型的数据转换为JsonString</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> complexMap2JsonM9() {  </span></span></li><li><span>        Group group = <span>new</span><span> Group();  </span></span></li><li><span>        group.setId(<span>1</span><span>);  </span></span></li><li><span>        group.setName(<span>&quot;group&quot;</span><span>);  </span></span></li><li><span>          </span></li><li><span>        User user1 = <span>new</span><span> User();  </span></span></li><li><span>        user1.setId(<span>2</span><span>);  </span></span></li><li><span>        user1.setName(<span>&quot;user1&quot;</span><span>);  </span></span></li><li><span>  </span></li><li><span>        User user2 = <span>new</span><span> User();  </span></span></li><li><span>        user2.setId(<span>3</span><span>);  </span></span></li><li><span>        user2.setName(<span>&quot;user2&quot;</span><span>);  </span></span></li><li><span>        group.getList().add(user1);  </span></li><li><span>        group.getList().add(user2);  </span></li><li><span>          </span></li><li><span>        Map&lt;Integer, Object&gt; map = <span>new</span><span> HashMap&lt;Integer,Object&gt;();  </span></span></li><li><span>        map.put(<span>1</span><span>, </span><span>&quot;No.1&quot;</span><span>);  </span></span></li><li><span>        map.put(<span>2</span><span>, </span><span>&quot;No.2&quot;</span><span>);  </span></span></li><li><span>        map.put(<span>3</span><span>, group.getList());  </span></span></li><li><span>          </span></li><li><span>        String jsonString = JSON.toJSONString(map);  </span></li><li><span>        System.out.println(jsonString);  </span></li><li><span>        <span>/**</span> </span></li><li><span><span>         *  输出：{1:&quot;No.1&quot;,2:&quot;No.2&quot;,3:[{&quot;id&quot;:2,&quot;name&quot;:&quot;user1&quot;},{&quot;id&quot;:3,&quot;name&quot;:&quot;user2&quot;}]}</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 由一个复杂的Object到Json的Demo</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> complex2JsonM8() {  </span></span></li><li><span>        Group group = <span>new</span><span> Group();  </span></span></li><li><span>        group.setId(<span>1</span><span>);  </span></span></li><li><span>        group.setName(<span>&quot;group&quot;</span><span>);  </span></span></li><li><span>          </span></li><li><span>        User user1 = <span>new</span><span> User();  </span></span></li><li><span>        user1.setId(<span>2</span><span>);  </span></span></li><li><span>        user1.setName(<span>&quot;user1&quot;</span><span>);  </span></span></li><li><span>  </span></li><li><span>        User user2 = <span>new</span><span> User();  </span></span></li><li><span>        user2.setId(<span>3</span><span>);  </span></span></li><li><span>        user2.setName(<span>&quot;user2&quot;</span><span>);  </span></span></li><li><span>        group.getList().add(user1);  </span></li><li><span>        group.getList().add(user2);  </span></li><li><span>        String jsonString = JSON.toJSONString(group);  </span></li><li><span>        System.out.println(jsonString);  </span></li><li><span>        <span>/**</span> </span></li><li><span><span>         *  输出：{&quot;id&quot;:1,&quot;list&quot;:[{&quot;id&quot;:2,&quot;name&quot;:&quot;user1&quot;},{&quot;id&quot;:3,&quot;name&quot;:&quot;user2&quot;}],&quot;name&quot;:&quot;group&quot;}</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 一个相对复杂的例子：</span> </span></li><li><span><span>     * JSON文本数据：</span> </span></li><li><span><span>     *      首先是JSONObject，转换为JSONArray；</span> </span></li><li><span><span>     *      然后将JSONArray转换为JavaBean</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> complexExampleM7() {  </span></span></li><li><span>        String s = <span>&quot;{js:[{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;北#001京市\&quot;},{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;北#002京市\&quot;}&quot;</span><span>  </span></span></li><li><span>                + <span>&quot;,{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;北#002京市\&quot;},{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;北#002京市\&quot;},&quot;</span><span>  </span></span></li><li><span>                + <span>&quot;{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;#006北#005京市\&quot;},&quot;</span><span>  </span></span></li><li><span>                + <span>&quot;{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;北#002京市\&quot;},&quot;</span><span>  </span></span></li><li><span>                + <span>&quot;{id:\&quot;110000\&quot;,\&quot;city\&quot;:\&quot;北#002京市\&quot;},{id:\&quot;120000\&quot;,\&quot;city\&quot;:\&quot;天#009津市\&quot;}]}&quot;</span><span>;  </span></span></li><li><span>          </span></li><li><span>        JSONObject object = JSON.parseObject(s);  </span></li><li><span>        Object jsonArray = object.get(<span>&quot;js&quot;</span><span>);  </span></span></li><li><span>        System.out.println(jsonArray);  </span></li><li><span>        List&lt;Weibo&gt; list = JSON.parseArray(jsonArray+<span>&quot;&quot;</span><span>, Weibo.</span><span>class</span><span>);  </span></span></li><li><span>        <span>for</span><span> (Weibo weibo : list) {  </span></span></li><li><span>            System.out.println(weibo.getCity());  </span></li><li><span>        }  </span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将JavaBean转换为JSON对象</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> bean2JSONObjectM6() {  </span></span></li><li><span>        Weibo weibo = <span>new</span><span> Weibo(</span><span>&quot;0373&quot;</span><span>, </span><span>&quot;洛阳&quot;</span><span>);  </span></span></li><li><span>        JSONObject json = (JSONObject) JSON.toJSON(weibo);  </span></li><li><span>        System.out.println(json.get(<span>&quot;id&quot;</span><span>));  </span></span></li><li><span>        <span>/**</span> </span></li><li><span><span>         * 打印：</span> </span></li><li><span><span>         * 0373</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将JSON文本转换为JavaBean的集合；</span> </span></li><li><span><span>     * 内部实现肯定是：首先转换为JSONArray，然后再转换为List集合</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> json2JavaBeanM4() {  </span></span></li><li><span>        String s = <span>&quot;[{\&quot;id\&quot;:\&quot;0375\&quot;,\&quot;city\&quot;:\&quot;平顶山\&quot;},{\&quot;id\&quot;:\&quot;0377\&quot;,\&quot;city\&quot;:\&quot;南阳\&quot;}]&quot;</span><span>;  </span></span></li><li><span>        List&lt;Weibo&gt; list = JSON.parseArray(s, Weibo.<span>class</span><span>);  </span></span></li><li><span>        <span>for</span><span> (Weibo weibo : list) {  </span></span></li><li><span>            System.out.println(weibo.getCity());  </span></li><li><span>        }  </span></li><li><span>        <span>/**</span> </span></li><li><span><span>         * 打印：</span> </span></li><li><span><span>         * 平顶山</span> </span></li><li><span><span>         * 南阳</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将json数据转化为JSONArray:</span> </span></li><li><span><span>     * 注意：获取到JSONArray之后（我们这里只是获取到JSONArray而不是JavaBean的List集合）</span> </span></li><li><span><span>     * 获取JSONArray中的数据转换为String类型需要在外边加&quot;&quot;;</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> json2JSONArrayM3() {  </span></span></li><li><span>        String s = <span>&quot;[{\&quot;id\&quot;:\&quot;0375\&quot;,\&quot;city\&quot;:\&quot;平顶山\&quot;},{\&quot;id\&quot;:\&quot;0377\&quot;,\&quot;city\&quot;:\&quot;南阳\&quot;}]&quot;</span><span>;  </span></span></li><li><span>        <span>//将JSON文本转换为JSONArray</span><span>  </span></span></li><li><span>        JSONArray array = JSON.parseArray(s);  </span></li><li><span>        <span>//这行必须写：必须加上+&quot;&quot;;不然会报出类型强转异常！</span><span>  </span></span></li><li><span>        String str = array.get(<span>1</span><span>)+</span><span>&quot;&quot;</span><span>;  </span></span></li><li><span>        System.out.println(array.get(<span>0</span><span>));  </span></span></li><li><span>        JSONObject object = JSON.parseObject(str);  </span></li><li><span>        System.out.println(object.get(<span>&quot;id&quot;</span><span>));  </span></span></li><li><span>        <span>/**</span> </span></li><li><span><span>         * {&quot;city&quot;:&quot;平顶山&quot;,&quot;id&quot;:&quot;0375&quot;}</span> </span></li><li><span><span>            0377</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>  </span></li><li><span>    <span>/**</span> </span></li><li><span><span>     * 将JavaBean转换为Json格式的数据/Json文本</span> </span></li><li><span><span>     * 用户数据的传递：例如上传服务器</span> </span></li><li><span><span>     */</span><span>  </span></span></li><li><span>    <span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> bean2JsonM5() {  </span></span></li><li><span>        Weibo weibo = <span>new</span><span> Weibo(</span><span>&quot;123456&quot;</span><span>, </span><span>&quot;上海&quot;</span><span>);  </span></span></li><li><span>        String string = JSON.toJSONString(weibo);  </span></li><li><span>        System.out.println(string);  </span></li><li><span>        <span>/**</span> </span></li><li><span><span>         * 打印：</span> </span></li><li><span><span>         * {&quot;city&quot;:&quot;上海&quot;,&quot;id&quot;:&quot;123456&quot;}</span> </span></li><li><span><span>         */</span><span>  </span></span></li><li><span>    }  </span></li><li><span>  </span></li><li><span>}  </span></li></ol></div><br/>
转自：<a href="http://www.oschina.net/code/snippet_228315_35122" style="color:rgb(255, 153, 0);text-decoration:none;" target="_blank">http://www.oschina.net/code/snippet_228315_35122</a><br/>
<br/>
<br/>
<p style="margin:0px;padding:0px;"></p>
    
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/djun100/article/details/24237371#" style="padding-left:17px;color:rgb(51, 51, 51);background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;background-position:0 0 !important;float:left;font-size:12px;text-decoration:none;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-repeat:no-repeat;"></a>
<a href="http://blog.csdn.net/djun100/article/details/24237371#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -52px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/djun100/article/details/24237371#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -104px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/djun100/article/details/24237371#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -260px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/djun100/article/details/24237371#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -208px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到人人网"></a>
<a href="http://blog.csdn.net/djun100/article/details/24237371#" style="height:16px;color:rgb(255, 153, 0);text-decoration:none;font-size:12px;padding-left:17px;line-height:16px;float:left;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;background-position:0 -1612px !important;" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   

    

<ul style="font-size:14px;display:block;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;color:rgb(102, 102, 102);line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;clear:both;float:left;margin:0px 0px 5px;padding:10px 0px 0px;">
            <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/light_blue/images/blog-page-arr.png);background-position:9px 8px;background-repeat:no-repeat;">上一篇</span><a href="http://blog.csdn.net/djun100/article/details/23762621" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">Android组件间通信库EventBus学习</a></li>
            <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/light_blue/images/blog-page-arr.png);background-position:9px -22px;background-repeat:no-repeat;">下一篇</span><a href="http://blog.csdn.net/djun100/article/details/24366845" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">Android类参考---Fragment（八）</a></li>
<span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;display:block;height:0px;clear:both;visibility:hidden;">.</span></ul>







 

      
</div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 