<html>
<head>
  <title>根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="8782"/>
<h1>根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/12/21 10:03</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.tuicool.com/articles/Mnu2iaa"><i>http://www.tuicool.com/articles/Mnu2iaa</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="font-size:14px;background-color:rgb(244, 246, 248);"><div style="font-family:'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif;font-size:1em;line-height:1.5em;color:rgb(51, 51, 51);background-color:rgb(244, 246, 248);box-shadow:none;"><div><div><div style="box-shadow:rgba(0, 0, 0, 0.0980392) 0px 4px 10px;background:white;box-sizing:border-box;background-color:rgb(254, 254, 254);">
        <h1 style="margin:0px 0px 0.5em;font-family:inherit;font-weight:normal;line-height:1.5em;color:inherit;text-rendering:optimizeLegibility;font-size:24px;margin-bottom:5px;">根据userAgent判断客户端是否手机、操作系统、浏览器等信息</h1>
        <div style="color:rgb(153, 153, 153);padding-bottom:8px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(211, 211, 211);font-size:14px;">
            <div style="margin-bottom:5px;">
            <span style="margin-right:5px;">时间 2014-11-25 11:13:31
            </span>
            <span style="margin-right:5px;">
                <i style="height:auto;font-family:FontAwesome;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;display:inline;width:auto;font-weight:normal;line-height:normal;vertical-align:baseline;margin-top:0px;background-image:none;background-position:0px 0px;background-repeat:repeat;margin-right:0px;"><span style="font-family:FontAwesome;font-weight:normal;font-style:normal;line-height:normal;text-decoration:inherit;display:inline-block;speak:none;"></span></i>
                    <a href="http://www.tuicool.com/sites/vQZRB3" style="text-decoration:none;transition:0.25s;outline:none 0px;overflow:hidden;white-space:nowrap;word-break:keep-all;text-overflow:ellipsis;max-width:28%;color:rgb(51, 51, 51);display:inline;" target="_blank">CSDN博客
                    </a>
            </span>
            </div>
            <div>
                <i style="font-style:normal;float:left;">原文</i>  
                <a href="http://blog.csdn.net/huangxiongbiao/article/details/41478235?utm_source=tuicool&amp;utm_medium=referral" style="color:rgb(51, 51, 51);text-decoration:none;transition:0.25s;outline:none 0px;overflow:hidden;white-space:nowrap;word-break:keep-all;text-overflow:ellipsis;max-width:69%;display:inline-block;">http://blog.csdn.net/huangxiongbiao/article/details/41478235</a>
            </div>
            <div>
                <span style="margin-right:5px;">主题</span>
                <a href="http://www.tuicool.com/topics/11000068" style="color:rgb(51, 51, 51);text-decoration:none;transition:0.25s;outline:none 0px;" target="_blank">
                    <span style="display:inline-block;padding:2px 4px;font-size:0.9em;line-height:16px;vertical-align:baseline;white-space:nowrap;color:rgb(120, 120, 120);text-decoration:none;background-color:rgb(242, 242, 242);margin-right:5px;">操作系统</span>
                </a>
            </div>
        </div>
        <div style="padding:20px 5px 25px;margin-bottom:0px;overflow-x:hidden;word-wrap:break-word;word-break:break-all;min-height:340px;font-size:16px;line-height:1.7em;">
            <div style="font-size:16px;line-height:1.7em;"> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span>User Agent中文名为用户代理，是Http协议中的一部分，属于头域的组成部分，User Agent也简称UA。它是一个特殊字符串头，是一种向访问网站提供你所使用的浏览器类型及版本、操作系统及版本、浏览器内核、等信息的标识。通过这个标识，用户所访问的网站可以显示不同的排版从而为用户提供更好的体验或者进行信息统计；例如用手机访问谷歌和电脑访问是不一样的，这些是谷歌根据访问者的UA来判断的。UA可以进行伪装。</span> <a href="http://en.wikipedia.org/wiki/User_agent" rel="nofollow,noindex" style="transition:0.25s;outline:none 0px;color:rgb(148, 148, 148);text-decoration:none;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(148, 148, 148);font-style:italic;font-weight:bold;" target="_blank">(wiki)</a> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">分析浏览器的User-Agent 我们可以收集客户端相关信息：是否手机、操作系统、浏览器等信息。</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> 效果: <a href="http://1.billo.sinaapp.com/" rel="nofollow,noindex" style="transition:0.25s;outline:none 0px;color:rgb(148, 148, 148);text-decoration:none;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(148, 148, 148);font-style:italic;font-weight:bold;" target="_blank">http://1.billo.sinaapp.com/</a> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> 以下为获取 <span>json格式ua</span> <span>的函数</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">ua为字符串格式的 User-Agent 字段</p> 
 <pre style="line-height:1.5em;padding:0.5em;background-color:rgb(246, 246, 246);border-radius:4px;border:none;margin:0px 0px 0.75em;font-size:14px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;word-break:break-all;word-wrap:break-word;display:block;color:rgb(68, 68, 68);overflow-x:auto;white-space:pre;margin-bottom:1.5em;"><span style="color:rgb(51, 51, 51);font-weight:700;">import</span> urllib
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> urllib2
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> json
<span><span style="color:rgb(51, 51, 51);font-weight:700;">def</span> <span style="color:rgb(136, 0, 0);font-weight:bold;">getUA</span><span>(ua)</span>:</span>
	ua = urllib.quote(ua)
	url = <span style="color:rgb(136, 0, 0);">&quot;http://www.useragentstring.com/?uas=%s&amp;getJSON=all&quot;</span> %ua
	keys = {
			<span style="color:rgb(136, 0, 0);">&quot;Host&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;www.useragentstring.com&quot;</span>,
			<span style="color:rgb(136, 0, 0);">&quot;User-Agent&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Mozilla/5.0 (Windows NT 6.4; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0&quot;</span>
		}
	req = urllib2.Request(url)
	<span style="color:rgb(51, 51, 51);font-weight:700;">for</span> key <span style="color:rgb(51, 51, 51);font-weight:700;">in</span> keys:
		req.add_header(key,keys[key])
	j = urllib2.urlopen(req).read()
	j = json.loads(j)
<span style="color:rgb(51, 51, 51);font-weight:700;">return</span> j</pre> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> request.headers['User-Agent'] <span>可以返回 </span> User-Agent 的字符串 </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> 然后通过 <span>useragentstring</span> <span>这个网站的</span> <span>api</span> <span>可以获得一个解析后的</span> User-Agent的 <span>json</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span>识别是否为手机客户端的</span> 只要识别User-Agent中是否有 <span>&quot;Mobile&quot;</span> <span>字段即可</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span>系统</span> <span>识别</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">如果是windows系统，解析User-Agent得到的json中的os_name是windows是内核版本</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">目前主流的系统标识对应如下:</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">&quot;Windows NT 6.4&quot;:&quot;Windows 10&quot;,</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">&quot;Windows NT 6.3&quot;:&quot;Windows 8.1&quot;,</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">&quot;Windows NT 6.2&quot;:&quot;Windows 8&quot;,</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">&quot;Windows NT 6.0&quot;:&quot;Windows vista&quot;,</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">&quot;Windows NT 6.1&quot;:&quot;Windows 7&quot;,</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">&quot;Windows NT 5.1&quot;:&quot;Windows XP&quot;,</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">建立字典遍历这些标识便可</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">useragentstring返回的agent_name无法识别部分浏览器，只能显示内核</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">浏览器识别</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> IE <span>浏览器判断的标准是</span> <span>”MSIE“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span> UC <span>浏览器的判断标准是</span> <span>”UCWEB“</span> <span>字段</span> </span> <span>和</span> <span>”UCBrowser”</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> opera <span>浏览器的判断标准是</span> <span>“opera“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> 搜狗浏览器的判断标准是 <span>”SE“</span> <span>、</span> <span>”MetaSr“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span>搜狗手机浏览器的判断标准是</span> <span>”</span> <span>SogouMobileBrowser&quot;</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span> chrome <span>浏览器的判断标准是</span> </span> <span>“</span> <span>chrome</span> <span>“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span> Safari <span>浏览器的判断标准是</span> </span> <span>“</span> <span>safari</span> <span>“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span> Firefox <span>的判断标准是</span> </span> <span>“</span> <span>Firefox</span> <span>“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span> QQ <span>浏览器</span> </span> <span>包含</span> <span> ”TencentTraveler“ <span>或者</span> <span>”QQBrowser“</span> </span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> 360 <span>浏览器的判断标准是</span> <span>”360SE”</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> Theworld <span>浏览器的判断标准是</span> <span>”The world“</span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <span> 遨游浏览器的判断标准是 <span>”Maxthon“</span> </span> <span>字段</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> 下面建立一个字典存储主流浏览器类型 <span>:</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">Browser = {</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;SogouMobileBrowser&quot;:&quot; <span>搜狗手机浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;UCBrowser&quot;:&quot;UC <span>浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;UCWEB&quot;:&quot;UC <span>浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;Opera&quot;:&quot;Opera <span>浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;QQBrowser&quot;:&quot;QQ <span>浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;TencentTraveler&quot;:&quot;QQ <span>浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;MetaSr&quot;:&quot; <span>搜狗浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;360SE&quot;:&quot;360 <span>浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;The world&quot;:&quot; <span>世界之窗浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> &quot;Maxthon&quot;:&quot; <span>遨游浏览器</span> <span>&quot;,</span> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">}</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">遍历这些标识便可</p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">一个根据userAgent判断操作系统和浏览器类型的例子</p> 
 <pre style="line-height:1.5em;padding:0.5em;background-color:rgb(246, 246, 246);border-radius:4px;border:none;margin:0px 0px 0.75em;font-size:14px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;word-break:break-all;word-wrap:break-word;display:block;color:rgb(68, 68, 68);overflow-x:auto;white-space:pre;margin-bottom:1.5em;"><span style="color:rgb(136, 136, 136);">#coding:utf-8</span>
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> tornado.web
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> sys
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> urllib
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> urllib2
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> json
<span style="color:rgb(51, 51, 51);font-weight:700;">import</span> os.path
<span style="color:rgb(51, 51, 51);font-weight:700;">from</span> tornado.httpclient <span style="color:rgb(51, 51, 51);font-weight:700;">import</span> AsyncHTTPClient



<span><span style="color:rgb(51, 51, 51);font-weight:700;">class</span> <span style="color:rgb(136, 0, 0);font-weight:bold;">WelcomeHandler</span><span>(tornado.web.RequestHandler)</span>:</span>
	<span><span style="color:rgb(51, 51, 51);font-weight:700;">def</span> <span style="color:rgb(136, 0, 0);font-weight:bold;">get</span><span>(self)</span>:</span>
		ua = self.request.headers[<span style="color:rgb(136, 0, 0);">'User-Agent'</span>]
		isMobile = <span style="color:rgb(136, 0, 0);">&quot;你不是手机客户端&quot;</span> <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> ua.find(<span style="color:rgb(136, 0, 0);">&quot;Mobile&quot;</span>) == <span style="color:rgb(136, 0, 0);">-1</span> <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> <span style="color:rgb(136, 0, 0);">&quot;你是手机客户端&quot;</span>
		uainfor = self.getUA(ua)
		self.render(<span style="color:rgb(136, 0, 0);">'index.html'</span>,
					user=self.current_user,
					head=self.request.headers[<span style="color:rgb(136, 0, 0);">'User-Agent'</span>],
					h=isMobile,
					ua=uainfor
					)
	<span><span style="color:rgb(51, 51, 51);font-weight:700;">def</span> <span style="color:rgb(136, 0, 0);font-weight:bold;">getUA</span><span>(self, ua)</span>:</span>
		ua_url = urllib.quote(ua) <span style="color:rgb(136, 136, 136);"># 转url编码</span>
		url = <span style="color:rgb(136, 0, 0);">&quot;http://www.useragentstring.com/?uas=%s&amp;getJSON=all&quot;</span> % ua_url
		keys = {
				<span style="color:rgb(136, 0, 0);">&quot;Host&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;www.useragentstring.com&quot;</span>,
				<span style="color:rgb(136, 0, 0);">&quot;User-Agent&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Mozilla/5.0 (Windows NT 6.4; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0&quot;</span>
			}
		req = urllib2.Request(url)
		<span style="color:rgb(51, 51, 51);font-weight:700;">for</span> key <span style="color:rgb(51, 51, 51);font-weight:700;">in</span> keys:
			req.add_header(key,keys[key])
		j = urllib2.urlopen(req).read()
		j = json.loads(j)
		Windows = {
		<span style="color:rgb(136, 0, 0);">&quot;Windows NT 6.4&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Windows 10&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Windows NT 6.3&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Windows 8.1&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Windows NT 6.2&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Windows 8&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Windows NT 6.0&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Windows 8&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Windows NT 6.1&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Windows 7&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Windows NT 5.1&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Windows XP&quot;</span>,
		}
		Browser = {
		<span style="color:rgb(136, 0, 0);">&quot;SogouMobileBrowser&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;搜狗手机浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;UCBrowser&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;UC浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;UCWEB&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;UC浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Opera&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;Opera浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;QQBrowser&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;QQ浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;TencentTraveler&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;QQ浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;MetaSr&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;搜狗浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;360SE&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;360浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;The world&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;世界之窗浏览器&quot;</span>,
		<span style="color:rgb(136, 0, 0);">&quot;Maxthon&quot;</span>:<span style="color:rgb(136, 0, 0);">&quot;遨游浏览器&quot;</span>,
		}
		<span style="color:rgb(51, 51, 51);font-weight:700;">for</span> name <span style="color:rgb(51, 51, 51);font-weight:700;">in</span> Windows:
			<span style="color:rgb(51, 51, 51);font-weight:700;">if</span> ua.find(name) != <span style="color:rgb(136, 0, 0);">-1</span>:
				j[<span style="color:rgb(136, 0, 0);">&quot;os_name&quot;</span>] = Windows[name]
		<span style="color:rgb(51, 51, 51);font-weight:700;">for</span> name <span style="color:rgb(51, 51, 51);font-weight:700;">in</span> Browser:
			<span style="color:rgb(51, 51, 51);font-weight:700;">if</span> ua.find(name) != <span style="color:rgb(136, 0, 0);">-1</span>:
				j[<span style="color:rgb(136, 0, 0);">&quot;agent_name&quot;</span>] = Browser[name]
		<span style="color:rgb(51, 51, 51);font-weight:700;">return</span> j

settings = {
		<span style="color:rgb(136, 0, 0);">&quot;template_path&quot;</span>: os.path.join(os.path.dirname(__file__), <span style="color:rgb(136, 0, 0);">&quot;templates&quot;</span>),
		<span style="color:rgb(136, 0, 0);">&quot;debug&quot;</span>: <span style="color:rgb(51, 51, 51);font-weight:700;">True</span>,
}

<span style="color:rgb(136, 136, 136);"># application should be an instance of `tornado.web.Application`,</span>
<span style="color:rgb(136, 136, 136);"># and don't wrap it with `sae.create_wsgi_app`</span>
application = tornado.web.Application([
		(<span style="color:rgb(136, 0, 0);">r'/'</span>, WelcomeHandler),
	], **settings)</pre> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;">效果如下:</p> 
 <img src="根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷_files/fQviIrU.png!web.png" type="image/png" data-filename="fQviIrU.png!web.png" alt="" height="182" style="height:auto;max-width:96%;vertical-align:middle;border:0px none;margin:0px auto;text-align:center;display:block;margin-bottom:10px;" width="472"/> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <img src="根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷_files/zUR3Af.png!web.png" type="image/png" data-filename="zUR3Af.png!web.png" alt="" height="99" style="height:auto;max-width:96%;vertical-align:middle;border:0px none;margin:0px auto;text-align:center;display:block;margin-bottom:10px;" width="248"/> </p> 
 <p style="margin:0px 0px 0.75em;font-size:16px;line-height:1.7em;text-indent:1em;"> <img src="根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷_files/nqUNBj.png!web.png" type="image/png" data-filename="nqUNBj.png!web.png" alt="" height="129" style="height:auto;max-width:96%;vertical-align:middle;border:0px none;margin:0px auto;text-align:center;display:block;margin-bottom:10px;" width="378"/> </p> 
</div>
        </div>
        <div style="margin-bottom:10px;">
         <div style="width:70px;height:70px;margin:0px auto;">
    <div style="width:70px;height:70px;border-radius:50%;outline:none 0px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);text-align:center;vertical-align:middle;border:1px solid rgb(222, 222, 222);background:url(&quot;http://static0.tuicool.com/images/social_share.png&quot;) 0px -80px no-repeat;">  </div>

</div>
        
<div style="height:32px;margin-top:35px;margin-bottom:20px;">
    <div style="float:left;">
        <span style="margin-left:15px;color:rgb(120, 120, 120);vertical-align:middle;font-size:14px;margin-right:5px;">分享</span>
        
        
        
    </div>
    <div style="float:right;">
        
        
    </div>
</div>



            <div style="display:inline-block;text-align:center;margin:0px auto;width:620px;"><span style="text-align:center;display:table;line-height:0;"></span>
                    <a href="https://www.jiandaoyun.com/?f=tc" style="color:rgb(51, 51, 51);text-decoration:none;transition:0.25s;outline:none 0px;" target="_blank"></a>

            <span style="text-align:center;display:block;line-height:0;clear:both;height:0px;visibility:hidden;">.</span></div>
        </div>
        <div style="clear:both;">
              <div style="border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(227, 227, 227);color:rgb(0, 0, 0);font-size:18px;padding-bottom:5px;font-weight:bold;margin-left:6px;margin-right:6px;padding-left:5px;">
                <span style="text-decoration:none;display:inline-block;">推荐文章</span>
              </div>
          <ul style="padding:0px;margin:0px 0px 0.75em 25px;list-style-type:none;margin-left:5px;">
                <li style="line-height:1.5em;list-style-type:none;padding-top:4px;padding-bottom:4px;font-size:14px;padding-left:0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);">
                    1.<a href="http://www.tuicool.com/articles/iUfIzab" style="text-decoration:none;transition:0.25s;outline:none 0px;color:rgb(22, 160, 133);font-size:1.1em;" target="_blank" title="Python 3.6推出更好的词典，改进的Async I/O模块等诸多新功能">
                    Python 3.6推出更好的词典，改进的Async I/O模块等诸多新功能
                    </a>
                </li>
                <li style="line-height:1.5em;list-style-type:none;padding-top:4px;padding-bottom:4px;font-size:14px;padding-left:0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);">
                    2.<a href="http://www.tuicool.com/articles/VFviEvn" style="text-decoration:none;transition:0.25s;outline:none 0px;color:rgb(22, 160, 133);font-size:1.1em;" target="_blank" title="Python程序员都该用的一个库">
                    Python程序员都该用的一个库
                    </a>
                </li>
                <li style="line-height:1.5em;list-style-type:none;padding-top:4px;padding-bottom:4px;font-size:14px;padding-left:0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);">
                    3.<a href="http://www.tuicool.com/articles/EjueM3A" style="text-decoration:none;transition:0.25s;outline:none 0px;color:rgb(22, 160, 133);font-size:1.1em;" target="_blank" title="拥有属于自己的Python爬虫框架--练习编写多线程、协程爬虫框架！">
                    拥有属于自己的Python爬虫框架--练习编写多线程、协程爬虫框架！
                    </a>
                </li>
                <li style="line-height:1.5em;list-style-type:none;padding-top:4px;padding-bottom:4px;font-size:14px;padding-left:0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);">
                    4.<a href="http://www.tuicool.com/articles/QZB3EfR" style="text-decoration:none;transition:0.25s;outline:none 0px;color:rgb(22, 160, 133);font-size:1.1em;" target="_blank" title="编译还是解释？">
                    编译还是解释？
                    </a>
                </li>
                <li style="line-height:1.5em;list-style-type:none;padding-top:4px;padding-bottom:4px;font-size:14px;padding-left:0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);">
                    5.<a href="http://www.tuicool.com/articles/aaQJNvf" style="text-decoration:none;transition:0.25s;outline:none 0px;color:rgb(22, 160, 133);font-size:1.1em;" target="_blank" title="Python 开发微信公众号后台（二）">
                    Python 开发微信公众号后台（二）
                    </a>
                </li>
                <li style="line-height:1.5em;list-style-type:none;padding-top:4px;padding-bottom:4px;font-size:14px;padding-left:0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);">
                    6.<a href="http://www.tuicool.com/articles/fIN32yj" style="text-decoration:none;transition:0.25s;outline:none 0px;color:rgb(22, 160, 133);font-size:1.1em;" target="_blank" title="使用 Python 进行并发编程之 asyncio 篇（一）">
                    使用 Python 进行并发编程之 asyncio 篇（一）
                    </a>
                </li>
          </ul>
        </div>
        <div style="padding-left:5px;margin-bottom:10px;"> <div style="border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(227, 227, 227);color:rgb(0, 0, 0);font-size:18px;padding-bottom:5px;font-weight:bold;margin-left:6px;margin-right:6px;padding-left:5px;"> <span style="text-decoration:none;display:inline-block;">相关推刊</span></div><ul style="padding:0px;list-style-type:none;margin:0px 0px 0px 5px;width:auto;padding-top:3px;">          <li style="line-height:1.5em;list-style-type:none;float:left;margin:5px;border:1px solid rgb(221, 221, 221);width:166px;height:170px;padding:7px;background:rgb(247, 247, 247);">            <a href="http://www.tuicool.com/kans/2471534430" style="text-decoration:none;transition:0.25s;outline:none 0px;position:relative;color:rgb(0, 0, 0);text-align:center;display:block;margin-top:0px;" target="_blank">              <small style="font-size:85%;display:block;position:absolute;bottom:0px;width:100%;text-align:center;color:rgb(255, 255, 255);background:rgba(92, 92, 92, 0.8);">by yeyee</small>              <img src="根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷_files/default_kan_cover.png" type="image/png" data-filename="default_kan_cover.png" height="150" style="max-width:100%;vertical-align:middle;border:0px;width:165px;height:150px;" width="165"/>            </a>            <span style="font-size:13px;display:block;width:auto;margin-top:5px;">              <a href="http://www.tuicool.com/kans/2471534430" style="overflow:hidden;color:rgb(0, 0, 0);transition:0.25s;outline:none 0px;text-decoration:none;margin-left:5px;max-width:140px;white-space:nowrap;word-break:keep-all;text-overflow:ellipsis;display:inline-block;" target="_blank">《默认推刊》</a>              <i style="font-style:normal;float:right;margin-right:5px;font-weight:bold;color:rgb(153, 153, 153);">1</i>            </span>          </li>                  <li style="line-height:1.5em;list-style-type:none;float:left;margin:5px;border:1px solid rgb(221, 221, 221);width:166px;height:170px;padding:7px;background:rgb(247, 247, 247);">            <a href="http://www.tuicool.com/kans/1628175169" style="text-decoration:none;transition:0.25s;outline:none 0px;position:relative;color:rgb(0, 0, 0);text-align:center;display:block;margin-top:0px;" target="_blank">              <small style="font-size:85%;display:block;position:absolute;bottom:0px;width:100%;text-align:center;color:rgb(255, 255, 255);background:rgba(92, 92, 92, 0.8);">by lihuimail</small>              <img src="根据userAgent判断客户端是否手机、操作系统、浏览器等信息 - 推酷_files/jYzYBr2.png!kan.png" type="image/png" data-filename="jYzYBr2.png!kan.png" height="150" style="max-width:100%;vertical-align:middle;border:0px;width:165px;height:150px;" width="165"/>            </a>            <span style="font-size:13px;display:block;width:auto;margin-top:5px;">              <a href="http://www.tuicool.com/kans/1628175169" style="overflow:hidden;color:rgb(0, 0, 0);transition:0.25s;outline:none 0px;text-decoration:none;margin-left:5px;max-width:140px;white-space:nowrap;word-break:keep-all;text-overflow:ellipsis;display:inline-block;" target="_blank">《PYTHON》</a>              <i style="font-style:normal;float:right;margin-right:5px;font-weight:bold;color:rgb(153, 153, 153);">13119</i>            </span>          </li>        </ul><i style="font-style:normal;display:block;clear:both;height:0px;"><span style="font-style:normal;display:table;line-height:0;"></span><span style="font-style:normal;display:block;line-height:0;clear:both;height:0px;visibility:hidden;">.</span></i></div>
        
        <div style="float:left;width:100%;padding-top:20px;">
    <div>
    <div style="padding:10px;background:rgb(241, 241, 241);">
        <h5 style="margin:0px 0px 0.5em;font-family:inherit;font-weight:bold;line-height:1.5em;color:inherit;text-rendering:optimizeLegibility;font-size:18px;margin-left:10px;">我来评几句</h5>
        
            
            <span style="cursor:pointer;display:inline-block;margin-bottom:0px;font-size:14px;line-height:20px;background:rgb(255, 255, 255);text-align:center;text-shadow:rgba(255, 255, 255, 0.74902) 0px 1px 1px;vertical-align:top;outline:none 0px;border-width:1px;border-style:solid;border-color:rgb(204, 204, 204);box-shadow:rgba(255, 255, 255, 0.2) 0px 1px 0px inset, rgba(0, 0, 0, 0.0470588) 0px 1px 2px;padding:5px 10px;float:right;color:rgb(102, 102, 102);border-radius:0px;">登录后评论</span>
        <p style="margin:0px 0px 0.75em;margin-top:5px;margin-left:10px;">
            已发表评论数(<span style="font-weight:bold;">0</span>)
        </p>
    </div>
    
    
    
    </div>
</div>

    </div></div></div></div></div></div><br/></div></span>
</div></body></html> 