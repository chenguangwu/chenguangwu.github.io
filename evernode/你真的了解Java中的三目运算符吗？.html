<html>
<head>
  <title>你真的了解Java中的三目运算符吗？</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10645"/>
<h1>你真的了解Java中的三目运算符吗？</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/4/28 9:47</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://mp.weixin.qq.com/s/m3CC95TtlMjoxyfYIhaB4Q"><i>https://mp.weixin.qq.com/s/m3CC95TtlMjoxyfYIhaB4Q</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%; position: relative;"><div style="text-size-adjust:100%;line-height:1.6;"><div style="font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;line-height:inherit;background-color:rgb(255, 255, 255);"><div><div style="background-color:rgb(255, 255, 255);font-size:16px;word-wrap:break-word;"><div style="background-color:rgb(255, 255, 255);"><div>
                
                <h2 style="margin:0px;padding:0px;font-weight:400;font-size:24px;margin-bottom:14px;line-height:1.4;padding-bottom:10px;border-bottom:1px solid rgb(231, 231, 235);">
                    你真的了解Java中的三目运算符吗？                                    </h2>
                <div style="margin:0px;padding:0px;margin-bottom:18px;line-height:20px;font-size:0px;position:relative;z-index:1;">
                                        <span style="font-size:15px;margin:0px;display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;padding:1px 0.5em;border:1px solid rgb(158, 158, 158);color:rgb(140, 140, 140);border-radius:20% 50%;line-height:1.1;max-width:none;">原创</span>
                                                            <em style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;color:rgb(140, 140, 140);max-width:none;font-style:normal;">2018-04-27</em>

                                        <em style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;color:rgb(140, 140, 140);max-width:none;font-style:normal;">刨根问底的</em>
                                        <a href="https://mp.weixin.qq.com/s/m3CC95TtlMjoxyfYIhaB4Q##" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;max-width:none;display:inline-block;">Hollis</a>
                    


                    
                </div>
                                
                
                
                
                                                
                                                                
                
                <div style="margin:0px;padding:0px;overflow:hidden;color:rgb(62, 62, 62);min-height:350px;position:relative;">
                    

                    

                    
                    
                    <p style="min-height:1em;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;padding:0px;-webkit-print-color-adjust:exact;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><img src="你真的了解Java中的三目运算符吗？_files/640" type="image/webp" data-filename="640" height="447" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;height:auto !important;width:auto !important;visibility:visible !important;" width="670"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"></span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-width:0px;border-style:none;border-color:initial;"><div style="margin:10px auto;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;width:100%;margin-bottom:-30px;text-align:center;"><div style="height:64px;margin:0px;margin-left:auto;box-sizing:border-box;margin-right:auto;width:64px;padding:0px;background:rgb(254, 254, 254);border-radius:50%;word-wrap:break-word;max-width:100%;display:inline-block;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;display:inline-block;width:32px;"><img src="你真的了解Java中的三目运算符吗？_files/640 [1]" type="image/webp" data-filename="640" border="0" height="" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;height:auto !important;margin-top:18px;visibility:visible !important;width:32px !important;" width="2rem"/></div></div></div><div style="margin:0px;padding:30px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:14px;background-color:rgb(242, 244, 245);border-radius:10px;margin-top:-16px;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:#b0b0b1;">三目运算符是我们经常在代码中使用的，a= (b==null?0:1);这样一行代码可以代替一个if-else,可以使代码变得清爽易读。</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:#b0b0b1;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:#b0b0b1;">但是，三目运算符也是有一定的语言规范的。在运用不恰当的时候会导致意想不到的问题。本文就介绍一个我自己曾经踩过的坑。</p></div></div></div></div><h3 style="-webkit-print-color-adjust:exact;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:18px;margin-top:20px;margin-bottom:10px;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;white-space:normal;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"></span></h3><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:10px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="padding-right:30px;margin:0px;line-height:40px;height:40px;font-size:18px;padding:0px;display:inline-block;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-bottom:solid 1px #bbd043;">一、三目运算符</div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;width:50px;border-top:solid 3px #bbd043;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></div></div></div></div></div></div></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">对于条件表达式</span><code style="padding-right:5px;margin:0px;background-color:rgb(248, 248, 248);border-color:rgb(234, 234, 234);border-style:solid;-webkit-print-color-adjust:exact;margin-right:2px;margin-left:2px;padding:0px;padding-left:5px;white-space:nowrap;border-width:1px;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-radius:3px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">b?x:y</span></code><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">，先计算条件b，然后进行判断。如果b的值为true，计算x的值，运算结果为x的值；否则，计算y的值，运算结果为y的值。一个条件表达式从不会既计算x，又计算y。条件运算符是右结合的，也就是说，从右向左分组计算。例如，a?b:c?d:e将按a?b:（c?d:e）执行。</span></p><h3 style="-webkit-print-color-adjust:exact;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:18px;margin-top:20px;margin-bottom:10px;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;white-space:normal;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"></span></h3><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:10px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="padding-right:30px;margin:0px;line-height:40px;height:40px;font-size:18px;padding:0px;display:inline-block;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-bottom:solid 1px #bbd043;">二、自动装箱与自动拆箱</div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;width:50px;border-top:solid 3px #bbd043;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></div></div></div></div></div></div></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">基本数据类型的<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;-webkit-print-color-adjust:exact;">自动装箱</strong>(</span><code style="padding-right:5px;margin:0px;background-color:rgb(248, 248, 248);border-color:rgb(234, 234, 234);border-style:solid;-webkit-print-color-adjust:exact;margin-right:2px;margin-left:2px;padding:0px;padding-left:5px;white-space:nowrap;border-width:1px;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-radius:3px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">autoboxing</span></code><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">)、<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;-webkit-print-color-adjust:exact;">拆箱</strong>(</span><code style="padding-right:5px;margin:0px;background-color:rgb(248, 248, 248);border-color:rgb(234, 234, 234);border-style:solid;-webkit-print-color-adjust:exact;margin-right:2px;margin-left:2px;padding:0px;padding-left:5px;white-space:nowrap;border-width:1px;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-radius:3px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">unboxing</span></code><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">)是自J2SE 5.0开始提供的功能。</span></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"> 一般我们要创建一个类的对象实例的时候，我们会这样： Class a = new Class(parameters); 当我们创建一个Integer对象时，却可以这样： Integer i = 100;(<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;">注意：和 int i = 100;是有区别的</strong> ) </p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">实际上，执行上面那句代码的时候，系统为我们执行了： </span>Integer i = Integer.valueOf(100)<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">; 这里暂且不讨论这个原理是怎么实现的（何时拆箱、何时装箱），也略过普通数据类型和对象类型的区别。</span></p><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">我们可以理解为，当我们自己写的代码符合装（拆）箱规范的时候，编译器就会自动帮我们拆（装）箱。那么，这种不被程序员控制的自动拆（装）箱会不会存在什么问题呢？</span></p><h3 style="-webkit-print-color-adjust:exact;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:18px;margin-top:20px;margin-bottom:10px;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;white-space:normal;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"></span></h3><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:10px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="padding-right:30px;margin:0px;line-height:40px;height:40px;font-size:18px;padding:0px;display:inline-block;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-bottom:solid 1px #bbd043;">三、问题回顾</div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;width:50px;border-top:solid 3px #bbd043;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></div></div></div></div></div></div></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">首先，通过你已有的经验看一下下面这段代码。如果你得到的结果和后文分析的结果一致（并且你知道原理），那么请忽略本文。如果不一致，请跟我探索下去。</span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><pre style="margin:0;padding:0;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:none;background:none;"><code style="font-size:0.85em;margin:0px 0.15em;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:4px;padding:6.66667px;background:rgb(40, 44, 52);color:rgb(171, 178, 191);display:block;overflow-x:auto;white-space:nowrap;"><span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:43px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">public</span> <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:44px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">static</span> <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:30px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">void</span> main(<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:44px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">String</span>[] args) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>    Map&lt;<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:44px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">String</span>, <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:51px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span>&gt; map = <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:21px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">new</span> HashMap&lt;&gt;();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>     <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:51px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span> b = map != <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(86, 182, 194);width:29px;color:rgb(86, 182, 194);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">null</span> ? map.get(<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(152, 195, 121);width:43px;color:rgb(152, 195, 121);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">&quot;test&quot;</span>) : <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(86, 182, 194);width:37px;color:rgb(86, 182, 194);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">false</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>    System.out.println(b);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>}</code></pre></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">以上这段代码，是我们在不注意的情况下有可能经常会写的一类代码（在很多时候我们都爱使用三目运算符）。</span></p><p style="min-height:1em;margin:0px;white-space:normal;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;-webkit-print-color-adjust:exact;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);">一般情况下，我们会认为以上代码Boolean b的最终得到的值应该是null。因为map.get(&quot;test&quot;)的值是null，而b又是一个对象，所以得到结果会是null。</p><p style="min-height:1em;margin:0px;white-space:normal;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;-webkit-print-color-adjust:exact;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);">但是，以上代码会抛出NPE：</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><pre style="margin:0;padding:0;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:none;background:none;"><code style="font-size:0.85em;margin:0px 0.15em;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:4px;padding:6.66667px;background:rgb(40, 44, 52);color:rgb(171, 178, 191);display:block;overflow-x:auto;white-space:nowrap;">Exception <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:14px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">in</span> thread <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(152, 195, 121);width:43px;color:rgb(152, 195, 121);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">&quot;main&quot;</span> java.lang.NullPointerException</code></pre></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">首先可以明确的是，既然报了空指针，那么一定是有些地方调用了一个null的对象的某些方法。在这短短的两行代码中，看上去只有一处方法调用</span><code style="padding-right:5px;margin:0px;background-color:rgb(248, 248, 248);border-color:rgb(234, 234, 234);border-style:solid;-webkit-print-color-adjust:exact;margin-right:2px;margin-left:2px;padding:0px;padding-left:5px;white-space:nowrap;border-width:1px;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-radius:3px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">map.get(&quot;test&quot;)</span></code><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">，但是我们也都是知道，map已经事先初始化过了，不会是Null，那么到底是哪里有空指针呢。</span></p><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">我们接下来</span><a href="http://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650120609&amp;idx=1&amp;sn=5659f96310963ad57d55b48cee63c788&amp;chksm=f36bbc80c41c3596a1e4bf9501c6280481f1b9e06d07af354474e6f3ed366fef016df673a7ba&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">反编译</span></a><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">一下该代码。看看我们写的代码在经过编译器处理之后变成了什么样。</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">反编译后代码如下：</span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><pre style="margin:0;padding:0;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:none;background:none;"><code style="font-size:0.85em;margin:0px 0.15em;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:4px;padding:6.66667px;background:rgb(40, 44, 52);color:rgb(171, 178, 191);display:block;overflow-x:auto;white-space:nowrap;"><span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:43px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">public</span> <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:44px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">static</span> <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:30px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">void</span> main(<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:44px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">String</span> args[]){<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>    Map map = <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:22px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">new</span> HashMap();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>    <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:51px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span> b = <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:52px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span>.valueOf(map == <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(86, 182, 194);width:29px;color:rgb(86, 182, 194);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">null</span> ? <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(86, 182, 194);width:37px;color:rgb(86, 182, 194);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">false</span> : ((<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:51px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span>)map.get(<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(152, 195, 121);width:43px;color:rgb(152, 195, 121);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">&quot;test&quot;</span>)).booleanValue());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>    System.out.println(b);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>}</code></pre></div><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></span></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">看完这段反编译之后的代码之后，经过分析我们大概可以知道问题出在哪里。</span>((Boolean)hashmap.get(&quot;test&quot;)).booleanValue() <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">的执行过程及结果如下：</span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-width:0px;border-style:none;border-color:initial;"><div style="margin-top:10px;margin:0px;background-position:1% 5px;box-sizing:border-box;background-color:rgb(241, 241, 241);font-size:14px;line-height:22.39px;padding:15px 20px 15px 45px;margin-bottom:10px;vertical-align:baseline;background-image:url(https://mmbiz.qpic.cn/mmbiz/yqVAqoZvDibHXI5ekoKR1icA9n2tIN2MafRz4ZMlbZ9VJIPyHVvA3622V9M4opp0KibWG6F78HdcHOABQbic1krfPw/640);word-wrap:break-word;max-width:100%;background-repeat:no-repeat;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:#3e3e3e;">hashmap.get(&quot;test&quot;)-&gt;null;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;">(Boolean)null-&gt;null;</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;">null.booleanValue()-&gt;报错</p></div></div></div><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">好，问题终于定位到了。很明显，上面源代码中的</span>map.get(&quot;test&quot;)在被编译成了</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;">(Boolean)map.get(&quot;test&quot;).booleanValue()，这是一种自动拆箱的操作。</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;">那么，为什么这里会发生自动拆箱呢？这个问题又如何解决呢？</p><h3 style="-webkit-print-color-adjust:exact;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:18px;margin-top:20px;margin-bottom:10px;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;white-space:normal;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"></span></h3><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:10px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="padding-right:30px;margin:0px;line-height:40px;height:40px;font-size:18px;padding:0px;display:inline-block;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-bottom:solid 1px #bbd043;">四、原理分析</div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;width:50px;border-top:solid 3px #bbd043;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></div></div></div></div></div></div></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">通过查看反编译之后的代码，我们准确的定位到了问题，分析之后我们可以得出这样的结论：NPE的原因应该是三目运算符和自动拆箱导致了空指针异常。</span></p><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">那么，这段代码为什么会自动拆箱呢？这其实是三目运算符的语法规范。参见</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">jls-15.25</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">，摘要如下：</span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-width:0px;border-style:none;border-color:initial;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-style:solid;-webkit-border-image:url(https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmJWdVPftyFu3ocZn7c67V0DNCTYmib35nCTHr16EM5iaPnia896icRUwcKW1icuz4KUNBa9GGTmibnz6Tmw/640) 94 170 140 fill;border-width:20px 32px 40px 24px;font-size:14px;line-height:30px;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;margin-left:16px;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:#222;">If the second and third operands have the same type (which may be the null type), then that is the type of the conditional expression.<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>If one of the second and third operands is of primitive type T, and the type of the other is the result of applying boxing conversion (§5.1.7) to T, then the type of the conditional expression is T.<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/>If one of the second and third operands is of the null type and the type of the other is a reference type, then the type of the conditional expression is that reference type.</p></div></div></div></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">简单的来说就是：当第二，第三位操作数分别为基本类型和对象时，其中的对象就会拆箱为基本类型进行操作。</span></p><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">所以，结果就是：由于使用了三目运算符，并且第二、第三位操作数分别是基本类型和对象。所以对对象进行拆箱操作，由于该对象为null，所以在拆箱过程中调用null.booleanValue()的时候就报了NPE。</span></p><h3 style="-webkit-print-color-adjust:exact;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:18px;margin-top:20px;margin-bottom:10px;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;white-space:normal;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;"></span></h3><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:10px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="padding-right:30px;margin:0px;line-height:40px;height:40px;font-size:18px;padding:0px;display:inline-block;word-wrap:break-word;box-sizing:border-box;max-width:100%;border-bottom:solid 1px #bbd043;">五、问题解决</div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;width:50px;border-top:solid 3px #bbd043;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></div></div></div></div></div></div></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">如果代码这么写，就不会报错：</span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><pre style="margin:0;padding:0;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:none;background:none;"><code style="font-size:0.85em;margin:0px 0.15em;max-width:100%;box-sizing:border-box;word-wrap:break-word;border-radius:4px;padding:6.66667px;background:rgb(40, 44, 52);color:rgb(171, 178, 191);display:block;overflow-x:auto;white-space:nowrap;"><span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:22px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Map</span>&lt;<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:44px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">String</span>,<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:52px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span>&gt; map =  <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(198, 120, 221);width:22px;color:rgb(198, 120, 221);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">new</span> HashMap&lt;<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:44px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">String</span>, <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:51px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span>&gt;();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/><span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:51px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span> b = (map!=<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(86, 182, 194);width:29px;color:rgb(86, 182, 194);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">null</span> ? map.get(<span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(152, 195, 121);width:44px;color:rgb(152, 195, 121);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">&quot;test&quot;</span>) : <span style="background:rgba(0, 0, 0, 0);margin:0px;font-weight:400;text-decoration:none solid rgb(230, 192, 123);width:52px;color:rgb(230, 192, 123);padding:0px;display:inline;word-wrap:break-word;box-sizing:border-box;max-width:100%;font-style:normal;">Boolean</span>.FALSE);</code></pre></div><p style="-webkit-print-color-adjust:exact;margin:0px;white-space:normal;font-size:14px;font-family:Helvetica, arial, sans-serif;margin-bottom:15px;margin-top:15px;padding:0px;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:16px;">就是保证了三目运算符的第二第三位操作数都为对象类型。这样就不会发生自动拆箱操作，以上代码得到的b的结果为null。</span></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;">PS：本文中的示例，只是为了更加方便读者理解三目运算符会导致自动拆箱现象，可能在代码中并不会直接这样使用。但是，我自己的代码确实发生过类似问题。这里简化一下，为了讲清楚原理。</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;">如果你想了解更多我在工作中遇到的坑及解决方法，欢迎加入我的知识星球。</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;white-space:normal;line-height:2em;"><a href="https://mp.weixin.qq.com/s/m3CC95TtlMjoxyfYIhaB4Q" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><img src="你真的了解Java中的三目运算符吗？_files/640 [2]" type="image/webp" data-filename="640" height="413" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;height:auto !important;width:auto !important;visibility:visible !important;" width="670"/></a></p><p style="margin-left:16px;margin:0px;text-align:center;background-color:rgb(255, 255, 255);color:rgb(62, 62, 62);white-space:normal;font-size:16px;margin-right:16px;padding:0px;padding-right:1em;padding-left:1em;min-height:1em;clear:both;word-wrap:break-word;box-sizing:border-box;max-width:100%;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;overflow-wrap:break-word !important;">- MORE | 更多精彩文章 -</strong></p><ul style="margin:0px;padding:0px;padding-left:2.2em;max-width:100%;box-sizing:border-box;word-wrap:break-word;list-style-type:square;margin-left:8px;margin-right:8px;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;line-height:2em;"><a href="http://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650121196&amp;idx=1&amp;sn=bba92c85b334d7614bcbf58f9b85ead9&amp;chksm=f36bbecdc41c37dbb62aa67d835d30885fb8a2db727e80308a91b6ae05cf773e5712f4e7fdcd&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:12px;">拿到阿里巴巴的实习生Offer就是如此简单</strong></strong></strong></strong></a></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><a href="http://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650121193&amp;idx=2&amp;sn=3389454777099cd1927ce99fa619d34e&amp;chksm=f36bbec8c41c37de9f7228177febd0d1deacfb9539e16a6312a6c9a6f6935fa128a85e2b2b57&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:12px;">大家都在说分布式系统到底是什么</span></strong></a><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;line-height:2em;"><a href="http://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650121186&amp;idx=1&amp;sn=248d37be27d3bbeb103464b2a96a0ae4&amp;chksm=f36bbec3c41c37d59277ac8539a616b65ec44637f341325056e98323e8780e09c6e4f7cc7a85&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:12px;">Java虚拟机的锁优化技术</span></strong></strong></a></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;line-height:2em;"><a href="http://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650120882&amp;idx=1&amp;sn=8e355b5ee3cce0a2d0108edbdf88e606&amp;chksm=f36bbf93c41c3685340d4f658dddec6bcbd5903b5d92875bb06d51a0dfc49ee7326417a0edff&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:12px;">你真的以为你了解Java的序列化了吗</span></strong></a></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;font-size:12px;"><a href="http://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650120826&amp;idx=1&amp;sn=bc7dc7bd910ae019e60e14b90ce2842b&amp;chksm=f36bbf5bc41c364d0e20263d27c8c31899385d856067bf12ee97536e770abaa08df5c41bdd6d&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank"></a></span></strong></p></li></ul><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;white-space:normal;"><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;letter-spacing:3px;text-align:center;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;">如果你看到了这里，说明你喜欢本文。</strong></p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;letter-spacing:3px;text-align:center;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;">那么请长按二维码，关注<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:rgb(255, 169, 0);">Hollis</span></strong></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;letter-spacing:3px;text-align:center;"><div style="vertical-align:top;margin:0px;border-radius:3px;border-width:1px;border-style:solid;display:inline-block;width:278.889px;padding:0px;box-shadow:rgba(81, 81, 81, 0.54) 0px 0px 0px;background-color:rgb(254, 255, 255);word-wrap:break-word;box-sizing:border-box;max-width:100%;border-color:rgb(62, 62, 62);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;margin-top:-3px;margin-bottom:3px;transform:translate3d(-3px, 0px, 0px);"><div style="vertical-align:top;margin:0px;border-radius:2px;border-width:1px;border-style:solid;display:inline-block;width:276.91px;padding:0px;box-shadow:rgba(81, 81, 81, 0.54) 0px 0px 0px;background-color:rgb(255, 255, 255);word-wrap:break-word;box-sizing:border-box;max-width:100%;border-color:rgb(62, 62, 62);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;vertical-align:middle;display:inline-block;box-shadow:rgb(0, 0, 0) 0px 0px 0px;overflow:hidden !important;"><img src="你真的了解Java中的三目运算符吗？_files/640 [3]" type="image/webp" data-filename="640" height="275" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;height:auto !important;vertical-align:middle;width:auto !important;visibility:visible !important;" width="275"/></div></div></div></div></div></div></div><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;color:rgb(160, 160, 160);font-size:14px;letter-spacing:2px;">转发朋友圈，是对我最大的支持。</span></p></div></div>
                </div>
                
                
                
                                
                

                
                                
                
                            </div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 