<html>
<head>
  <title>告别慢SQL，如何去写一手好SQL ？</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="13048"/>
<h1>告别慢SQL，如何去写一手好SQL ？</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/10/16 21:43</i></td></tr>
<tr><td><b>标签：</b></td><td><i>微信</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://mp.weixin.qq.com/s?__biz=MzI4OTA3NDQ0Nw==&mid=2455546931&idx=1&sn=a0520fa0bc341b24d00780dffaee35e8&chksm=fb9cb053cceb394511c23763b055570aa0d84ce4f4c5b72d62fe01ba714fcbb2d54083f3e6cf&mpshare=1&scene=1&srcid=&sharer_sharetime=1571233415064&sharer_shareid=f5b9960e886b8a68c0c249bd0ed30f43#rd"><i>http://mp.weixin.qq.com/s?__biz=MzI4OTA3NDQ0Nw==&amp;mid=2455546931&amp;idx=1&amp;sn=a0520fa0bc341b24d00780dffaee35e8&amp;chksm=fb9cb053cceb394511c23763b055570aa0d84ce4f4c5b72d62fe01ba714fcbb2d54083f3e6cf&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1571233415064&amp;sharer_shareid=f5b9960e886b8a68c0c249bd0ed30f43#rd</i></a></td></tr>
</table>
</div>
<br/>

<div><span style="margin:0px;"><div style="padding:8px 0px;margin:8px auto;max-width:700px;"> <div style="margin:0;padding:0;background-color:#fff"><div style="margin:0;padding:0"><div style="margin:0;padding:0"><h2 style="font-weight:400;margin:0;padding:0;font-size:22px;line-height:1.4;margin-bottom:14px"> 告别慢SQL，如何去写一手好SQL ？ </h2><div style="margin:0;padding:0;margin-bottom:22px;line-height:20px;font-size:0;word-wrap:break-word;word-break:break-all"><span style="padding:0;display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative"><a style="margin:0;padding:0;color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)"> java思维导图 </a></span><em style="padding:0;font-style:normal;display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0);color:rgba(0,0,0,0.3)"></em></div><div style="margin:0;padding:0;overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;letter-spacing:0.544px;white-space:normal;font-family:-apple-system-font,system-ui,&quot;Helvetica Neue&quot;,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei UI&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;color:rgb(62,62,62);font-size:15px;background-color:rgb(255,255,255)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;color:rgb(0,0,0);font-size:16px;text-align:left;margin-left:8px;margin-right:8px"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(178,178,178);font-family:Optima-Regular,PingFangTC-light;font-size:14px;letter-spacing:0.544px">作者 | 编码砖家</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></p></div><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-family:-apple-system-font,BlinkMacSystemFont,'Helvetica Neue','PingFang SC','Hiragino Sans GB','Microsoft YaHei UI','Microsoft YaHei',Arial,sans-serif;letter-spacing:0.544px;white-space:normal;background-color:rgb(255,255,255)"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgba(0,0,0,0.498);letter-spacing:0.544px;font-family:-apple-system-font,system-ui,&quot;Helvetica Neue&quot;,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei UI&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;widows:1;line-height:2em;margin-left:8px;margin-right:8px;margin-bottom:5px"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;letter-spacing:0.544px;font-family:-apple-system-font,system-ui,&quot;Helvetica Neue&quot;,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei UI&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;color:rgb(62,62,62);font-size:15px;background-color:rgb(255,255,255);color:rgb(0,0,0);font-size:16px;text-align:center;line-height:2em;color:rgb(178,178,178);letter-spacing:0.544px;font-size:14px;font-family:Optima-Regular,PingFangTC-light">链接 | <span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255,255,255);text-align:center;line-height:2em;color:rgb(178,178,178);font-size:14px;font-family:Optima-Regular,PingFangTC-light;letter-spacing:normal">cnblogs.com/xiaoyangjia/p/11267191.html</span></span></div><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin-bottom:10px;color:rgba(0,0,0,0.498);letter-spacing:0.544px;font-family:-apple-system-font,system-ui,&quot;Helvetica Neue&quot;,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei UI&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;widows:1;line-height:2em;margin-left:8px;margin-right:8px"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;letter-spacing:0.544px;text-align:start;font-size:15px;font-family:Optima-Regular,PingFangTC-light;color:rgb(61,170,214)">目录</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;letter-spacing:0.544px;text-align:start;font-size:15px;font-family:Optima-Regular,PingFangTC-light;color:rgb(61,170,214)"><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></span></strong></p></div></div></div></div></div></div><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square;margin-left:8px;margin-right:8px"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">MySQL性能</span></div></li><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:30px;list-style-type:disc"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">最大数据量</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">最大并发数</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">查询耗时0.5秒</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">实施原则</span></div></li></ul><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">数据表设计</span></div></li><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:30px;list-style-type:disc"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">数据类型</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">避免空值</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">text类型</span></div></li></ul><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">索引优化</span></div></li><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:30px;list-style-type:disc"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">索引分类</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">优化原则</span></div></li></ul><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">SQL优化</span></div></li><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:30px;list-style-type:disc"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">分批处理</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">不做列运算</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">避免Select *</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">操作符&lt;&gt;优化</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">OR优化</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">IN优化</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">LIKE优化</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">JOIN优化</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">LIMIT优化</span></div></li></ul><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:left;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">其他数据库</span></div></li></ul><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">博主负责的项目主要采用阿里云数据库MySQL，最近频繁出现慢SQL告警，执行时间最长的竟然高达5分钟。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">导出日志后分析，主要原因竟然是没有命中索引和没有分页处理。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">其实这是非常低级的错误，我不禁后背一凉，团队成员的技术水平亟待提高啊。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">改造这些SQL的过程中，总结了一些经验分享给大家，如果有错误欢迎批评指正。</span></p><h2 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px 10px;font-size:1.2em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">MySQL性能</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h2><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:5px 8px 1.3em;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">最大数据量</span></strong></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">抛开数据量和并发数，谈性能都是耍流氓。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">MySQL没有限制单表最大记录数，它取决于操作系统对文件大小的限制。</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;text-align:center;line-height:2em;margin-left:8px;margin-right:8px"><img src="告别慢SQL，如何去写一手好SQL ？_files/640.png" type="image/png" data-filename="640.png" style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important"/></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">《阿里巴巴Java开发手册》提出单表行数超过500万行或者单表容量超过2GB，才推荐分库分表。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">性能由综合因素决定，抛开业务复杂度，影响程度依次是硬件配置、MySQL配置、数据表设计、索引优化。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">500万这个值仅供参考，并非铁律。</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">博主曾经操作过超过4亿行数据的单表，分页查询最新的20条记录耗时0.6秒，SQL语句大致是</span><code style="margin:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin-right:2px;margin-left:2px;padding:2px 4px;font-size:inherit;color:rgb(233,105,0);line-height:inherit;border-radius:4px;background:rgb(248,248,248)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">select field_1,field_2 from table where id &lt; #{prePageMinId} order by id desc limit 20</span></code><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">，prePageMinId是上一页数据记录的最小ID。</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">虽然当时查询速度还凑合，随着数据不断增长，有朝一日必定不堪重负。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">分库分表是个周期长而风险高的大活儿，应该尽可能在当前结构上优化，比如升级硬件、迁移历史数据等等，实在没辙了再分。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">对分库分表感兴趣的同学可以阅读分库分表的基本思想。</span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">最大并发数</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">并发数是指同一时刻数据库能处理多少个请求，由max_connections和max_user_connections决定。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">max_connections是指MySQL实例的最大连接数，上限值是16384，max_user_connections是指每个数据库用户的最大连接数。</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">MySQL会为每个连接提供缓冲区，意味着消耗更多的内存。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果连接数设置太高硬件吃不消，太低又不能充分利用硬件。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">一般要求两者比值超过10%，计算方法如下：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">max<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-style:italic">_used_</span>connections / max_connections <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">* 100% = 3/100 *</span>100% ≈ 3%</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">查看最大连接数与响应最大连接数：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">show</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">variables</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">like</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'%max_connections%'</span>;</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">show</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">variables</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">like</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'%max_user_connections%'</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">在配置文件my.cnf中修改最大连接数</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">[mysqld]</span></span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">max_connections</span> = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span></span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">max_used_connections</span> = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">20</span></span></code></p></pre></div><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">查询耗时0.5秒</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">建议将单次查询耗时控制在0.5秒以内，0.5秒是个经验值，源于用户体验的3秒原则。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果用户的操作3秒内没有响应，将会厌烦甚至退出。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">响应时间=客户端UI渲染耗时+网络请求耗时+应用程序处理耗时+查询数据库耗时，0.5秒就是留给数据库1/6的处理时间。</span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">实施原则</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">相比NoSQL数据库，MySQL是个娇气脆弱的家伙。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">它就像体育课上的女同学，一点纠纷就和同学闹别扭(扩容难)，跑两步就气喘吁吁(容量小并发低)，常常身体不适要请假(SQL约束太多)。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如今大家都会搞点分布式，应用程序扩容比数据库要容易得多，所以实施原则是<strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;font-size:inherit;line-height:inherit">数据库少干活，应用程序多干活</strong>。</span></p><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square;margin-left:8px;margin-right:8px"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">充分利用但不滥用索引，须知索引也消耗磁盘和CPU。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">不推荐使用数据库函数格式化数据，交给应用程序处理。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">不推荐使用外键约束，用应用程序保证数据准确性。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">写多读少的场景，不推荐使用唯一索引，用应用程序保证唯一性。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">适当冗余字段，尝试创建中间表，用应用程序计算中间结果，用空间换时间。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">不允许执行极度耗时的事务，配合应用程序拆分成更小的事务。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">预估重要数据表（比如订单表）的负载和数据增长态势，提前优化。</span></div></li></ul><h2 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.2em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">数据表设计</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h2><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">数据类型</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">数据类型的选择原则：</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">更简单或者占用空间更小。</span></p><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square;margin-left:8px;margin-right:8px"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果长度能够满足，整型尽量使用tinyint、smallint、medium_int而非int。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果字符串长度确定，采用char类型。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果varchar能够满足，不采用text类型。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">精度要求较高的使用decimal类型，也可以使用BIGINT，比如精确两位小数就乘以100后保存。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">尽量采用timestamp而非datetime。</span></div></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;text-align:center"><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;text-align:center;line-height:2em;margin-left:8px;margin-right:8px"><img src="告别慢SQL，如何去写一手好SQL ？_files/640 [1].png" type="image/png" data-filename="640.png" style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important"/></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">相比datetime，timestamp占用更少的空间，以UTC的格式储存自动转换时区。</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">避免空值</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">MySQL中字段为NULL时依然占用空间，会使索引、索引统计更加复杂。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">从NULL值更新到非NULL无法做到原地更新，容易发生索引分裂影响性能。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">尽可能将NULL值用有意义的值代替，也能避免SQL语句里面包含is not null的判断。<span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62,62,62);font-family:Optima-Regular,PingFangTC-light;font-size:15px;text-align:start;background-color:rgb(255,255,255)"></span></span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">text类型优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">由于text字段储存大量数据，表容量会很早涨上去，影响其他字段的查询性能。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">建议抽取出来放在子表里，用业务主键关联。</span></p><h2 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.2em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">索引优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h2><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">索引分类</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square;margin-left:8px;margin-right:8px"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">普通索引：最基本的索引。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">组合索引：多个字段上建立的索引，能够加速复合查询条件的检索。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">唯一索引：与普通索引类似，但索引列的值必须唯一，允许有空值。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">组合唯一索引：列值的组合必须唯一。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">主键索引：特殊的唯一索引，用于唯一标识数据表中的某一条记录，不允许有空值，一般用primary key约束。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">全文索引：用于海量文本的查询，MySQL5.6之后的InnoDB和MyISAM均支持全文索引。由于查询精度以及扩展性不佳，更多的企业选择Elasticsearch。</span></div></li></ul><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(0,0,0)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(0,0,0);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">索引优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square;margin-left:8px;margin-right:8px"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">分页查询很重要，如果查询数据量超过30%，MYSQL不会使用索引。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">单表索引数不超过5个、单个索引字段数不超过5个。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">字符串可使用前缀索引，前缀长度控制在5-8个字符。</span></div></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">字段唯一性太低，增加索引没有意义，如：是否删除、性别。</span></div></li></ul><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">合理使用覆盖索引，如下所示：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span> login_name, nick_name <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">member</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> login_name = ?</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">login_name, nick_name两个字段建立组合索引，比login_name简单索引要更快。</span></p><h2 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.2em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em;margin:5px 8px"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">SQL优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h2><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:5px 8px 1.3em;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">分批处理</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">博主小时候看到鱼塘挖开小口子放水，水面有各种漂浮物。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">浮萍和树叶总能顺利通过出水口，而树枝会挡住其他物体通过，有时还会卡住，需要人工清理。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">MySQL就是鱼塘，最大并发数和网络带宽就是出水口，用户SQL就是漂浮物。<span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62,62,62);font-family:Optima-Regular,PingFangTC-light;font-size:15px;text-align:start;background-color:rgb(255,255,255)"></span></span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">不带分页参数的查询或者影响大量数据的update和delete操作，都是树枝，我们要把它打散分批处理，举例说明：</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">业务描述：</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">更新用户所有已过期的优惠券为不可用状态。</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">SQL语句：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">update</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">status</span>=<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">0</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">FROM</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">`coupon`</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">WHERE</span> expire_date &lt;= <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#afafaf;font-style:italic">#{currentDate} and status=1;</span></span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果大量优惠券需要更新为不可用状态，执行这条SQL可能会堵死其他SQL，分批处理伪代码如下：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">int pageNo = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1</span>;</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">int PAGE_SIZE = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span>;</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">while</span>(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">true</span>) {</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"> List&lt;Integer&gt; batchIdList = queryList(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'select id FROM `coupon` WHERE expire_date &lt;= <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37;font-weight:normal">#{currentDate}</span> and status = 1 limit <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37;font-weight:normal">#{(pageNo-<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1</span>) * PAGE_SIZE}</span>,<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37;font-weight:normal">#{PAGE_SIZE}</span>'</span>);</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">if</span> (CollectionUtils.isEmpty(batchIdList)) {</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">return</span>;</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"> }</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"> update(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'update status = 0 FROM `coupon` where status = 1 and id in <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37;font-weight:normal">#{batchIdList}</span>'</span>)</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"> pageNo ++;</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">}</span></code></p></pre></div><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">操作符&lt;&gt;优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">通常&lt;&gt;操作符无法使用索引，举例如下，查询金额不为100元的订单：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> amount != <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果金额为100的订单极少，这种数据分布严重不均的情况下，有可能使用索引。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">鉴于这种不确定性，采用union聚合搜索结果，改写方法如下：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> amount &gt; <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span>)</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">union</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">all</span></span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> amount &lt; <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">and</span> amount &gt; <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">0</span>)</span></code></p></pre></div><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">OR优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">在Innodb引擎下or无法使用组合索引，比如：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span>，product_name <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> mobile_no = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'13421800407'</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">or</span> user_id = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">OR无法命中mobile_no + user_id的组合索引，可采用union，如下所示：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span>，product_name <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> mobile_no = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'13421800407'</span>)</span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">union</span></span></code><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important">(<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span>，product_name <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> user_id = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100</span>);</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">此时id和product_name字段都有索引，查询才最高效。</span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">IN优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">IN适合主表大子表小，EXIST适合主表小子表大。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">由于查询优化器的不断升级，很多场景这两者性能差不多一样了。</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">尝试改为join查询，举例如下：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> user_id <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">in</span> (<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">user</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">level</span> = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'VIP'</span>);</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">采用JOIN如下所示：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span> o.id <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders o <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">left</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">join</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">user</span> u <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">on</span> o.user_id = u.id <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> u.level = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'VIP'</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;font-family:Optima-Regular,PingFangTC-light">不做列运算</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">通常在查询条件列运算会导致索引失效，如下所示：</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">查询当日订单</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">date_format</span>(create_time，<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'%Y-%m-%d'</span>) = <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'2019-07-01'</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">date_format函数会导致这个查询无法使用索引，改写后：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span> create_time <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">between</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'2019-07-01 00:00:00'</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">and</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'2019-07-01 23:59:59'</span>;</span></code></p></pre></div><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">避免Select all</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果不查询表中所有的列，避免使用SELECT *，它会进行全表扫描，不能有效利用索引。</span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">Like优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">like用于模糊查询，举个例子（field已建立索引）：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">SELECT</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">column</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">FROM</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">table</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">WHERE</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">field</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">like</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'%keyword%'</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">这个查询未命中索引，换成下面的写法：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">SELECT</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">column</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">FROM</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">table</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">WHERE</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">field</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">like</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#d14">'keyword%'</span>;</span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">去除了前面的%查询将会命中索引，但是产品经理一定要前后模糊匹配呢？</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">全文索引fulltext可以尝试一下，但Elasticsearch才是终极武器。</span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214);text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">Join优化</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">join的实现是采用Nested Loop Join算法，就是通过驱动表的结果集作为基础数据，通过该结数据作为过滤条件到下一个表中循环查询数据，然后合并结果。</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果有多个join，则将前面的结果集作为循环数据，再次到后一个表中查询数据。</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">驱动表和被驱动表尽可能增加查询条件，满足ON的条件而少用Where，用小结果集驱动大结果集。</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:inherit;color:inherit;line-height:inherit"/><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">被驱动表的join字段上加上索引，无法建立索引的时候，设置足够的Join Buffer Size。</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:inherit;color:inherit;line-height:inherit"/><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">禁止join连接三个以上的表，尝试增加冗余字段。<span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62,62,62);font-family:Optima-Regular,PingFangTC-light;font-size:15px;text-align:start;background-color:rgb(255,255,255)"></span></span></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">Limit优化</span></strong></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></strong></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h3><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">limit用于分页查询时越往后翻性能越差，解决的原则：</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">缩小扫描范围，如下所示：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span> * <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">by</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">desc</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">limit</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">100000</span>,<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">10</span></span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">耗时0.4秒</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span> * <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">by</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">desc</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">limit</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1000000</span>,<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">10</span></span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">耗时5.2秒</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">先筛选出ID缩小查询范围，写法如下：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span> * <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span> &gt; (<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">by</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">desc</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">limit</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1000000</span>, <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1</span>) <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">by</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">desc</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">limit</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">0</span>,<span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">10</span></span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">耗时0.5秒</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果查询条件仅有主键ID，写法如下：</span></p><div style="padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;font-size:14px;margin:10px 0;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:flex;line-height:26px"><ul style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;counter-reset:line;-webkit-flex-shrink:0;flex-shrink:0;height:100%;padding:1em;list-style-type:none"><li style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;list-style-type:none;text-align:right"></li></ul><pre style="margin:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;overflow-x:auto;padding:1em;padding-left:0;white-space:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-overflow-scrolling:touch"><p style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;max-width:1000% !important;margin-left:8px;margin-right:8px"><code style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;text-align:left;font-size:14px;white-space:pre;display:flex;position:relative;font-family:Consolas,&quot;Liberation Mono&quot;,Menlo,Courier,monospace"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important"><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">select</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">from</span> orders <span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">where</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">between</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1000000</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">and</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#0e9ce5">1000010</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">order</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">by</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">id</span><span style="margin:0;padding:0;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;max-width:1000% !important;color:#ca7d37">desc</span></span></code></p></pre></div><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">耗时0.3秒</span></p><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">如果以上方案依然很慢呢？</span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">只好用游标了，感兴趣的朋友阅读JDBC使用游标实现分页查询的方法</span></p><h2 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px;font-size:1.2em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;text-align:start;background-color:rgb(255,255,255);color:rgb(61,170,214);line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">其他数据库</span></strong></span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:inherit;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light"></span></h2><p style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;margin:1.3em 8px;font-size:15px;color:rgb(62,62,62);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light">作为一名后端开发人员，务必精通作为存储核心的MySQL或SQL Server，也要积极关注NoSQL数据库，他们已经足够成熟并被广泛采用，能解决特定场景下的性能瓶颈。<span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62,62,62);font-family:Optima-Regular,PingFangTC-light;font-size:15px;text-align:start;background-color:rgb(255,255,255)"></span></span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;text-align:center;line-height:2em;margin-left:8px;margin-right:8px"><img src="告别慢SQL，如何去写一手好SQL ？_files/640 [2].png" type="image/png" data-filename="640.png" style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important"/></p><h3 style="font-weight:400;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:1.3em 8px 5px;font-size:1.1em;color:rgb(21,153,87);font-family:&quot;Helvetica Neue&quot;,Helvetica,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif;text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(61,170,214)"><strong style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;line-height:inherit;font-size:15px;font-family:Optima-Regular,PingFangTC-light">参考</span></strong></span></h3><h3 style="font-weight:400;font-size:16px;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:5px 8px 1.3em;color:rgb(21,153,87);text-align:start;white-space:normal;background-color:rgb(255,255,255);line-height:2em"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-family:Optima-Regular,PingFangTC-light"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light;color:rgb(136,136,136)">[1] </span></span><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:15px;font-family:Optima-Regular,PingFangTC-light;color:rgb(136,136,136)">https://www.jianshu.com/p/6864abb4d8<span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(136,136,136);font-size:15px;font-family:Optima-Regular,PingFangTC-light;text-align:justify">85</span></span></h3><hr style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;letter-spacing:0.544px;white-space:normal;background-color:rgb(255,255,255);color:rgb(62,62,62);font-size:16px;text-align:center;word-spacing:2px;font-family:微软雅黑;border-style:solid;border-right-width:0;border-bottom-width:0;border-left-width:0;border-color:rgba(0,0,0,0.1);transform-origin:0 0;transform:scale(1,0.5)"/><div style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin-right:8px;margin-left:8px;letter-spacing:0.544px;white-space:normal;background-color:rgb(255,255,255);color:rgb(62,62,62);font-size:16px;text-align:center;word-spacing:2px;font-family:微软雅黑;min-height:1em;line-height:1.75em;word-break:normal !important"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;color:rgb(214,214,214);letter-spacing:2px">-END-</span></div><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;letter-spacing:0.544px;box-sizing:border-box !important;overflow-wrap:break-word !important"><strong style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;letter-spacing:0.544px;box-sizing:border-box !important;overflow-wrap:break-word !important"><em style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-style:italic;box-sizing:border-box !important;overflow-wrap:break-word !important">精选文章</em></strong></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em"><a href="http://mp.weixin.qq.com/s?__biz=MzI4OTA3NDQ0Nw==&amp;mid=2455546913&amp;idx=1&amp;sn=34d32f972170a9225d87ffd11c7f0210&amp;chksm=fb9cb041cceb3957d5dbc7fa297706b00ac95ee54f84ee5d3afe4e565dd45e8af49161adb971&amp;token=716490835&amp;lang=zh_CN&amp;scene=21#wechat_redirect" style="margin:0;padding:0;color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0);max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important" target="_blank"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px">从0到1，如何搭建一个好用的springboot开源项目</span></a><strong style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;letter-spacing:0.544px;box-sizing:border-box !important;overflow-wrap:break-word !important"><em style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-style:italic;box-sizing:border-box !important;overflow-wrap:break-word !important"></em></strong></p><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;box-sizing:border-box !important;overflow-wrap:break-word !important"><a href="http://mp.weixin.qq.com/s?__biz=MzI4OTA3NDQ0Nw==&amp;mid=2455546885&amp;idx=1&amp;sn=273effbff185e103540e92cc3420d278&amp;chksm=fb9cb065cceb3973d62cf941342953f4c9f5cda9515d1737ab3e211042248d13473950318429&amp;token=1413486988&amp;lang=zh_CN&amp;scene=21#wechat_redirect" style="margin:0;padding:0;color:#576b95;text-decoration:none;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;box-sizing:border-box !important;overflow-wrap:break-word !important" target="_blank"><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;box-sizing:border-box !important;overflow-wrap:break-word !important">所谓代码生成，简单！</span><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;box-sizing:border-box !important;overflow-wrap:break-word !important">我详细分析给你看！</span></a></p><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;box-sizing:border-box !important;overflow-wrap:break-word !important"><a href="http://mp.weixin.qq.com/s?__biz=MzI4OTA3NDQ0Nw==&amp;mid=2455546899&amp;idx=1&amp;sn=93a3e7ebf68a032ff73f2c8534741db5&amp;chksm=fb9cb073cceb3965905d0ad82dc6e71a52e64f6b194c02eff7039ad59bde12c2d9d74e433f81&amp;scene=21#wechat_redirect" style="margin:0;padding:0;color:#576b95;text-decoration:none;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;box-sizing:border-box !important;overflow-wrap:break-word !important" target="_blank"><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;box-sizing:border-box !important;overflow-wrap:break-word !important;font-size:14px">高效率！</span><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;box-sizing:border-box !important;overflow-wrap:break-word !important;font-size:14px">让java8的Stream对集合操作飞起来</span></a></p><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;box-sizing:border-box !important;overflow-wrap:break-word !important"><br style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em"><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></p><div style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;letter-spacing:0.544px;color:rgb(62,62,62);font-family:微软雅黑;font-size:16px;word-spacing:1px;box-sizing:border-box !important;overflow-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;font-size:medium;font-weight:700;word-spacing:2px;widows:1;text-align:center;letter-spacing:1px;box-sizing:border-box !important;overflow-wrap:break-word !important"><img src="告别慢SQL，如何去写一手好SQL ？_files/640.jpg" type="image/jpeg" data-filename="640.jpg" style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;box-shadow:none;border-radius:12px;box-sizing:border-box !important;overflow-wrap:break-word !important;visibility:visible !important;width:195px !important" width="195px"/></p><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;font-size:medium;font-weight:700;word-spacing:2px;widows:1;text-align:center;letter-spacing:1px;box-sizing:border-box !important;overflow-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:16px;box-sizing:border-box !important;overflow-wrap:break-word !important">（<strong style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important">java思维导图</strong>）</span></p><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;font-size:medium;font-weight:700;word-spacing:2px;widows:1;text-align:center;letter-spacing:1px;box-sizing:border-box !important;overflow-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;font-size:16px;box-sizing:border-box !important;overflow-wrap:break-word !important"><span style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(255,41,65);box-sizing:border-box !important;overflow-wrap:break-word !important"><strong style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important">长按关注</strong></span>，每天java一下，成就架构师</span></p><p style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;font-size:medium;font-weight:700;word-spacing:2px;widows:1;text-align:center;letter-spacing:1px;box-sizing:border-box !important;overflow-wrap:break-word !important"><br style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important"/></p><div style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;box-sizing:border-box !important;overflow-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;width:677px;text-align:right;box-sizing:border-box !important;overflow-wrap:break-word !important"><div style="margin:0;padding:0;max-width:100% !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;display:inline-block;box-sizing:border-box !important;overflow-wrap:break-word !important"><div style="margin:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding:6px 12px 10px 14px;background-image:url(https://mmbiz.qpic.cn/mmbiz_png/7QRTvkK2qC44DTRQaDYNceOqwlOmdicDzAb3MLb2byRokONFbgPMolIssQXEj2DA1DTSC1lMe61VHMRIbgNENMA/640?wx_fmt=png);background-repeat:no-repeat;text-align:center;background-size:100% 100%;font-size:14px;letter-spacing:2px;overflow-wrap:break-word !important">我就知道你在看！</div></div></div></div></div></div></div><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em"><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></p></div></div><ul style="margin:0;padding:0"></ul><div style="margin:0;padding:0;padding-top:15px"><div style="margin:0;padding:0;display:flex"><span style="margin:0;padding:0;visibility:hidden"><span style="margin:0;padding:0"><span style="margin:0;padding:0"> 在看</span><span style="margin:0;padding:0"></span></span></span></div></div></div></div></div></span>
</div></body></html> 