<html>
<head>
  <title>这么写参数校验(Validator)就不会被劝退了~</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="15040"/>
<h1>这么写参数校验(Validator)就不会被劝退了~</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2020/4/17 14:26</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247489405&idx=1&sn=9ba38e1a211a526b2b44983bbbd5482b&chksm=fa4968cccd3ee1da22c935952f7447e4d67c6ce90e6347b6bb633c6b656ab0f278c3a6b599a7#rd"><i>http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247489405&amp;idx=1&amp;sn=9ba38e1a211a526b2b44983bbbd5482b&amp;chksm=fa4968cccd3ee1da22c935952f7447e4d67c6ce90e6347b6bb633c6b656ab0f278c3a6b599a7#rd</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="text-size-adjust:100%;line-height:1.6;-webkit-appearance:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div style="font-family:-apple-system-font, &quot;Helvetica Neue&quot;, sans-serif;color:rgb(51, 51, 51);background-color:rgb(242, 242, 242);letter-spacing:0.034em;line-height:1.6;font-size:16px;-webkit-appearance:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div><div style="overflow-wrap:break-word;"><div style="background-color:rgb(255, 255, 255);"><div><div><div style="overflow:hidden;color:rgb(51, 51, 51);font-size:17px;overflow-wrap:break-word;text-align:justify;"><div style="box-sizing:border-box;overflow-wrap:break-word;text-align:left;font-family:Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;line-height:1.6;letter-spacing:0.034em;color:rgb(63, 63, 63);font-size:16px;"><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">为什么要用validator</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">实战演练</div></li><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;list-style-type:square;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">1. @Validated 声明要检查的参数</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">2. 对参数的字段进行注解标注</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">3. 在全局校验中增加校验异常</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">4. 测试</div></li></ul><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">自定义参数注解</div></li><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;list-style-type:square;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">1. 比如我们来个 自定义身份证校验 注解</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">2. 然后自定义Validator</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">3. 使用自定义的注解</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">4.使用groups的校验</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">5.restful风格用法</div></li></ul><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">总结</div></li></ul><hr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;height:1px;border-width:initial;border-style:none;border-color:initial;text-align:center;background-image:linear-gradient(to right, rgba(93, 186, 133, 0), rgba(93, 186, 133, 0.75), rgba(93, 186, 133, 0));"/><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">很痛苦遇到大量的参数进行校验,在业务中还要抛出异常或者 不断的返回异常时的校验信息,在代码中相当冗长, 充满了if-else这种校验代码,今天我们就来学习spring的javax.validation 注解式参数校验.</p><h1 style="font-weight:bold;font-size:24px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p4QGb38srSbibgab1mxM7o3JnPgzbBQG6VgaIt8z4AR4Z19ib0lKwUhBQ/640?wx_fmt=png&quot;');background-position:center top;background-repeat:no-repeat;background-size:75px;line-height:95px;margin-top:38px;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:20px;color:#48b378;border-bottom:2px solid #2e7950;">为什么要用validator</span></h1><ol style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;"><code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">javax.validation</code>的一系列注解可以帮我们完成参数校验,免去繁琐的串行校验</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">不然我们的代码就像下面这样:</p></div></li></ol><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">//  http://localhost:8080/api/user/save/serial</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 走串行校验<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     *<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@param</span> userVO<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@return</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@PostMapping</span>(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;/save/serial&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> Object <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">save</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(@RequestBody UserVO userVO)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        String mobile = userVO.getMobile();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">//手动逐个 参数校验~ 写法</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">if</span> (StringUtils.isBlank(mobile)) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> RspDTO.paramFail(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;mobile:手机号码不能为空&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        } <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">else</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">if</span> (!Pattern.matches(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;^[1][3,4,5,6,7,8,9][0-9]{9}$&quot;</span>, mobile)) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> RspDTO.paramFail(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;mobile:手机号码格式不对&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">//抛出自定义异常等~写法</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">if</span> (StringUtils.isBlank(userVO.getUsername())) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">throw</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> BizException(Constant.PARAM_FAIL_CODE, <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户名不能为空&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">// 比如写一个map返回</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">if</span> (StringUtils.isBlank(userVO.getSex())) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            Map&lt;String, Object&gt; result = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> HashMap&lt;&gt;(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">5</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            result.put(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;code&quot;</span>, Constant.PARAM_FAIL_CODE);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            result.put(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;msg&quot;</span>, <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;性别不能为空&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> result;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">//.........各种写法 ...</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        userService.save(userVO);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> RspDTO.success();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">这被大佬看见,一定说,都9102了还这么写,然后被劝退了.....</p><ol style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">什么是<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">javax.validation</code></div></li></ol><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">JSR303 是一套JavaBean参数校验的标准，它定义了很多常用的校验注解，我们可以直接将这些注解加在我们JavaBean的属性上面(面向注解编程的时代)，就可以在需要校验的时候进行校验了,在SpringBoot中已经包含在starter-web中,再其他项目中可以引用依赖,并自行调整版本:</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;">        &lt;!--jsr <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">303</span>--&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        &lt;dependency&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            &lt;groupId&gt;javax.validation&lt;/groupId&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            &lt;version&gt;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1.1</span>.0.Final&lt;/version&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        &lt;/dependency&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        &lt;!-- hibernate validator--&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        &lt;dependency&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            &lt;version&gt;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">5.2</span>.0.Final&lt;/version&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        &lt;/dependency&gt;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;"><img src="这么写参数校验(Validator)就不会被劝退了~_files/640.webp" type="image/webp" data-filename="640.webp" height="261" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;display:block;margin-right:auto;margin-left:auto;border-radius:4px;margin-bottom:25px;width:677px !important;visibility:visible !important;" width="657"/></div><ol style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">注解说明</div></li></ol><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;">      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotNull</span>：不能为<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">null</span>，但可以为empty(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;&quot;</span>,<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot; &quot;</span>,<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;   &quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">2</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotEmpty</span>：不能为<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">null</span>，而且长度必须大于<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">0</span> (<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot; &quot;</span>,<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;  &quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">3</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>：只能作用在String上，不能为<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">null</span>，而且调用trim()后，长度必须大于<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">0</span>(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;test&quot;</span>)    即：必须有实际字符<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-bottom:10px;border-collapse:collapse;display:table;width:100%;"><thead style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><th style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-top:2px solid rgb(187, 187, 187);background:rgb(247, 247, 247);border-top-width:1px;border-color:rgb(204, 204, 204);background-color:rgb(240, 240, 240);font-size:14px;text-align:center;">验证注解</th><th style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-top:2px solid rgb(187, 187, 187);background:rgb(247, 247, 247);border-top-width:1px;border-color:rgb(204, 204, 204);background-color:rgb(240, 240, 240);font-size:14px;text-align:center;">验证的数据类型</th><th style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-top:2px solid rgb(187, 187, 187);background:rgb(247, 247, 247);border-top-width:1px;border-color:rgb(204, 204, 204);background-color:rgb(240, 240, 240);font-size:14px;text-align:center;">说明</th></tr></thead><tbody style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:0px;border-style:initial;border-color:initial;"><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@AssertFalse</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">Boolean,boolean</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值是false</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@AssertTrue</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">Boolean,boolean</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值是true</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@NotNull</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">任意类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值不是null</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Null</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">任意类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值是null</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Min(value=值)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">BigDecimal，BigInteger, byte,short, int, long，等任何Number或CharSequence（存储的是数字）子类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值大于等于@Min指定的value值</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Max（value=值）</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">和@Min要求一样</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值小于等于@Max指定的value值</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@DecimalMin(value=值)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">和@Min要求一样</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值大于等于@ DecimalMin指定的value值</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@DecimalMax(value=值)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">和@Min要求一样</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值小于等于@ DecimalMax指定的value值</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Digits(integer=整数位数, fraction=小数位数)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">和@Min要求一样</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值的整数位数和小数位数上限</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Size(min=下限, max=上限)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">字符串、Collection、Map、数组等</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值的在min和max（包含）指定区间之内，如字符长度、集合大小</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Past</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">java.util.Date,java.util.Calendar;Joda Time类库的日期类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值（日期类型）比当前时间早</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Future</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">与@Past要求一样</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值（日期类型）比当前时间晚</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@NotBlank</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">CharSequence子类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值不为空（不为null、去除首位空格后长度为0），不同于@NotEmpty，@NotBlank只应用于字符串且在比较时会去除字符串的首位空格</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Length(min=下限, max=上限)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">CharSequence子类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值长度在min和max区间内</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@NotEmpty</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">CharSequence子类型、Collection、Map、数组</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值不为null且不为空（字符串长度不为0、集合大小不为0）</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Range(min=最小值, max=最大值)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">BigDecimal,BigInteger,CharSequence, byte, short, int, long等原子类型和包装类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值在最小值和最大值之间</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Email(regexp=正则表达式,flag=标志的模式)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">CharSequence子类型（如String）</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值是Email，也可以通过regexp和flag指定自定义的email格式</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:rgb(248, 248, 248);"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Pattern(regexp=正则表达式,flag=标志的模式)</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">String，任何CharSequence的子类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">验证注解的元素值与指定的正则表达式匹配</td></tr><tr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-top-style:solid;border-top-color:rgb(204, 204, 204);background-color:white;"><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">@Valid</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">任何非原子类型</td><td style="margin:0px;padding:5px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;word-break:break-all;border:1px solid rgb(221, 221, 221);border-color:rgb(204, 204, 204);font-size:14px;text-align:center;">指定递归验证关联的对象如用户对象中有个地址对象属性，如果想在验证用户对象时一起验证地址对象的话，在地址对象上加@Valid注解即可级联验证</td></tr></tbody></table><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">此处只列出Hibernate Validator提供的大部分验证约束注解，请参考hibernate validator官方文档了解其他验证约束注解和进行自定义的验证约束注解定义。</p><h1 style="font-weight:bold;font-size:24px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p4QGb38srSbibgab1mxM7o3JnPgzbBQG6VgaIt8z4AR4Z19ib0lKwUhBQ/640?wx_fmt=png&quot;');background-position:center top;background-repeat:no-repeat;background-size:75px;line-height:95px;margin-top:38px;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:20px;color:#48b378;border-bottom:2px solid #2e7950;">实战演练</span></h1><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">话不多说,直接走实践路线,同样使用的是SpringBoot的快速框架,详细代码见:github.com/leaJone/myb…</p><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">1. @Validated 声明要检查的参数</span></h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">这里我们在控制器层进行注解声明</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 走参数校验注解<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     *<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@param</span> userDTO<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@return</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@PostMapping</span>(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;/save/valid&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">save</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(@RequestBody @Validated UserDTO userDTO)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        userService.save(userDTO);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> RspDTO.success();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">2. 对参数的字段进行注解标注</span></h2><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> lombok.Data;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.hibernate.validator.constraints.Length;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> javax.validation.constraints.*;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> java.io.Serializable;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> java.util.Date;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@author</span> LiJing<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@ClassName</span>: UserDTO<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@Description</span>: 用户传输对象<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@date</span> 2019/7/30 13:55<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Data</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">class</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">UserDTO</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">implements</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Serializable</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">static</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">final</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">long</span> serialVersionUID = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1L</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/*** 用户ID*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotNull</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户id不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> Long userId;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/** 用户名*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户名不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Length</span>(max = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">20</span>, message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户名不能超过20个字符&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Pattern</span>(regexp = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;^[\\u4E00-\\u9FA5A-Za-z0-9\\*]*$&quot;</span>, message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户昵称限制：最多20字符，包含文字、字母和数字&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String username;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/** 手机号*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;手机号不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Pattern</span>(regexp = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;^[1][3,4,5,6,7,8,9][0-9]{9}$&quot;</span>, message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;手机号格式有误&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String mobile;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**性别*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String sex;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/** 邮箱*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;联系邮箱不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Email</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;邮箱格式不对&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String email;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/** 密码*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String password;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/*** 创建时间 */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Future</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;时间必须是将来时间&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> Date createTime;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">3. 在全局校验中增加校验异常</span></h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;"><code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">MethodArgumentNotValidException</code>是springBoot中进行绑定参数校验时的异常,需要在springBoot中处理,其他需要 处理ConstraintViolationException异常进行处理.</p><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">为了优雅一点,我们将参数异常,业务异常,统一做了一个全局异常,将控制层的异常包装到我们自定义的异常中</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">为了优雅一点,我们还做了一个统一的结构体,将请求的code,和msg,data一起统一封装到结构体中,增加了代码的复用性</div></li></ul><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> com.boot.lea.mybot.dto.RspDTO;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.slf4j.Logger;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.slf4j.LoggerFactory;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.springframework.dao.DuplicateKeyException;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.springframework.web.bind.MethodArgumentNotValidException;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.springframework.web.bind.annotation.ExceptionHandler;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> org.springframework.web.servlet.NoHandlerFoundException;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> javax.validation.ConstraintViolationException;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> javax.validation.ValidationException;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@author</span> LiJing<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@ClassName</span>: GlobalExceptionHandler<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@Description</span>: 全局异常处理器<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@date</span> 2019/7/30 13:57<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/> */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@RestControllerAdvice</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">class</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">GlobalExceptionHandler</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> Logger logger = LoggerFactory.getLogger(getClass());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">static</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">int</span> DUPLICATE_KEY_CODE = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1001</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">static</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">int</span> PARAM_FAIL_CODE = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1002</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">static</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">int</span> VALIDATION_CODE = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1003</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 处理自定义异常<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(BizException.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handleRRException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(BizException e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(e.getCode(), e.getMessage());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 方法参数校验<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(MethodArgumentNotValidException.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handleMethodArgumentNotValidException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(MethodArgumentNotValidException e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(PARAM_FAIL_CODE, e.getBindingResult().getFieldError().getDefaultMessage());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * ValidationException<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(ValidationException.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handleValidationException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(ValidationException e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(VALIDATION_CODE, e.getCause().getMessage());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * ConstraintViolationException<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(ConstraintViolationException.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handleConstraintViolationException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(ConstraintViolationException e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(PARAM_FAIL_CODE, e.getMessage());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(NoHandlerFoundException.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handlerNoFoundException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(Exception e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">404</span>, <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;路径不存在，请检查路径是否正确&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(DuplicateKeyException.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handleDuplicateKeyException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(DuplicateKeyException e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(DUPLICATE_KEY_CODE, <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;数据重复，请检查后提交&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@ExceptionHandler</span>(Exception.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">handleException</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(Exception e)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        logger.error(e.getMessage(), e);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">500</span>, <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;系统繁忙,请稍后再试&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">4. 测试</span></h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">如下文:确实做到了参数校验时返回异常信息和对应的code,方便了我们不再繁琐的处理参数校验</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;"><img src="这么写参数校验(Validator)就不会被劝退了~_files/640 [1].webp" type="image/webp" data-filename="640.webp" height="318" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;display:block;margin-right:auto;margin-left:auto;border-radius:4px;margin-bottom:25px;width:677px !important;visibility:visible !important;" width="657"/></div><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">在ValidationMessages.properties 就是校验的message,有着已经写好的默认的message,且是支持i18n的,大家可以阅读源码赏析</p><h1 style="font-weight:bold;font-size:24px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p4QGb38srSbibgab1mxM7o3JnPgzbBQG6VgaIt8z4AR4Z19ib0lKwUhBQ/640?wx_fmt=png&quot;');background-position:center top;background-repeat:no-repeat;background-size:75px;line-height:95px;margin-top:38px;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:20px;color:#48b378;border-bottom:2px solid #2e7950;">自定义参数注解</span></h1><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">1. 比如我们来个 自定义身份证校验 注解</span></h2><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Documented</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Target</span>({ElementType.PARAMETER, ElementType.FIELD})<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Retention</span>(RetentionPolicy.RUNTIME)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Constraint</span>(validatedBy = IdentityCardNumberValidator.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@interface</span> IdentityCardNumber {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">String <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">message</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">()</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">default</span> &quot;身份证号码不合法&quot;</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    Class&lt;?&gt;[] groups() <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">default</span> {};<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    Class&lt;? extends Payload&gt;[] payload() <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">default</span> {};<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">这个注解是作用在Field字段上，运行时生效，触发的是IdentityCardNumber这个验证类。</p><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:25px;margin-top:8px;margin-bottom:8px;color:black;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">message 定制化的提示信息，主要是从ValidationMessages.properties里提取，也可以依据实际情况进行定制</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">groups 这里主要进行将validator进行分类，不同的类group中会执行不同的validator操作</div></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:5px;margin-bottom:5px;line-height:26px;color:rgb(1, 1, 1);">payload 主要是针对bean的，使用不多。</div></li></ul><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">2. 然后自定义Validator</span></h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">这个是真正进行验证的逻辑代码：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">class</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">IdentityCardNumberValidator</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">implements</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">ConstraintValidator</span>&lt;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">IdentityCardNumber</span>, <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Object</span>&gt; </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Override</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">void</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">initialize</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(IdentityCardNumber identityCardNumber)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Override</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">boolean</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">isValid</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(Object o, ConstraintValidatorContext constraintValidatorContext)</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> IdCardValidatorUtils.isValidate18Idcard(o.toString());<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">IdCardValidatorUtils在项目源码中,可自行查看</p><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">3. 使用自定义的注解</span></h2><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;">    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;身份证号不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@IdentityCardNumber</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;身份证信息有误,请核对后提交&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String clientCardNo;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">4.使用groups的校验</span></h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">有的宝宝说同一个对象要复用,比如UserDTO在更新时候要校验userId,在保存的时候不需要校验userId,在两种情况下都要校验username,那就用上<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">groups</code>了:</p><blockquote style="margin:1em 0px;padding:15px 20px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:10px;border-left:3px solid rgb(219, 219, 219);color:rgb(106, 115, 125);font-size:0.9em;padding-top:4px;overflow:auto;background:rgb(251, 249, 253);margin-bottom:20px;margin-top:20px;line-height:27px;border-left-color:rgb(53, 179, 120);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;line-height:26px;font-size:15px;color:rgb(89, 89, 89);">先定义groups的分组接口<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">Create</code>和<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">Update</code></p></blockquote><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> javax.validation.groups.Default;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">interface</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Create</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">extends</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Default</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">import</span> javax.validation.groups.Default;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">interface</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Update</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">extends</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Default</span></span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><blockquote style="margin:1em 0px;padding:15px 20px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:10px;border-left:3px solid rgb(219, 219, 219);color:rgb(106, 115, 125);font-size:0.9em;padding-top:4px;overflow:auto;background:rgb(251, 249, 253);margin-bottom:20px;margin-top:20px;line-height:27px;border-left-color:rgb(53, 179, 120);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;line-height:26px;font-size:15px;color:rgb(89, 89, 89);">再在需要校验的地方<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">@Validated</code>声明校验组</p></blockquote><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 走参数校验注解的 groups 组合校验<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     *<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@param</span> userDTO<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;line-height:26px;">@return</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@PostMapping</span>(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;/update/groups&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">update</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(@RequestBody @Validated(Update.class)</span> UserDTO userDTO) </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        userService.updateById(userDTO);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> RspDTO.success();<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><blockquote style="margin:1em 0px;padding:15px 20px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:10px;border-left:3px solid rgb(219, 219, 219);color:rgb(106, 115, 125);font-size:0.9em;padding-top:4px;overflow:auto;background:rgb(251, 249, 253);margin-bottom:20px;margin-top:20px;line-height:27px;border-left-color:rgb(53, 179, 120);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;line-height:26px;font-size:15px;color:rgb(89, 89, 89);">在DTO中的字段上定义好<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">groups = {}</code>的分组类型</p></blockquote><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Data</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">class</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">UserDTO</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">implements</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">Serializable</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">static</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">final</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">long</span> serialVersionUID = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">1L</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/*** 用户ID*/</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotNull</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户id不能为空&quot;</span>, groups = Update.class)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> Long userId;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 用户名<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户名不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Length</span>(max = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">20</span>, message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户名不能超过20个字符&quot;</span>, groups = {Create.class, Update.class})<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Pattern</span>(regexp = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;^[\\u4E00-\\u9FA5A-Za-z0-9\\*]*$&quot;</span>, message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户昵称限制：最多20字符，包含文字、字母和数字&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String username;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 手机号<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;手机号不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Pattern</span>(regexp = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;^[1][3,4,5,6,7,8,9][0-9]{9}$&quot;</span>, message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;手机号格式有误&quot;</span>, groups = {Create.class, Update.class})<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String mobile;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 性别<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String sex;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 邮箱<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@NotBlank</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;联系邮箱不能为空&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Email</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;邮箱格式不对&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String email;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/**<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     * 密码<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>     */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> String password;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">/*** 创建时间 */</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Future</span>(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;时间必须是将来时间&quot;</span>, groups = {Create.class})<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">private</span> Date createTime;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:1.75em;">注意</strong>:在声明分组的时候尽量加上 <code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">extend javax.validation.groups.Default</code>否则,在你声明<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">@Validated(Update.class)</code>的时候,就会出现你在默认没添加<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">groups = {}</code>的时候的校验组@Email(message = &quot;邮箱格式不对&quot;),会不去校验,因为默认的校验组是<code style="margin:0px;padding:2px 4px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;border-radius:4px;margin-right:2px;margin-left:2px;background-color:rgba(27, 31, 35, 0.05);font-family:&quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break:break-all;color:rgb(40, 202, 113);">groups = {Default.class}</code>.</p><h2 style="font-weight:bold;font-size:22px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p9PkzXaOVe2vpPoibT7c5So9qmCTZMzysWcUrJAb6EIkicYicOppBhu6cA/640?wx_fmt=png&quot;');background-position:center center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:50px;margin-top:1em;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;height:38px;line-height:42px;color:rgb(72, 179, 120);background-position:left center;background-repeat:no-repeat;background-attachment:initial;background-origin:initial;background-clip:initial;background-size:63px;margin-top:38px;font-size:18px;margin-bottom:10px;">5.restful风格用法</span></h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">在多个参数校验,或者@RequestParam 形式时候,需要在controller上加注@Validated</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;border-radius:5px;box-shadow:rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:block;background:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92pia02sQicAdU7r4icX4N0cF37m9r4Bmpxj6OFpPhShOgr4avmx7vU4FWvg/640?wx_fmt=png&quot;') 10px 10px / 40px no-repeat rgb(39, 40, 34);height:30px;width:100%;margin-bottom:-7px;border-radius:5px;"></span><code style="margin:0px;padding:16px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;overflow-x:auto;color:#ddd;display:-webkit-box;font-family:Operator Mono, Consolas, Monaco, Menlo, monospace;font-size:12px;-webkit-overflow-scrolling:touch;padding-top:15px;background:#272822;border-radius:5px;"> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@GetMapping</span>(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;/get&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> RspDTO <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">getUser</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(@RequestParam(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;userId&quot;</span>)</span> @<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;font-weight:bold;line-height:26px;">NotNull</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;">(message = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户id不能为空&quot;</span>)</span> Long userId) </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        User user = userService.selectById(userId);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">if</span> (user == <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">null</span>) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO&lt;User&gt;().nonAbsent(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;用户不存在&quot;</span>);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">return</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">new</span> RspDTO&lt;User&gt;().success(user);<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@RestController</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@RequestMapping</span>(<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#a6e22e;line-height:26px;">&quot;user/&quot;</span>)<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#75715e;line-height:26px;">@Validated</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">public</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;line-height:26px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">class</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">UserController</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:#f92672;font-weight:bold;line-height:26px;">extends</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:bold;color:white;line-height:26px;">AbstractController</span> </span>{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/>....圣洛代码...<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></code></pre><h1 style="font-weight:bold;font-size:24px;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:black;text-align:center;background-image:url('https://mp.weixin.qq.com/s/yRuLmtUkARG3OziHB9dJPw&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZffBdQ2u7mibDAK9aMrPQX92p4QGb38srSbibgab1mxM7o3JnPgzbBQG6VgaIt8z4AR4Z19ib0lKwUhBQ/640?wx_fmt=png&quot;');background-position:center top;background-repeat:no-repeat;background-size:75px;line-height:95px;margin-top:38px;margin-bottom:10px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:20px;color:#48b378;border-bottom:2px solid #2e7950;">总结</span></h1><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">用起来很简单,soEasy,重点参与的统一结构体返回,统一参数校验,是减少我们代码大量的try catch 的法宝,我觉得在项目中,将异常处理好,并将异常做好日志管理,才是很好的升华,文章浅显,只是一个菜鸟的进阶笔记....</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;padding-bottom:8px;padding-top:1em;color:rgb(74, 74, 74);line-height:1.75em;">这里只是个人见解,技术菜,欢迎大佬不吝赐教... 我是一个小白,技术在不断的更新迭代,我只有不断的填充自己的空白才能....跟上大佬们的步伐...</p></div></div></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 