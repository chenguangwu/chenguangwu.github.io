<html>
<head>
  <title>c标签 if else c标签 总结_JavaLeader_新浪博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="8095"/>
<h1>c标签 if else c标签 总结_JavaLeader_新浪博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/8/19 18:06</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.sina.com.cn/s/blog_4550f3ca010143lb.html"><i>http://blog.sina.com.cn/s/blog_4550f3ca010143lb.html</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="position: relative;"><div><div><div><div><h1>c标签 if else c标签 总结_JavaLeader_新浪博客</h1></div><p><strong>JSTL标签用法</strong></p><p><strong>关键字：JSTL标签、&lt;c:choose&gt;、&lt;c:forEach&gt;、&lt;c:forTokens&gt;、&lt;c:if&gt;、&lt;c:import&gt;、&lt;c:otherwise&gt;、&lt;c:out&gt;、&lt;c:param&gt;、&lt;c:redirect&gt;、&lt;c:remove&gt;、&lt;c:url&gt;、&lt;c:when&gt;、&lt;c:set&gt;、&lt;c:catch&gt;</strong></p><p>原来一直没有看过，我说过我是新手，但是好多资料上似乎也不重视 JSTL。我看项目源代码发现其中使用到了这个标签库，感觉其还真是方便，页面看起来更加清爽。减少了 JAVA程序员亲自写的代码量，还真验证了，不懒不做程序员，程序员如果写代码不想着偷懒，那么生活是很无趣的。</p><p>下面总结总结，学习学习。：）</p><p>JSP 标准标记库（ Standard Tag Library ， JSTL) 是一组以标准化格式实现许多通用的 Web站点功能的定制标记。</p><p>JSP 技术的优势之一在于其定制标记库工具。除了核心 JSP 标记，如 jsp:include之外，定制标记库工具使您能够创建唯一的标记来描述以站点或应用程序为导向的操作。一旦您创建了定制标记库 ( 简称 taglib)，当您扩展项目或转向另一个项目时您可以重复使用这些标记。您还可以将 taglib传递给其它开发人员，从而他们可以在自己的网站上使用，或者在您 Web 应用程序的其它部分使用。</p><p>      JSTL 的目标是为了简化 JSP 页面的设计。对于页面设计人员来说，使用脚本语言（默认值是 JAVA语言）操作动态数据是比较困难的，而采用标签和表达式语言相对容易一些， JSTL的使用为页面设计人员和程序开发人员的分工协作提供了便利。</p><p>一．<strong> 配置JSTL</strong></p><p>包括两个 JAR 文件， jstl.jar 和 standard.jar 。是什么没有必要管，重在应用（ 1+1 ？ =2，我们没有必要深究，只需要知道这么用就行。）。</p><p>原文引入：</p><p>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;<a href="http://java.sun.com/jsp/jstl/core" target="_blank">http://java.sun.com/jsp/jstl/core </a>&quot;%&gt;</p><p>&lt;%@ taglib prefix=&quot;sql&quot; uri=&quot;<a href="http://java.sun.com/jsp/jstl/sql" target="_blank">http://java.sun.com/jsp/jstl/sql </a>&quot;%&gt;</p><p>&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;<a href="http://java.sun.com/jsp/jstl/fmt" target="_blank">http://java.sun.com/jsp/jstl/fmt </a>&quot;%&gt;</p><p>二． <strong>Core标签库</strong></p><p>Core 标签库主要包括了一般用途的标签、条件标签、迭代标签和 URL 相关的标签。在 JSP 页面使用 Core 标签，要使用taglig 指令，指定引用的标签库，如下：</p><p>&lt;%@ taglib rui=”http://java.sun.com/jsp/jstl/core”prefix=”c” %&gt;</p><p>一般用途的标签有 &lt;c:out&gt; 、&lt;c:set&gt; 、&lt;c:remove&gt; 、&lt;c:cath&gt;</p><p>1.&lt;c:out&gt;</p><p>用于计算一个表达式并将结果输出。类似于 JSP 中 &lt;%=%&gt;表达式，或者是 EL 中 $ ${el-expression} 。</p><p>2.&lt;c:set&gt;</p><p>用于设置范围变量的值或者 javabean 对象的属性。</p><p>看个实际例子：</p><p>&lt;c:set var=”username” value=”lisi”scope=”session”/&gt;</p><p>这样就相当于设置了 session 。</p><p>3.&lt;c:remove&gt;</p><p>相对 &lt;c:set&gt; 其作用是移除范围变量。比如：&lt;c:remove var=”nusername”scope=”session”/&gt;</p><p>4.&lt;c:catch&gt;</p><p>用于捕获在其中嵌套的操作所抛出的异常对象，并将异常信息保存到变量中。</p><p>我们将有可能抛出异常的代码放置到开始标签 :&lt;c:catch&gt; 和结束标签:&lt;/c:catch&gt;之间。如果其中代码出现异常，异常对象将被捕获，保存在 var 声明的变量中，该变量总是有 page 范围。如果没有发生异常，而 var所标识的范围变量将被移除。</p><p>如果没有指定 var 属性，异常只是简单的被捕获，异常信息并不会被保存。</p><p><strong>Eg ：</strong></p><p>&lt;c:catch var=”exception”&gt;</p><p>&lt;%</p><p>      int i = 5;</p><p>      int j = 0;</p><p>      int k=i/j;</p><p>%&gt;</p><p>&lt;/c:catch&gt;</p><p>&lt;c:out value=”${exception}”/&gt;&lt;br&gt;</p><p>&lt;c:outvalue=”${exception.massage}”/&gt;</p><p>后一句相当于： exception.getMessage()</p><p>条件标签包括&lt;c:if&gt;&lt;c:choose&gt;&lt;c:when&gt;&lt;c:otherwise&gt;</p><p>1.&lt;c:if&gt;</p><p>用于实现 java 中的 if 语句功能。</p><p>&lt;c:iftest=”${user.visitCount==1}”&gt;</p><p>      This is your first visit .</p><p>&lt;/c:if&gt;</p><p>若为 true ，会打印中间部分。也可以声明 var ，方便下一步判断。</p><p>&lt;c:if test=”${param.name==’admin’}”value=”result”/&gt;</p><p>&lt;c:out value=”${result}” /&gt;</p><p>2.&lt;c:choose&gt;</p><p>&lt;c:choose&gt; 和&lt;c:when&gt; 、&lt;c:otherwise&gt; 一起实现互斥条件执行，类似于 java 中的if else.</p><p>&lt;c:choose&gt; 一般作为&lt;c:when&gt; 、&lt;c:otherwise&gt; 的父标签。</p><p>&lt;c:choose&gt;</p><p>      &lt;c:whentest=&quot;${row.v_money&lt;10000}&quot;&gt;</p><p>      &lt;/c:when&gt;</p><p>      &lt;c:whentest=&quot;${row.v_money&gt;=10000&amp;&amp;row.v_money&lt;20000}&quot;&gt;</p><p>      &lt;/c:when&gt;</p><p>      &lt;c:otherwise&gt;</p><p>      &lt;/c:otherwise&gt;</p><p>&lt;/c:choose&gt;</p><p>迭代标签有 &lt;c:forEach&gt; 和&lt;/c:forEach&gt;</p><p>// 遍历记录集</p><p>&lt;c:forEach items=&quot;${finalResult.rows}&quot;var=&quot;row&quot;&gt;       </p><p>&lt;trclass=&quot;&lt;%=tdClass[(rank+1)%2]%&gt;&quot;&gt;</p><p>&lt;tdalign=&quot;center&quot;&gt;&lt;span&gt;&lt;%=rank%&gt;&lt;/span&gt;&lt;/td&gt;</p><p>&lt;tdalign=&quot;center&quot;&gt;&lt;span&gt;&lt;c:outvalue=&quot;${row.player_name}&quot;/&gt;&lt;/span&gt;&lt;/td&gt;</p><p>&lt;tdalign=&quot;center&quot;&gt;&lt;span &gt;￥ &lt;c:outvalue=&quot;${row.money}&quot;/&gt;&lt;/span&gt;&lt;/td&gt;</p><p>&lt;/tr&gt;</p><p>&lt;%rank++;%&gt;     </p><p>&lt;/c:forEach&gt;</p><p>也可以设定固定次数。</p><p>&lt;c:forEach var =”i” begin=”100 “ end=“110”&gt;</p><p>&lt;/c:forEach&gt;</p><p>如果再加个 step= “ 2 ”那么每次增长为 2 。</p><p>三．<strong> sql标签</strong></p><p>设置数据源：</p><p>&lt;sql:setDataSource dataSource=&quot;proxool.breadTycoon&quot;/&gt;</p><p>// 将数据库某查询的结果声明为一个变量</p><p>&lt;sql:query var=&quot;finalResult&quot; &gt;</p><p>    selectplayer_name,money from tb_player order by money DESC LIMIT10   </p><p>&lt;/sql:query&gt;</p><p>      然后可以：</p><p>&lt;c:forEach items=&quot;${ finalResult.rows}&quot; var=&quot;row&quot;varStatus=&quot;s&quot;&gt;</p><p>       advCosts[${s.index}]=${row.adv_cost};</p><p>  &lt;/c:forEach&gt;</p><p>      数据更新标签：</p><p>&lt;sql:update&gt;  </p><p>               call proc_set_role_salespro(?,?,?,?,?);</p><p>               &lt;sql:param value=&quot;30&quot;/&gt;</p><p>               &lt;sql:param value=&quot;39&quot;/&gt;</p><p>               &lt;sql:paramvalue=&quot;&lt;%=spID%&gt;&quot;/&gt;</p><p>               &lt;sql:paramvalue=&quot;&lt;%=productID%&gt;&quot;/&gt;</p><p>               &lt;sql:paramvalue=&quot;1&quot;/&gt;               </p><p>           &lt;/sql:update&gt;</p><p>&lt;sql:queryvar=&quot;queryAllChannelCount&quot;&gt;</p><p>SELECT COUNT(*) as total FROM tb_channel WHERE game_id=? ANDbegin_round&lt;func_cur_round(?) AND player_id=? ANDchannel_flag=0</p><p>&lt;sql:param value=&quot;${gameID}&quot;/&gt;</p><p>&lt;sql:param value=&quot;${gameID}&quot;/&gt;</p><p>&lt;sql:param value=&quot;${playerID}&quot;/&gt;</p><p>&lt;/sql:query&gt;</p><p>&lt;c:forEachitems=&quot;${queryAllChannelCount.rowsByIndex}&quot;var=&quot;channelCN&quot;&gt;</p><p>      &lt;c:set value=&quot;${channelCN[0]}&quot;var=&quot;channelTotal&quot;/&gt;</p><p>&lt;/c:forEach&gt;</p><p>调用存储过程更新数据库：</p><p>&lt;c:if test=&quot;${param.changsubmit!=null}&quot;&gt;</p><p>&lt;c:forEach items=&quot;${paramValues.pro_id}&quot;var=&quot;getpro_id&quot; varStatus=&quot;getparamsta&quot;&gt;</p><p>&lt;sql:update&gt;</p><p>call proc_set_role_product(?,?,?,?,?,?,?,?);</p><p>&lt;sql:param value=&quot;${gameID}&quot;/&gt;</p><p>&lt;sql:param value=&quot;${playerID}&quot;/&gt;</p><p>&lt;sql:param value=&quot;${getpro_id}&quot;/&gt;</p><p>&lt;sql:param value=&quot;${getpro_id}&quot;/&gt;</p><p>&lt;sql:paramvalue=&quot;${paramValues.pro_sort[getparamsta.index]}&quot;/&gt;</p><p>&lt;sql:paramvalue=&quot;${paramValues.price[getparamsta.index]}&quot;/&gt;</p><p>&lt;sql:paramvalue=&quot;${paramValues.output[getparamsta.index]}&quot;/&gt;</p><p>&lt;sql:param value=&quot;0&quot;/&gt;</p><p>&lt;/sql:update&gt;</p><p>&lt;/c:forEach&gt;</p><p>&lt;/c:if&gt;</p><p>四． 格式化标签</p><p>&lt;fmt: formatNumber value =”12.3”pattern=”.000”/&gt;</p><p>将输出 12.300. 应用样式 ”.000”, 将使格式化后的小数部分有 3 位。不足 3 位将以 0 补齐。</p><p>      &lt;fmt:formatDate value=”&lt;%=newjava.util.Date() %&gt;” type=”date”/&gt;</p><p>      格式化的结果是： 2007-5-27 .</p><p>&lt;fmt:formatDate value=”&lt;%=newjava.util.Date() %&gt;” type=”time”/&gt;</p><p>格式化的结果是： 9:25:11</p><p>&lt;fmt:formatDate value=”&lt;%=newjava.util.Date() %&gt;” type=”both”/&gt;</p><p>格式化的结果是： 2007-5-27 9:25:11</p><p>补充知识点：</p><p>1. 替换 request.getParameter(&quot;test&quot;):</p><p>&lt;c:if test=&quot;${param.test!=null}&quot;&gt;</p><p>&lt;c:out value=&quot;${param.test}&quot; /&gt;</p><p>&lt;/c:if&gt;</p><p>2. &lt;c:redirect url=&quot;a.jsp&quot;&gt;</p><p>3.&lt;c:redirect url=&quot;/max.jsp&quot;context=&quot;/ch16&quot;&gt;</p><p>&lt;c:param name=&quot;name1&quot;value=&quot;665&quot;/&gt;</p><p>&lt;c:param name=&quot;name3&quot; value=&quot; 斯蒂芬&quot;/&gt;</p><p>&lt;/c:redirect&gt;</p><p>4.&lt;c:forTokens items=&quot;zhangsan:lisi:as&quot; delims=&quot;:&quot;var=&quot;name&quot;&gt;</p><p>${name}</p><p>&lt;/c:forTokens&gt;</p><p>from:http://www.blogjava.net/JAVA-HE/archive/2007/05/27/120344.html</p></div></div></div></div><br/></span>
</div></body></html> 