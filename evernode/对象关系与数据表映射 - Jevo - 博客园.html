<html>
<head>
  <title>对象关系与数据表映射 - Jevo - 博客园</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10268"/>
<h1>对象关系与数据表映射 - Jevo - 博客园</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/3/29 17:06</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.cnblogs.com/jevo/archive/2013/04/02/2983790.html"><i>http://www.cnblogs.com/jevo/archive/2013/04/02/2983790.html</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="font-family:&quot;PingFang SC&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;color:rgb(0, 0, 0);background:url(&quot;/Skins/coffee/images/bg_body.gif&quot;) left top;line-height:1.5;font-size:14px;"><div style="min-width:auto;"><div style="min-width:auto;text-align:left;"><div style="background:transparent;text-align:left;overflow-x:hidden;"><div style="background:url(&quot;/Skins/coffee/images/bg_left.gif&quot;) left top repeat-x rgb(254, 254, 242);"><div><div style="text-overflow:ellipsis;overflow:hidden;word-break:break-all;"><div>
		<h1 style="margin:0px;padding:0px;width:100%;clear:both;font-weight:bold;float:left;line-height:1.5;font-size:14px;padding-left:5px;">
			<a href="http://www.cnblogs.com/jevo/archive/2013/04/02/2983790.html" style="margin:0px;padding:0px;text-decoration:none;color:rgb(7, 93, 179);">对象关系与数据表映射</a>
		</h1>
		<div style="margin:0px;padding:0px;clear:both;"></div>
		<div style="margin:0px;padding:5px 2px 5px 5px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin-top:5px;">
			<div style="margin:0px;padding:0px;margin-bottom:20px;word-break:break-word;"><p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate是当前流行的对象关系映射（ORM）框架，实现了程序对象到关系型数据库数据的映射。即然ORM实现的是对象和关系型数据表间的映射，它必然要在映射过程中解决对象层次结构中的关系问题。这里对映射关系作一个小结，以备以后查阅。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">我们很多Web项目都是由前端页面驱动来进行架构设计，即首先作出Web原型后，并基于此原型来产生表结构。一般情况下，所产生的对象层次是扁平的，对应的表结构也很简单，表间通常没有复杂的关联关系。但也有很多时候，我们需要往先分析项目的业务，然后建立起业务模型，根据业务模型的描述分解出不同类型的对象类。在最后会考虑对其中需要持续化的实体对象建立相关的数据表。这是面向对象的分析方法。这时产生的表结构应该表现出对象间的关系。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">啰嗦了几句，回过来我们看看在UML中的对象间关系。UML中的对象间的关系分为：继承、依赖、关联、聚合、组合。其中聚合和组合关系都属于是关联关系的特例，一般根据语义来区分，从代码层面上并不能有效区分，所以我们在关系映射时不作特别的区分。依赖关系在代码层面上表现为局部变量或方法的参数，以及对静态方法的调用，它不会以成员变量的形式存在于以来对象中，所以我们不对依赖关系进行映射。继承关系没得说，肯定是要处理的。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">我们来看映射时对对象间关系是如何进行处理的。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">1。对象继承关系的映射</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate中支持3种形式的继承关系处理：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">1)．表与子类之间的一对一对应，父类的共性都写在每张子表里。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">这种方案中，只有子表没有父表，所有子表都包括了父类属性对应的字段。这种映射方式的局限性在于，子表中的父类字段必须保持一致，一旦父类发生变动，所有子类表都必须进行修改。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">   &lt;class name=&quot;Users&quot; abstract=&quot;true&quot;&gt; &lt;!-- 没有父表 --&gt;<br style="margin:0px;padding:0px;"/>      &lt;!--不能使用class=&quot;native&quot;--&gt;<br style="margin:0px;padding:0px;"/>      &lt;id name=&quot;userid&quot;&gt;&lt;generator class=&quot;assigned&quot;/&gt;&lt;/id&gt;<br style="margin:0px;padding:0px;"/>      &lt;property name=&quot;pwd&quot;/&gt;<br style="margin:0px;padding:0px;"/>      &lt;union-subclass name=&quot;Guest&quot; table=&quot;guest&quot;&gt;&lt;!-- 子表定义，包含Guest子类的扩展属性 --&gt;<br style="margin:0px;padding:0px;"/>         &lt;property name=&quot;guestRemark&quot;/&gt;<br style="margin:0px;padding:0px;"/>      &lt;/union-subclass&gt;<br style="margin:0px;padding:0px;"/>      &lt;union-subclass name=&quot;Admin&quot; table=&quot;admin&quot;&gt;&lt;!-- 子表定义，包含Admin子类的扩展属性 --&gt;<br style="margin:0px;padding:0px;"/>         &lt;property name=&quot;adminRemark&quot;/&gt;<br style="margin:0px;padding:0px;"/>      &lt;/union-subclass&gt;<br style="margin:0px;padding:0px;"/>   &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">   这里Hibernate使用union-subclass标签来定义子类的。同时，Union-subclass标签不需要包含key标签。需要注意的是，主键定义不能使用class=&quot;native&quot;，如果使用class=&quot;native&quot;，在创建guest和admin两个表时，hibernate不会为他们的主键设置AUTO_INCREMENT，所以在插入数据时，必须提供主键值，否则会出现错误。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">2)．每个子类对应一张子表，并与主类共享主表</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">这种方案中，父类与子类都独立映射成对应的主表和子表，子表中只包含子类所扩展的属性，同时，子类引用父类的主键或享用公共的字段或属性。这种映射方式的局限性在于，多表联接操作需要更大的性能消耗。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=”Users” table=”users”&gt; &lt;!-- 主表定义 --&gt;<br style="margin:0px;padding:0px;"/>        &lt;id name=”userid” column=”USERID” type=”string”&gt;<br style="margin:0px;padding:0px;"/>            &lt;generator class=”assigned”/&gt;<br style="margin:0px;padding:0px;"/>        &lt;/id&gt;<br style="margin:0px;padding:0px;"/>        &lt;property name=”pwd” column=”pwd” type=”string” /&gt;<br style="margin:0px;padding:0px;"/>         &lt;joined-subclass name=”Guest” table=”guest”&gt; &lt;!-- 子表定义 --&gt;<br style="margin:0px;padding:0px;"/>             &lt;key column=”USERID”/&gt;<br style="margin:0px;padding:0px;"/>             &lt;property name=”guestRemark” column=”guest_remark” type=”string” /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/joined-subclass&gt;<br style="margin:0px;padding:0px;"/>        &lt;joined-subclass name=”Admin” table=”admin”&gt; &lt;!-- 子表定义 --&gt;<br style="margin:0px;padding:0px;"/>             &lt;key column=”USERID”/&gt;<br style="margin:0px;padding:0px;"/>             &lt;property name=”adminRemark” column=”admin_remark” type=”string” /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/joined-subclass&gt;<br style="margin:0px;padding:0px;"/>    &lt;/class&gt;<br style="margin:0px;padding:0px;"/><br style="margin:0px;padding:0px;"/></p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">   这里Hibernate是使用joined-subclass标签来指明子类，同时需要注意的是，Joined-subclass标签的name属性是子类的全路径名。Joined-subclass标签包含的key标签指明了子类和父类之间相关联的字段。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">3)．子类父类共用一个表，子类间通过类型（discriminator）字段加以区分</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">这种方案中，父类与子类都映射到同一张表中，子类的扩展属性和父类的公共属性成为表中的字段，但子表中的扩展字段可为空，子类间通过类型（discriminator）字段来加以区分。这种映射方式的局限性在于使用了冗余字段，需要更多的存储空间。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=”Users” table=”users” discriminator-value=”Users”&gt; &lt;!-- 仅有一张表 --&gt;<br style="margin:0px;padding:0px;"/>       &lt;discriminator column=”DISCRIMINATOR_USERTYPE” type=”string”/&gt;&lt;!-- 冗余字段定义 --&gt;<br style="margin:0px;padding:0px;"/>        &lt;subclass name=”Guest” discriminator-value=”guest”&gt; &lt;!-- 子类冗余字段的取值 guest --&gt;<br style="margin:0px;padding:0px;"/>           &lt;property name=”guestRemark” column=”guest_remark” type=”string” /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/subclass&gt;<br style="margin:0px;padding:0px;"/>        &lt;subclass name=”admin” discriminator-value=”admin”&gt; &lt;!-- 子类冗余字段的取值 admin --&gt;<br style="margin:0px;padding:0px;"/>           &lt;property name=”adminRemark” column=”admin_remark” type=”string” /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/subclass&gt;<br style="margin:0px;padding:0px;"/>    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  这里在父类中定义一个discriminator标记来指定子类区分字段的名称和类型，在子类中使用&lt;subclass&gt;标签定义，在标签定义中用discriminator-value属性来表明子类的discriminator字段的值。在存储的时候hibernate会自动地将该category字段值插入到数据库中，而在加载数据时，hibernate就能根据这个category字段值加载相对应的对象。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">2．对象关联关系的映射</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">对象间的关联关系有一对一、一对多、多对一或多对多，所以Hibernate中映射关系也主要处理一对一、一对多、多对一或多对多的关联关系。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">1）一对一</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">一对一关联包括如下两种类型：主键关联和唯一外键关联。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      •   主键关联</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">一对一的主键关联方式是直接通过两个表的主键来形成一对一的映射关系，两张表共享相同的主键。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">如：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      人员信息表person（personId编号、name姓名、sex姓别、。。。）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      员工表employee（工号empId、姓名name、部门depId）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      对于员工和员工信息进行主键一对一关联。首先要在employee对象的配置文件里定义到person对象的关联：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">&lt;class name=&quot;employee&quot; class =”Employee” table=&quot;employee&quot;&gt; <br style="margin:0px;padding:0px;"/>    &lt;id name=&quot;empId&quot; type=&quot;java.lang.Long&quot;&gt; <br style="margin:0px;padding:0px;"/>      &lt;column name=&quot;empId&quot; /&gt; <br style="margin:0px;padding:0px;"/>      &lt;generator class=&quot;identity&quot; /&gt; <br style="margin:0px;padding:0px;"/>    &lt;/id&gt; <br style="margin:0px;padding:0px;"/>    &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt; <br style="margin:0px;padding:0px;"/>      &lt;column name=&quot;name&quot; not-null=&quot;true&quot;&gt; <br style="margin:0px;padding:0px;"/>        &lt;comment&gt;姓名&lt;/comment&gt; <br style="margin:0px;padding:0px;"/>      &lt;/column&gt; <br style="margin:0px;padding:0px;"/>    &lt;/property&gt; </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">….<br style="margin:0px;padding:0px;"/>    &lt;!-- cascade=&quot;all&quot;：在保存employee对象的时候，级联保存关联的person对象    --&gt; <br style="margin:0px;padding:0px;"/>    &lt;one-to-one name=&quot; person&quot; class=”Person” cascade=&quot;all&quot; /&gt; <br style="margin:0px;padding:0px;"/>  &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">添加employee的时候,不会出现TransientObjectException异常,因为一对一主键关联映射中,默认了cascade属性。只有加上约束(constrained=true)后，从对象才和主对象建立关联，从对象的主键和外键是同一个对象，都是主对象的主键。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">然后在person对象的配置文件中定义到employee对象的关联：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">&lt;class name=&quot;person&quot; class=&quot;Person&quot;  table=&quot; person &quot;&gt; <br style="margin:0px;padding:0px;"/>    &lt;id name=&quot;personId&quot; type=&quot;java.lang.Long&quot;&gt; <br style="margin:0px;padding:0px;"/>      &lt;column name=&quot;personId&quot; /&gt; <br style="margin:0px;padding:0px;"/>      &lt;!-- 使用foreign 表示一对一主键映射中，使用另外一个相关联的对象的标识符，确保两张表的主键相等 --&gt; <br style="margin:0px;padding:0px;"/>      &lt;generator class=&quot;foreign&quot;&gt; <br style="margin:0px;padding:0px;"/>        &lt;param name=&quot;property&quot;&gt; employee &lt;/param&gt; <br style="margin:0px;padding:0px;"/>      &lt;/generator&gt; <br style="margin:0px;padding:0px;"/>    &lt;/id&gt; <br style="margin:0px;padding:0px;"/>    &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt; <br style="margin:0px;padding:0px;"/>      &lt;column name=&quot;name&quot; not-null=&quot;true&quot;&gt; <br style="margin:0px;padding:0px;"/>        &lt;comment&gt;姓名&lt;/comment&gt; <br style="margin:0px;padding:0px;"/>      &lt;/column&gt; <br style="margin:0px;padding:0px;"/>    &lt;/property&gt; <br style="margin:0px;padding:0px;"/>    &lt;!-- 表示在person表存在一个外键约束，constrained属性表明主键同时作为外键参照参考相关联的表employee --&gt; <br style="margin:0px;padding:0px;"/>    &lt;one-to-one name=&quot; employee &quot; class=&quot;Employee&quot; constrained=&quot;true&quot; /&gt; <br style="margin:0px;padding:0px;"/>  &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">这样就完成了通过主键关联关系的方式实现对象之间一对一。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">小结：在Hibernate中，可以通过“foreign”类型的主键生成器与外键共享主键值。同时，one-to-one节点的constrained属性必须设定为“true”，以告知Hibernate当前表主键上存在一个约束：关联对象（被动方person）引用主动方(employee)的主键。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在关联对象的&lt;one-to-one&gt;配置时的属性是不同的，因为主动的一方是employee，被动的一方是person，在主动方employee的&lt;one-to-one&gt;节点上要求一个配置cascade，cascade为all表示表示主动一方无论执行任何操作，其关联对象执行同样的操作</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      •   唯一外键关联</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate中的唯一外键关联由“many-to-one”节点定义，一个表的某个外键字段关联到另一个表的主键上。表示被动方唯一从属于主动方的一个属性组。唯一外键关联的一对一关系只是多对一关系的一个特例。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">如：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      员工表employee（工号empId、姓名name、部门depId）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      员工信息表person（personId编号、工号empid、name姓名、sex姓别、。。。）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">其中，person中的empid与员工表中的employee中的empId关联。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">首先配置person对象的映射文件(&lt;many-to-one name=&quot;employee&quot; class=&quot;employee&quot; column=&quot;empId&quot; unique=&quot;true&quot; /&gt;)</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;person&quot; table=&quot;person&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;personId&quot; type=&quot;java.lang.Long&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;column  name=&quot; personId &quot; /&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/id&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;column name=&quot;name&quot; /&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/property&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;!--column=&quot;gradeClassId&quot; 表示的是user表中和班级表关联字段gradeClassId --&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;many-to-one name=&quot;employee&quot; column=&quot;empId&quot; class=&quot;employee&quot; unique=&quot;true&quot; /&gt;      </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt; </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"><br style="margin:0px;padding:0px;"/>在这里就形成了一个person对象到employee对象的单向一对一关系。<br style="margin:0px;padding:0px;"/>接下来在employee对象的配置文件进行相应的配置实现对象之间的双向一对一关联关系。<br style="margin:0px;padding:0px;"/>    &lt;class name=&quot;employee&quot; table=&quot;employee&quot;&gt;           </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;personId&quot; column=&quot;personId_id&quot; type=&quot; java.lang.Long &quot; &gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">                &lt;generator class=&quot;increment&quot; /&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/id&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;empid&quot; column=&quot;empid&quot; type=”java.lang.Long” /&gt;           </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=”java.lang.String” /&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;one-to-one name=&quot;person&quot; class=&quot;Person&quot; property-ref=&quot; employee &quot; /&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> 如果只需要单向一对一关系，则将employee对象配置文件中的&lt;one-to-one/&gt;配置去除就是了。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">2）一对多关联</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">一对多关联在Hibernate中是通过one-to-many节点来声明的。对于one-to-many关联关系，采用java.util.Set(或org.sf.hibernate.collection.Bag)类型的Collection，在XML映射文件中表现为&lt;set&gt;..&lt;/set&gt;（或&lt;bag&gt;….&lt;/bag&gt;）节点。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">一对多关联分为单向一对多关系和双向一对多关系。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">单向一对多关系只需在“一”方进行配置，双向一对多关系需要在关联双方均加以配置。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">       •   单向一对多关系</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">单向: 在多的一端加入一个外键指向一的一端,它维护的关系是一指向多</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">加载时: 加载一的一端时,会把多的一端的数据也都加载上(相当于执行两次查找操作)<br style="margin:0px;padding:0px;"/>如：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      人员信息表person（personId编号、name姓名、sex姓别、。。。）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      员工表employee（工号empId、姓名name、部门depId）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      部门表 department(depId编号、name部门名称。。。)</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在一的一端：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;employee&quot; class=&quot;employee&quot; table=&quot;employee&quot;&gt;          </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;empId&quot; type=&quot;java.lang.Long&quot;&gt; <br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;empId&quot; /&gt; <br style="margin:0px;padding:0px;"/>            &lt;generator class=&quot;identity&quot; /&gt; <br style="margin:0px;padding:0px;"/>        &lt;/id&gt; </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;set name=&quot;department&quot; inverse=&quot;false&quot; cascade=&quot;save-update&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;key column=&quot;depId&quot; not-null=&quot;true&quot;/&gt;<br style="margin:0px;padding:0px;"/>            &lt;one-to-many class=&quot;department&quot; /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/set&gt;&lt;!-- depId为department表的外键 reference 到 user的主键--&gt;            </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=”java.lang.String” /&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在多的一端：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;department&quot; class=&quot;department&quot; table=&quot;department”&gt;<br style="margin:0px;padding:0px;"/>        &lt;id name=&quot;depId&quot; type=&quot;java.lang.Long&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;depId&quot;/&gt;<br style="margin:0px;padding:0px;"/>            &lt;generator class=&quot;identity&quot; /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/id&gt;<br style="margin:0px;padding:0px;"/>        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;name&quot;/&gt;<br style="margin:0px;padding:0px;"/>        &lt;/property&gt;<br style="margin:0px;padding:0px;"/>    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">单向一对多关联存在的问题是：只能通过主控方对被动方进行级联更新来保持关联关系。如果被关联方的关联字段为“NOT NULL“，当Hibernate创建或更新关联关系时，可能出现约束违例。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">针对这个问题，我们可以在设计时借助一些方式进行调整，以避免这样的约束违例。如将关联字段设置为允许为NULL值，或将被动方的关联字段从其映射文件中剔除等。单向一对多关联中，对被动方的数据插入，Hibernate的实现机制采用了两条SQL语句进行一次数据插入操作。第一个SQL语句用于插入新记录，第二条SQL语句用于更新关联字段的值。针对这种情况，双向一对多关系可以解决两条SQL的问题。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      •   双向一对多关联</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">双向: 在一的一端的集合上使用,在对方表中加入一个外键指向一的一端<br style="margin:0px;padding:0px;"/>双向一对多关联实际上是“一对多”与“多对一”关联的组合。即必须在主控方配置单向一对多关系的基础上，在被动方配置与其对应的多对一关系。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">如：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      员工表employee（工号empId、姓名name、部门depId）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      部门表 department(depId编号、name部门名称。。。)</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在一的一端：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;employee&quot; class=&quot;employee&quot; table=&quot;employee&quot;&gt;          </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;empId&quot; type=&quot;java.lang.Long&quot;&gt; <br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;empId&quot; /&gt; <br style="margin:0px;padding:0px;"/>            &lt;generator class=&quot;identity&quot; /&gt; <br style="margin:0px;padding:0px;"/>        &lt;/id&gt; </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;set name=&quot;department&quot; <strong style="margin:0px;padding:0px;">inverse</strong>=&quot;false&quot; cascade=&quot;save-update&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;key column=&quot;depId&quot; not-null=&quot;true&quot;/&gt;<br style="margin:0px;padding:0px;"/>            &lt;one-to-many class=&quot;department&quot; /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/set&gt;&lt;!-- depId为department表的外键 reference 到 user的主键--&gt;            </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=”java.lang.String” /&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在多的一端：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">&lt;class name=&quot;department&quot; class=&quot;department&quot; table=&quot;department”&gt;<br style="margin:0px;padding:0px;"/>        &lt;id name=&quot;depId&quot; type=&quot;java.lang.Long&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;depId&quot;/&gt;<br style="margin:0px;padding:0px;"/>            &lt;generator class=&quot;identity&quot; /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/id&gt;<br style="margin:0px;padding:0px;"/>        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;name&quot;/&gt;<br style="margin:0px;padding:0px;"/>        &lt;/property&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;many-to-one name=&quot; employee&quot; column=&quot;empId&quot; class=&quot;employee&quot;/&gt;<br style="margin:0px;padding:0px;"/>    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在one-to-many关系中，将many一方设置为主控方（inverse=false）将有助性能的改善。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate术语“Inverse”，指定关联关系中的方向。关联关系中，inverse=“false”的为主动方，由主动方负责维护关联关系。</p>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse:collapse;font-size:inherit;font-style:inherit;font-variant:inherit;padding:0px;font-weight:inherit;margin:0px;word-break:break-word;border:1px solid silver;display:block;overflow-x:scroll;">
<tbody style="margin:0px;padding:0px;">
<tr style="margin:0px;padding:0px;">
<td style="margin:0px;border:1px solid silver;border-collapse:collapse;padding:3px;white-space:nowrap;" valign="top" width="590">
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Inverse和cascade的区别：inverse指的是关联关系的控制方向，而cascade指的是层次之间的连锁操作</p>
</td>
</tr>
</tbody>
</table>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">标签指定的外键字段必须和指定的外键字段一致,否则引用字段的错误。<br style="margin:0px;padding:0px;"/><br style="margin:0px;padding:0px;"/></p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">一对多的关系一般采用双向的,在一的一端设置inverse属性,把关联关系交给多的一端,避免发出多余的update。<br style="margin:0px;padding:0px;"/>     inverse： 配置在主控方，指定外键的关系有谁控制<br style="margin:0px;padding:0px;"/>         inverse=false 是主控方，外键是由它控制的<br style="margin:0px;padding:0px;"/>         inverse=true   是被控方，外键与它没关系<br style="margin:0px;padding:0px;"/>             要想实现主控方的控制必须将被控方作为主控方的属性<br style="margin:0px;padding:0px;"/>    cascade： 级联, 主表增从表增；主表修从表修；主表删从表删</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    lazy： 延迟<br style="margin:0px;padding:0px;"/>         lazy=false：一下将所有的内容取出，不延时(常用)<br style="margin:0px;padding:0px;"/>         lazy=true：  取出部分内容，其余内容动态去取<br style="margin:0px;padding:0px;"/>通过get可以取出对方的所有内容</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">3）多对一</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">多对一: 会在多的一端加入一个外键,指向一的一端<br style="margin:0px;padding:0px;"/>Hibernate多对一单向映射和一多都是为了完成同一个目的，只不过处理的方式不一样，改变的只是管理的方向，在一对多里面设置主控方在一方，而在多对一里只是改变了控制的主体，把控制方交给多方了。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">通过many-to-one元素,可以定义一种常见的与另一个持久化类的关联.这种关系模型是多对一关联:这个表的一个外键引用目标表的主键字段</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">       •   单向多对一关系</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在一的一端：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;employee&quot; class=&quot;employee&quot; table=&quot;employee&quot;&gt;          </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;empId&quot; type=&quot;java.lang.Long&quot;&gt; <br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;empId&quot; /&gt; <br style="margin:0px;padding:0px;"/>            &lt;generator class=&quot;identity&quot; /&gt; <br style="margin:0px;padding:0px;"/>        &lt;/id&gt;               </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=”java.lang.String” /&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在多的一端：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">&lt;class name=&quot;department&quot; class=&quot;department&quot; table=&quot;department”&gt;<br style="margin:0px;padding:0px;"/>        &lt;id name=&quot;depId&quot; type=&quot;java.lang.Long&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;depId&quot;/&gt;<br style="margin:0px;padding:0px;"/>            &lt;generator class=&quot;identity&quot; /&gt;<br style="margin:0px;padding:0px;"/>        &lt;/id&gt;<br style="margin:0px;padding:0px;"/>        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;<br style="margin:0px;padding:0px;"/>            &lt;column name=&quot;name&quot;/&gt;<br style="margin:0px;padding:0px;"/>        &lt;/property&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;many-to-one name=&quot;employee&quot; not-null=&quot;true&quot; cascade=&quot;save-update&quot;<br style="margin:0px;padding:0px;"/>            class=&quot;employee&quot; column=&quot;empId&quot; lazy=&quot;false&quot;&gt;<br style="margin:0px;padding:0px;"/>        &lt;/many-to-one&gt;<br style="margin:0px;padding:0px;"/>    &lt;/class&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">       •   双向多对一关系</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">在配置形式上与双向一对多关系相同。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">4）多对多</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">多对多（many-to-many）：在操作和性能方面都不太理想，所以多对多的映射使用较少，实际使用中我们都是采用引入第三方表来描述它们之间的关联的。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">多对多关联需要借助中间表完成多对多映射信息的保存。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">由于多对多关联的性能不佳（由于引用中间表，一次读取操作需要反复数次查询），因此在设计中应该避免大量使用。同时，在多对多关系中，应根据情况，采取延迟加载（Lazy Loading）机制来避免无谓的性能开销。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">多对多关系中，由于关联关系是两张表相互引用，因此在保存关联状态时必须对双方同时保存。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">数据关联机制相关的其他技术关注点，如集合、延迟加载、以及关联读取的操作方式等参见相关内容。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">       •   单向多对多关系</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">如果要求拿到用户需要知道它的角色，而不去关心反向的加载。那么这个就是单向的。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">如：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      员工表employee（工号empId、姓名name。。）</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">      角色表 role(roleId编号、name名称。。。)</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;employee&quot; class =&quot;employee&quot; table=&quot;employee&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;empId&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;generator class=&quot;native&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/id&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;set name=&quot;roles&quot; table=&quot;employee_role&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;key column=&quot;roleId&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;many-to-many class=&quot; role&quot; column=&quot;roleId&quot;/&gt;          </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/set&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;role&quot; class=&quot;role&quot; table=&quot;role&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;roleId&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;generator class=&quot;native&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/id&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">这里面employee实体持有一个role的set集合，使用第三方表employee_role把两个表的主键关联起来.</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">       •   双向多对多关系</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">双向多对多就是双方都运用对方的一个引用。在任何一方加载的时候都会自动加载与其关联的另一端数据。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;class name=&quot;role&quot; class=&quot;role&quot; table=&quot;role&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;id name=&quot;roleId&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;generator class=&quot;native&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/id&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;property name=&quot;name&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;set name=&quot;employee&quot; class=”employee” table=&quot;employee_role&quot;&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;key column=&quot;empId&quot; /&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">            &lt;many-to-many class=&quot;employee&quot; column=&quot;empId&quot;/&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">        &lt;/set&gt;</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">    &lt;/class&gt;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">一定要注意映射文件中&lt;many-to-many class=&quot;employee&quot; column=&quot;empId&quot;/&gt;中class的值，它必须与你另一个关联映射文件中的class属性的name值一致，其实就是与你的实体类的类名一致，不一致将会抛出异常：An association from the table employee_role refers to an unmapped class:</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">其实多对多就是两个一对多，它的配置没什么新奇的相对于一对多。在多对多的关系设计中，一般都会使用一个中间表将他们拆分成两个一对多。&lt;set&gt;标签中的&quot;table&quot;属性就是用于指定中间表的。中间表一般包含两个表的主键值，该表用于存储两表之间的关系。由于被拆成了两个一对多，中间表是多方，它是使用外键关联的，&lt;key&gt;是用于指定外键的，用于从中间表取出相应的数据。中间表每一行数据只包含了两个关系表的主键，要获取与自己关联的对象集合，还需要取出由外键所获得的记录中的另一个主键值，由它到对应的表中取出数据，填充到集合中。&lt;many-to-many&gt;中的&quot;column&quot;属性是用于指定按那一列的值获取对应的数据。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"><strong style="margin:0px;padding:0px;">工具使用</strong></p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">上面描述了对象关系映射，但在实际操作中，我们可以借助一些工具来做这些事情。虽然工具可以做这些事，但理解它的映射关系还是非常必要的。要解决的映射工作无非一是已经存在有数据表，从数据表导出对象映射关系，包括POJO和hbm文件，一是从已有的POJO来生成对象映射关系，另一个就是从已有的对象映射文件来生成相关的POJO文件。我在工作中一般使用Middlegen来处理映射关系。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">[注]</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate的核心接口一共有5个，分别为:Session、SessionFactory、Transaction、Query和Configuration。通过这些接口实现了对持久化对象进行存取和事务控制。<br style="margin:0px;padding:0px;"/>   　•Session接口: Session接口负责执行被持久化对象的CRUD操作。同时，Session对象是非线程安全的。<br style="margin:0px;padding:0px;"/>　　•SessionFactory接口: SessionFactroy接口负责初始化Hibernate，充当数据源代理，并负责创建Session对象。SessionFactory不是轻量级的，通常一个项目中只需要一个SessionFactory。当跨多个数据库存储时，可以为每个数据库创建一个SessionFactory。<br style="margin:0px;padding:0px;"/>　　•Configuration接口: Configuration接口负责配置并启动Hibernate，创建SessionFactory对象。<br style="margin:0px;padding:0px;"/>　　•Transaction接口: Transaction接口负责事务相关的操作。<br style="margin:0px;padding:0px;"/>　　•Query和Criteria接口: Query和Criteria接口负责执行各种数据库查询。它支持HQL语言或SQL语句两种表达方式。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">工作原理：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate通过映射文件获得对象对应的数据表名以及数据字段，然后通过反射机制持久化对象的各个属性，最后生成向数据库插入的SQL insert语句。在调用了session.save()方法后，POJO对象会标识成持久化状态存放在session中，此时，这个对象就是一个持久化了的对象，但同时Hibernate还未执行insert语句，只有当session的刷新同步或事务提交时，Hibernate才会把session缓存中的所有SQL语句一起执行。更新、删除操作采用类似的机制。在事务提交成功后，所有写操作就会被永久地保存进数据库中。如果设置了二级缓存，这些操作还会同步到二级缓存中。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">具体的工作过程如下：<br style="margin:0px;padding:0px;"/>1. 读取并解析配置文件<br style="margin:0px;padding:0px;"/>2. 读取并解析映射信息，创建SessionFactory<br style="margin:0px;padding:0px;"/>3. 打开Sesssion<br style="margin:0px;padding:0px;"/>4. 创建事务Transation<br style="margin:0px;padding:0px;"/>5. 持久化操作<br style="margin:0px;padding:0px;"/>6. 提交事务<br style="margin:0px;padding:0px;"/>7. 关闭Session<br style="margin:0px;padding:0px;"/>8. 关闭SesstionFactory<br style="margin:0px;padding:0px;"/><br style="margin:0px;padding:0px;"/></p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Hibernate编程步骤</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">1. 编写domain类：一些属性和get、set方法</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">2. 编写映射文件.hbm.xml：把java对象和关系模型对应起来。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">3. 编写配置文件 hibernate.cfg.xml：用于配置Hibernate，初始化时首先读取此配置文件。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">4. 编程代码：代码的一般样式如下：</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">//创建Configeration类的实例，它的构造方法：将配置信息(Hibernate config.xml)读入到内存。一个Configeration 实例代表Hibernate 所有Java类到Sql数据库映射的集合。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Configuration config = new Configuration().configure();</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">//创建SessionFactory实例，把Configeration 对象中的所有配置信息拷贝到SessionFactory的缓存中，SessionFactory的实例代表一个数据库存储员源，创建后不再与Configeration 对象关联。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">SessionFactory sf = conf.buildSessionFactory();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">//调用SessionFactory创建Session的方法</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">Session session = sf.openSession();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">//通过Session 接口提供的各种方法来操纵数据库访问。</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">try{  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  Transaction tx = session.beginTransaction();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  User user = new User();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  user.setName(&quot;wuyuan&quot;);  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  user.setBirthday(new Date());  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  session.save(user);  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  tx.commit();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">}catch(Exception e){  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  e.printStackTrace();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">} finally{  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  session.close();  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">  session = null;  </p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;">}</p>
<p style="padding:0px;line-height:1.5;color:rgb(0, 0, 0);font-size:13px;margin:10px auto;text-indent:0px;"> </p></div>
<div style="margin:0px;padding:0px;clear:both;"></div>
<div style="margin:0px;padding:0px;margin-top:20px;">
<div style="margin:0px;padding:0px;margin-bottom:10px;">分类: <a href="http://www.cnblogs.com/jevo/category/461908.html" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);" target="_blank">hibernate</a></div>
<div style="margin:0px;padding:0px;font-size:9pt;color:rgb(102, 102, 102);margin-top:0px;"></div>
<div style="margin:0px;padding:0px;"><div style="margin:0px;padding:10px 0px;margin-bottom:10px;margin-top:10px;border:1px dashed silver;font-size:12px;width:320px;text-align:center;">
        <a href="#" style="margin-right:10px;margin:0px;border-radius:10px;padding:3px 8px;text-decoration:none;font-weight:bold;cursor:pointer;display:inline-block;vertical-align:middle;box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D&quot;) repeat-x;background-color:rgb(45, 174, 191);color:rgb(255, 255, 255);border:none;">好文要顶</a>
            <a href="#" style="margin-right:10px;margin:0px;border-radius:10px;padding:3px 8px;text-decoration:none;font-weight:bold;cursor:pointer;display:inline-block;vertical-align:middle;box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D&quot;) repeat-x;background-color:rgb(227, 49, 0);color:rgb(255, 255, 255);border:none;">关注我</a>
    <a href="#" style="margin-right:10px;margin:0px;border-radius:10px;padding:3px 8px;text-decoration:none;font-weight:bold;cursor:pointer;display:inline-block;vertical-align:middle;box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D&quot;) repeat-x;background-color:rgb(255, 181, 21);color:rgb(255, 255, 255);border:none;">收藏该文</a>
    <a href="#" style="margin-right:10px;margin:0px;border-radius:10px;padding:3px 2px;text-decoration:none;font-weight:bold;cursor:pointer;display:inline-block;vertical-align:middle;box-shadow:none;text-shadow:none;background:none;color:rgb(255, 255, 255);border:none;" title="分享至新浪微博"><img src="对象关系与数据表映射 - Jevo - 博客园_files/icon_weibo_24.png" type="image/png" data-filename="icon_weibo_24.png" alt="" height="24" style="margin:0px;padding:0px;height:auto;border:none;vertical-align:middle;margin-left:5px;box-shadow:none;max-width:300px;" width="24"/></a>
    <a href="#" style="margin-right:10px;margin:0px;border-radius:10px;padding:3px 2px;text-decoration:none;font-weight:bold;cursor:pointer;display:inline-block;vertical-align:middle;box-shadow:none;text-shadow:none;background:none;color:rgb(255, 255, 255);border:none;" title="分享至微信"><img src="对象关系与数据表映射 - Jevo - 博客园_files/wechat.png" type="image/png" data-filename="wechat.png" alt="" height="24" style="margin:0px;padding:0px;border:medium none;width:24px;height:24px;box-shadow:none;margin-left:5px;vertical-align:middle;max-width:300px;" width="24"/></a>
</div>
<div style="margin:0px;padding:0px;float:left;width:280px;margin-top:0px;margin-bottom:10px;color:rgb(0, 0, 0);margin-left:0px;font-size:12px;">
    <div style="margin:0px;padding:0px;float:left;line-height:18px;">
            <a href="http://home.cnblogs.com/u/jevo/" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);" target="_blank"><img src="对象关系与数据表映射 - Jevo - 博客园_files/sample_face.gif" type="image/gif" data-filename="sample_face.gif" alt="" height="46" style="margin:0px;padding:0px;height:auto;border:0px;vertical-align:top;float:left;margin-right:5px;padding-top:5px;padding-left:2px;max-width:300px;" width="47"/></a>
        <div style="margin:0px;padding:0px;float:left;line-height:18px;">
            <a href="http://home.cnblogs.com/u/jevo/" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);">Jevo</a><br style="margin:0px;padding:0px;"/>
            <a href="http://home.cnblogs.com/u/jevo/followees" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);">关注 - 0</a><br style="margin:0px;padding:0px;"/>
            <a href="http://home.cnblogs.com/u/jevo/followers" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);">粉丝 - 21</a>
        </div>
    </div>
    <div style="margin:0px;padding:0px;clear:both;"></div>
    <div style="margin:0px;padding:0px;"></div>
    <div style="margin:0px;padding:0px;">
                <a href="#" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);">+加关注</a>
    </div>
</div>
<div style="margin:0px;padding:0px;float:right;margin-bottom:10px;margin-right:30px;font-size:12px;width:125px;text-align:center;margin-top:10px;">
    <div style="margin:0px;padding:0px;float:left;width:46px;height:52px;background:url(&quot;http://static.cnblogs.com/images/upup.gif&quot;) no-repeat;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;">
        <span style="margin:0px;padding:0px;font-size:14px;color:rgb(7, 93, 179);font-family:Verdana;line-height:1.5em;">0</span>
    </div>
    <div style="text-align:center;padding:0px;margin:0px;height:52px;background:url(&quot;http://static.cnblogs.com/images/downdown.gif&quot;) no-repeat;margin-left:20px;cursor:pointer;margin-top:2px;padding-top:5px;width:46px;float:right;">
        <span style="margin:0px;padding:0px;font-size:14px;color:rgb(7, 93, 179);font-family:Verdana;line-height:1.5em;">0</span>
    </div>
    <div style="margin:0px;padding:0px;clear:both;"></div>
    <div style="margin:0px;padding:0px;margin-top:5px;margin-left:0px;font-size:12px;color:gray;">
    </div>
</div>
</div>
<div style="margin:0px;padding:0px;clear:both;"></div>
<div style="margin:0px;padding:0px;line-height:1.8;font-size:12px;"><a href="http://www.cnblogs.com/jevo/archive/2013/04/01/3007268.html" style="margin:0px;padding:0px;color:rgb(7, 93, 179);text-decoration:none;">« </a> 上一篇：<a href="http://www.cnblogs.com/jevo/archive/2013/04/01/3007268.html" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);" title="发布于2013-04-01 23:38">表达式处理</a><br style="margin:0px;padding:0px;"/><a href="http://www.cnblogs.com/jevo/archive/2013/04/08/2992445.html" style="margin:0px;padding:0px;color:rgb(7, 93, 179);text-decoration:none;">» </a> 下一篇：<a href="http://www.cnblogs.com/jevo/archive/2013/04/08/2992445.html" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(7, 93, 179);" title="发布于2013-04-08 13:46">Java中运行动态脚本</a><br style="margin:0px;padding:0px;"/></div>
</div>


		</div>
		<div style="margin:0px;padding:0px;clear:both;font-size:12px;float:right;width:100%;text-align:right;padding-right:5px;color:rgb(102, 102, 102);margin-top:5px;">posted @ <span style="margin:0px;padding:0px;">2013-04-02 22:12</span> <a href="http://www.cnblogs.com/jevo/" style="margin:0px;padding:0px;text-decoration:none;color:rgb(7, 93, 179);">Jevo</a> 阅读(<span style="margin:0px;padding:0px;">387</span>) 评论(<span style="margin:0px;padding:0px;">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=2983790" rel="nofollow" style="margin:0px;padding:0px;text-decoration:none;color:rgb(7, 93, 179);">编辑</a> <a href="http://www.cnblogs.com/jevo/archive/2013/04/02/2983790.html#" style="margin:0px;padding:0px;text-decoration:none;color:rgb(7, 93, 179);">收藏</a></div>
	</div></div></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 