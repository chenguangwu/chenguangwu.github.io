<html>
<head>
  <title>Redis基数统计——HyperLogLog小内存大用处 – 赵伊凡's Blog</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="8421"/>
<h1>Redis基数统计——HyperLogLog小内存大用处 – 赵伊凡's Blog</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/3/23 18:46</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://irfen.me/redis-hyperloglog-intro/"><i>http://irfen.me/redis-hyperloglog-intro/</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="font-family:sans-serif;line-height:1.15;text-size-adjust:100%;box-sizing:border-box;"><div style="box-sizing:inherit;color:rgb(51, 51, 51);font-size:0.9375rem;font-weight:400;line-height:1.66;background:rgb(255, 255, 255);font-family:&quot;PingFang TC&quot;, &quot;Helvetica Neue&quot;, Helvetica, STHeitiTC-Light, Arial, sans-serif;letter-spacing:0px;"><div style="box-sizing:inherit;word-wrap:break-word;letter-spacing:0px;"><div style="box-sizing:inherit;background-color:rgb(255, 255, 255);letter-spacing:0px;"><div style="box-sizing:inherit;letter-spacing:0px;"><div style="box-sizing:inherit;letter-spacing:0px;"><div style="box-sizing:inherit;letter-spacing:0px;"><span style="box-sizing:inherit;letter-spacing:0px;"><div style="box-sizing:inherit;letter-spacing:0px;">
		<div style="box-sizing:inherit;display:block;padding:1em 0px;margin-left:auto;margin-right:auto;padding-top:0px;letter-spacing:0px;">
		<div style="box-sizing:inherit;color:rgb(118, 118, 118);font-size:0.6875rem;font-weight:800;padding-bottom:0.25em;text-transform:uppercase;letter-spacing:0px;"><span style="box-sizing:inherit;letter-spacing:0px;"><span style="box-sizing:inherit;clip:rect(1px 1px 1px 1px);height:1px;overflow:hidden;width:1px;position:absolute;word-wrap:normal;letter-spacing:0px;">发布于</span><a href="http://irfen.me/redis-hyperloglog-intro/" rel="bookmark" style="box-sizing:inherit;background-color:transparent;color:rgb(118, 118, 118);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;"><span style="box-sizing:inherit;letter-spacing:0px;">2016年9月29日</span></a></span><span style="box-sizing:inherit;display:inline;letter-spacing:0px;"> 由<span style="box-sizing:inherit;letter-spacing:0px;"><a href="http://irfen.me/author/irfenvip-qq-com/" style="box-sizing:inherit;background-color:transparent;color:rgb(118, 118, 118);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">赵 伊凡</a></span></span></div><h1 style="box-sizing:inherit;margin:0px 0px 0.75em;clear:both;line-height:1.4;padding:1.5em 0px 0px;font-weight:700;font-size:1.625rem;margin-bottom:0.25em;padding-top:0px;letter-spacing:0px;">Redis基数统计——HyperLogLog小内存大用处</h1>	</div>

	
	<div style="box-sizing:inherit;margin-left:auto;margin-right:auto;letter-spacing:0px;"><span style="letter-spacing:0px;display:table;table-layout:fixed;"></span>
		<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">我们一直都知道，<span style="box-sizing:inherit;letter-spacing:0px;"><a href="http://irfen.me/tag/redis" style="box-sizing:inherit;background-color:transparent;color:rgb(34, 34, 34);text-decoration:none;box-shadow:rgb(15, 15, 15) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;" target="_blank" title="redis">redis</a></span>几大常用数据结构，字符串、散列、列表、集合、有序集合。其实后来Redis做了很多补充，其中之一就是HyperLogLog，另外的还有GEO（地理位置），是3.2版本加的。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这里我们就来简单介绍下HyperLogLog结构。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">先说用处：这个结构可以非常省内存的去统计各种计数，比如注册ip数、每日访问IP数、页面实时UV（PV肯定字符串就搞定了）、在线用户数等。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这里看到所有的用处都是xxx数，所以这个数据结构的特点就是，可以比较准确的估算出你要统计的数量，但是却无法知道统计的详细内容。比如统计每日访问IP数，可以获取当时访问过的IP总数量，但是没法知道这些IP都是什么。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">有得必有失，当然你要统计上面提到的那些内容，可以用集合来处理，这样可以知道数量，也能获得所有的详细列表。但是一个大型的网站，每天IP比如有100万个呢，我们粗算一个IP消耗15字节，那么100万个IP就是15M，如果1千万，就是150M。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">再来看看我们的HyperLogLog，在Redis中每个键占用的内容都是12K，理论存储近似接近2^64个值，不管存储的内容是什么。12K，知道这个数据结构的作用了吧。这也是为什么他不能知道里面的详细内容了。这是一个基于基数估算的<span style="box-sizing:inherit;letter-spacing:0px;"><a href="http://irfen.me/tag/%e7%ae%97%e6%b3%95" style="box-sizing:inherit;background-color:transparent;color:rgb(34, 34, 34);text-decoration:none;box-shadow:rgb(15, 15, 15) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;" target="_blank" title="算法">算法</a></span>，只能比较准确的估算出基数，可以使用少量固定的内存去存储并识别集合中的唯一元素。而且这个估算的基数并不一定准确，是一个带有 0.81% 标准错误（standard error）的近似值。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这里当你记录的内容越多，和集合使用的内容就越容易产生鲜明的对比，因为HyperLogLog结构，在范围允许的情况下无论多少值，都置灰占用12K内存。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这样比如我们把每日IP记录下来，假设每天有一亿个IP访问，如果使用集合的话，一天的内存使用就是1.5G，假设我们存储一个月的记录，就需要45G容量。但是使用HyperLogLog的话，一天12K，一个月360K。如果我们不需要知道IP具体信息的话，完全可以把这些记录留在内存一年、或者不删都行。如果需要，我们也会把所有的IP访问记录通过其他途径存储起来。把每天的信息存储起来，我们可以计算每月IP总数（MERGE），一年的IP总数等（去重）。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">下面介绍一下HyperLogLog的命令，其实他和集合的命令比较像，只是命令少，不能获取列表而已。另外这个数据结构需要2.8.9及以上的版本才能使用哦~</p>
<h1 style="box-sizing:inherit;font-size:1.5rem;margin:0px 0px 0.75em;clear:both;line-height:1.4;padding:1.5em 0px 0px;font-weight:700;letter-spacing:0px;">PFADD</h1>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">在执行这个命令之后，HyperLogLog内部的结构会被更新，并有所反馈，如果执行完之后HyperLogLog内部的基数估算发生了变化，那么就会返回1，否则（认为已经存在）就返回0。<br style="box-sizing:inherit;letter-spacing:0px;"/>
这个命令还有一个比较神器的就是可以只有键，没有值，这样的意思就是只是创建空的键，不放值。<br style="box-sizing:inherit;letter-spacing:0px;"/>
如果这个键存在，不做任何事情，返回0；不存在的话就创建，并返回1。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这个命令的时间复杂度为O(1)，所以就放心用吧~</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">命令例子：</p>

		<div style="border-color:rgb(153, 153, 153);text-align:left;text-size-adjust:none;top:auto;height:auto;line-height:15px !important;width:100%;padding:0px;margin:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;font-weight:500;font-size:12px !important;box-sizing:border-box;margin-bottom:12px;margin-top:12px;background:rgb(253, 253, 253);text-shadow:none;border-style:solid;border-width:1px;direction:ltr;position:relative;overflow:hidden;letter-spacing:0px;left:auto;">
		
			
			
			<div style="box-sizing:inherit;background:0px center;border:0px;text-align:left;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;margin:0px;height:auto;"></div>
			<div style="overflow:hidden;background:0px center;position:relative;box-sizing:inherit;text-align:left;border:0px;width:100%;margin:0px;padding:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;z-index:1;">
				<table style="margin-right:0px;box-sizing:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;width:auto;font-size:12px;border-spacing:0px;background:none;border:none;margin-bottom:0px;margin:0px;margin-top:0px;border-collapse:collapse;table-layout:auto;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;">
					<tbody style="box-sizing:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;"><tr style="box-sizing:inherit;border-bottom:1px solid rgb(238, 238, 238);background:0px center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;border:none;vertical-align:top;margin:0px;">
				<td style="border:none;padding-left:0px;box-sizing:inherit;border-bottom:1px solid rgb(170, 170, 170);font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;margin:0px;padding:0px;vertical-align:top;background:rgb(223, 239, 255);color:rgb(84, 153, 222);">
					<div style="white-space:nowrap;background:0px center;padding:0px;margin:0px;text-align:left;border:0px;font-size:12px !important;box-sizing:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:15px !important;"><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">1</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">2</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">3</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">4</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">5</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">6</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">7</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">8</div></div>
				</td>
						<td style="border:none;padding-right:0px;box-sizing:inherit;border-bottom:1px solid rgb(170, 170, 170);width:100%;background:0px center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;margin:0px;padding:0px;vertical-align:top;"><div style="tab-size:4;background:none;padding:0px;margin:0px;text-align:left;color:rgb(0, 0, 0);white-space:pre;overflow:visible;border:none;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;box-sizing:inherit;font-size:12px !important;line-height:15px !important;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;"><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;1.1.1.1&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;2.2.2.2&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;3.3.3.3&quot;</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">1</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;2.2.2.2&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;4.4.4.4&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;5.5.5.5&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(255, 128, 0);"># 存在就只加新的</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">1</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFCOUNT  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(255, 128, 0);"># 元素估计数量没有变化</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">5</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;2.2.2.2&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(255, 128, 0);"># 存在就不会增加</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">0</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>

<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">其实我们发现在少的时候还是挺准的，哈哈。</p>
<h1 style="box-sizing:inherit;font-size:1.5rem;margin:0px 0px 0.75em;clear:both;line-height:1.4;padding:1.5em 0px 0px;font-weight:700;letter-spacing:0px;">PFCOUNT</h1>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">其实在上面的学习中我们已经用过这个了，这里再来介绍下。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">当命令作用于单个键的时候，返回这个键的基数估算值。如果键不存在，则返回0。<br style="box-sizing:inherit;letter-spacing:0px;"/>
当作用于多个键的时候，返回这些键的并集估算值。类似于把这些键都合并了之后，在调用这个命令输出。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这个命令在作用于单个值的时候，时间复杂度为O(1)，并且具有非常低的平均常数时间；在作用于N个值的时候，时间复杂度为O(N)，这个命令的常数复杂度会比较低些。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">命令例子：</p>

		<div style="border-color:rgb(153, 153, 153);text-align:left;text-size-adjust:none;top:auto;height:auto;line-height:15px !important;width:100%;padding:0px;margin:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;font-weight:500;font-size:12px !important;box-sizing:border-box;margin-bottom:12px;margin-top:12px;background:rgb(253, 253, 253);text-shadow:none;border-style:solid;border-width:1px;direction:ltr;position:relative;overflow:hidden;letter-spacing:0px;left:auto;">
		
			
			
			<div style="box-sizing:inherit;background:0px center;border:0px;text-align:left;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;margin:0px;height:auto;"></div>
			<div style="overflow:hidden;background:0px center;position:relative;box-sizing:inherit;text-align:left;border:0px;width:100%;margin:0px;padding:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;z-index:1;">
				<table style="margin-right:0px;box-sizing:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;width:auto;font-size:12px;border-spacing:0px;background:none;border:none;margin-bottom:0px;margin:0px;margin-top:0px;border-collapse:collapse;table-layout:auto;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;">
					<tbody style="box-sizing:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;"><tr style="box-sizing:inherit;border-bottom:1px solid rgb(238, 238, 238);background:0px center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;border:none;vertical-align:top;margin:0px;">
				<td style="border:none;padding-left:0px;box-sizing:inherit;border-bottom:1px solid rgb(170, 170, 170);font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;margin:0px;padding:0px;vertical-align:top;background:rgb(223, 239, 255);color:rgb(84, 153, 222);">
					<div style="white-space:nowrap;background:0px center;padding:0px;margin:0px;text-align:left;border:0px;font-size:12px !important;box-sizing:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:15px !important;"><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">1</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">2</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">3</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">4</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">5</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">6</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">7</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">8</div></div>
				</td>
						<td style="border:none;padding-right:0px;box-sizing:inherit;border-bottom:1px solid rgb(170, 170, 170);width:100%;background:0px center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;margin:0px;padding:0px;vertical-align:top;"><div style="tab-size:4;background:none;padding:0px;margin:0px;text-align:left;color:rgb(0, 0, 0);white-space:pre;overflow:visible;border:none;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;box-sizing:inherit;font-size:12px !important;line-height:15px !important;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;"><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;1.1.1.1&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;2.2.2.2&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;3.3.3.3&quot;</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">1</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFCOUNT  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">3</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160928</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;1.1.1.1&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;4.4.4.4&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;5.5.5.5&quot;</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">1</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFCOUNT  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160928</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>

<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;"></p>
<h1 style="box-sizing:inherit;font-size:1.5rem;margin:0px 0px 0.75em;clear:both;line-height:1.4;padding:1.5em 0px 0px;font-weight:700;letter-spacing:0px;">PFMERGE</h1>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">合并（merge）多个HyperLogLog为一个HyperLogLog。其实这个也很好理解，而合并后的估算基数也近似于所有HyperLogLog估算基数的并集。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这个命令的第一个参数为目标键，剩下的参数为要合并的HyperLogLog。命令执行时，如果目标键不存在，则创建后再执行合并。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">这个命令的时间复杂度为O(N)，其中N为要合并的HyperLogLog的个数。不过这个命令的常数时间复杂度比较高。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">命令例子：</p>

		<div style="border-color:rgb(153, 153, 153);text-align:left;text-size-adjust:none;top:auto;height:auto;line-height:15px !important;width:100%;padding:0px;margin:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;font-weight:500;font-size:12px !important;box-sizing:border-box;margin-bottom:12px;margin-top:12px;background:rgb(253, 253, 253);text-shadow:none;border-style:solid;border-width:1px;direction:ltr;position:relative;overflow:hidden;letter-spacing:0px;left:auto;">
		
			
			
			<div style="box-sizing:inherit;background:0px center;border:0px;text-align:left;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;margin:0px;height:auto;"></div>
			<div style="overflow:hidden;background:0px center;position:relative;box-sizing:inherit;text-align:left;border:0px;width:100%;margin:0px;padding:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;z-index:1;">
				<table style="margin-right:0px;box-sizing:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;width:auto;font-size:12px;border-spacing:0px;background:none;border:none;margin-bottom:0px;margin:0px;margin-top:0px;border-collapse:collapse;table-layout:auto;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;">
					<tbody style="box-sizing:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;"><tr style="box-sizing:inherit;border-bottom:1px solid rgb(238, 238, 238);background:0px center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;padding:0px;border:none;vertical-align:top;margin:0px;">
				<td style="border:none;padding-left:0px;box-sizing:inherit;border-bottom:1px solid rgb(170, 170, 170);font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;margin:0px;padding:0px;vertical-align:top;background:rgb(223, 239, 255);color:rgb(84, 153, 222);">
					<div style="white-space:nowrap;background:0px center;padding:0px;margin:0px;text-align:left;border:0px;font-size:12px !important;box-sizing:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:15px !important;"><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">1</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">2</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">3</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">4</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">5</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">6</div><div style="height:inherit;box-sizing:inherit;border:0px;background:0px center;padding:0px 5px;margin:0px;text-align:center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;">7</div><div style="height:inherit;box-sizing:inherit;font-size:inherit;padding:0px 5px;text-align:center;margin:0px;border:0px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;line-height:inherit;font-weight:inherit;color:rgb(49, 124, 197);background:rgb(200, 225, 250);">8</div></div>
				</td>
						<td style="border:none;padding-right:0px;box-sizing:inherit;border-bottom:1px solid rgb(170, 170, 170);width:100%;background:0px center;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;margin:0px;padding:0px;vertical-align:top;"><div style="tab-size:4;background:none;padding:0px;margin:0px;text-align:left;color:rgb(0, 0, 0);white-space:pre;overflow:visible;border:none;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;box-sizing:inherit;font-size:12px !important;line-height:15px !important;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;"><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;1.1.1.1&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;2.2.2.2&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;3.3.3.3&quot;</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">1</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFADD  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160928</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;1.1.1.1&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;4.4.4.4&quot;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 128, 0);">&quot;5.5.5.5&quot;</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">1</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFMERGE </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">201609</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">   </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160928</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">   </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">20160929</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">OK</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;background:0px center;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">redis</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">&gt;</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 78, 208);">PFCOUNT  </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 45, 122);">ip</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);">:</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">201609</span></div><div style="height:inherit;box-sizing:inherit;margin:0px;text-align:left;border:0px;padding:0px 5px;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;background:rgb(247, 247, 247);font-size:inherit;line-height:inherit;font-weight:inherit;"><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">(</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(128, 0, 128);">integer</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(51, 51, 51);">)</span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(0, 111, 224);"> </span><span style="box-sizing:inherit;height:inherit;font-family:Monaco, MonacoRegular, &quot;Courier New&quot;, monospace;letter-spacing:0px;font-size:inherit;line-height:inherit;font-weight:inherit;color:rgb(206, 0, 0);">5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>

<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">本文原创与<span style="box-sizing:inherit;letter-spacing:0px;"><a href="http://irfen.me/" style="box-sizing:inherit;background-color:transparent;color:rgb(34, 34, 34);text-decoration:none;box-shadow:rgb(15, 15, 15) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;" target="_blank" title="赵伊凡BLOG">赵伊凡BLOG</a></span>，<span style="box-sizing:inherit;letter-spacing:0px;"><a href="http://irfen.me/category/%e8%bd%ac%e8%bd%bd" style="box-sizing:inherit;background-color:transparent;color:rgb(34, 34, 34);text-decoration:none;box-shadow:rgb(15, 15, 15) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;" target="_blank" title="转载">转载</a></span>注明出处。</p>
<p style="box-sizing:inherit;margin:0px 0px 1.5em;padding:0px;letter-spacing:0px;">到此HyperLogLog所有的命令就都介绍完了，没错，目前就只有这三个。其实也很简单的，知道了这个结构的用法，也就知道什么时候适合用了，对我们非常珍贵的内存还是很有帮助。</p>
<p style="margin:10px 0;padding:5px 10px;box-sizing:inherit;letter-spacing:0px;background:none repeat scroll 0 0 #FFFEDF;border:1px solid #FFDF7B;line-height:24px;font-size:13px;"><strong style="box-sizing:inherit;font-weight:700;letter-spacing:0px;">©原创文章，转载请注明来源：</strong> <a href="http://irfen.me/" style="box-sizing:inherit;background-color:transparent;color:rgb(34, 34, 34);text-decoration:none;box-shadow:rgb(15, 15, 15) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">赵伊凡's Blog</a><br style="box-sizing:inherit;letter-spacing:0px;"/><strong style="box-sizing:inherit;font-weight:700;letter-spacing:0px;">©本文链接地址:</strong> <a href="http://irfen.me/redis-hyperloglog-intro/" style="box-sizing:inherit;background-color:transparent;color:rgb(34, 34, 34);text-decoration:none;box-shadow:rgb(15, 15, 15) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">Redis基数统计——HyperLogLog小内存大用处</a></p>
	<span style="letter-spacing:0px;display:table;table-layout:fixed;clear:both;"></span></div>

			<div style="box-sizing:inherit;display:table;border-bottom:1px solid rgb(238, 238, 238);border-top:1px solid rgb(238, 238, 238);margin-top:2em;padding:2em 0px;width:100%;letter-spacing:0px;"><span style="letter-spacing:0px;display:table;table-layout:fixed;"></span><span style="box-sizing:inherit;display:table-cell;vertical-align:middle;width:100%;letter-spacing:0px;"><span style="box-sizing:inherit;display:block;font-size:0.6875rem;font-weight:800;padding-left:2.5em;position:relative;text-transform:uppercase;letter-spacing:0px;"><span style="position:absolute;width:1em;box-sizing:inherit;vertical-align:middle;height:1em;fill:currentcolor;display:inline-block;overflow:hidden;top:2px;margin-right:0.5em;left:0px;color:rgb(118, 118, 118);letter-spacing:0px;"> <span style="box-sizing:inherit;letter-spacing:0px;"></span> </span><span style="box-sizing:inherit;clip:rect(1px 1px 1px 1px);height:1px;overflow:hidden;width:1px;position:absolute;word-wrap:normal;letter-spacing:0px;">分类</span><a href="http://irfen.me/category/redis%e5%ad%a6%e4%b9%a0%e4%b8%93%e9%a2%98/" rel="category tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">Redis学习专题</a>、<a href="http://irfen.me/category/tech/" rel="category tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">技术</a></span><span style="box-sizing:inherit;display:block;font-size:0.6875rem;font-weight:800;padding-left:2.5em;position:relative;text-transform:uppercase;margin-top:1em;letter-spacing:0px;"><span style="position:absolute;width:1em;box-sizing:inherit;vertical-align:middle;height:1em;fill:currentcolor;display:inline-block;overflow:hidden;top:2px;margin-right:0.5em;left:0px;color:rgb(118, 118, 118);letter-spacing:0px;"> <span style="box-sizing:inherit;letter-spacing:0px;"></span> </span><span style="box-sizing:inherit;clip:rect(1px 1px 1px 1px);height:1px;overflow:hidden;width:1px;position:absolute;word-wrap:normal;letter-spacing:0px;">标签</span><a href="http://irfen.me/tag/redis/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">redis</a>、<a href="http://irfen.me/tag/%e4%bc%98%e5%8c%96/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">优化</a>、<a href="http://irfen.me/tag/%e6%80%a7%e8%83%bd/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">性能</a>、<a href="http://irfen.me/tag/%e6%95%b0%e6%8d%ae%e5%ba%93/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">数据库</a>、<a href="http://irfen.me/tag/%e6%9c%aa%e6%9d%a5/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">未来</a>、<a href="http://irfen.me/tag/%e7%ae%97%e6%b3%95/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">算法</a>、<a href="http://irfen.me/tag/%e7%bc%93%e5%ad%98/" rel="tag" style="box-sizing:inherit;background-color:transparent;color:rgb(51, 51, 51);text-decoration:none;box-shadow:rgb(255, 255, 255) 0px -1px 0px inset;transition:color 80ms ease-in, box-shadow 130ms ease-in-out, -webkit-box-shadow 130ms ease-in-out;letter-spacing:0px;">缓存</a></span></span><span style="letter-spacing:0px;display:table;table-layout:fixed;clear:both;"></span></div> 	
</div></span></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 