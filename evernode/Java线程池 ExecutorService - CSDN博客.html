<html>
<head>
  <title>Java线程池 ExecutorService - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="12255"/>
<h1>Java线程池 ExecutorService - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/1/22 10:15</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/suifeng3051/article/details/49443835"><i>http://blog.csdn.net/suifeng3051/article/details/49443835</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;font-family:sans-serif;text-size-adjust:100%;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div style="box-sizing:border-box;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-size:16px;line-height:24px;color:rgb(51, 51, 51);background-color:rgb(245, 246, 247);font-weight:400;"><div style="box-sizing:border-box;font-weight:400;"><span style="box-sizing:border-box;"><div style="box-sizing:border-box;box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;background-color:rgb(255, 255, 255);">
        <h1 style="margin:0px;box-sizing:border-box;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-size:24px;font-weight:700;line-height:38px;color:rgb(44, 48, 51);padding:0px 29px;">Java线程池 ExecutorService</h1>
        <div style="box-sizing:border-box;margin:0px;font-weight:400;padding:0px 29px 8px;color:rgb(136, 136, 136);border-bottom:1px solid rgb(229, 229, 229);font-size:14px;line-height:38px;margin-top:5px;"><span style="font-weight:400;color:rgb(136, 136, 136);font-size:14px;line-height:38px;display:table;"> </span>
            <div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;float:left;">
                <span style="box-sizing:border-box;margin:0px;font-weight:400;padding:2px 6px;border:1px solid rgb(228, 235, 244);font-size:14px;color:rgb(120, 144, 156);margin-right:20px;">
                原创                </span>
                <span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;display:inline-block;color:rgb(187, 187, 187);font-size:14px;">2015年10月27日 09:33:19</span>
            </div>

            <ul style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:left;margin-left:26px;background-color:rgb(255, 255, 255);font-size:14px;"><span style="font-weight:400;list-style:none;font-size:14px;display:table;"> </span>
                <li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:left;color:rgb(187, 187, 187);">标签：</li>


                                                            <li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:left;"><a href="http://so.csdn.net/so/search/s.do?q=Java%E7%BA%BF%E7%A8%8B%E6%B1%A0&amp;t=blog" style="background:transparent;box-sizing:border-box;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;color:rgb(64, 147, 198);display:inline-block;" target="_blank">Java线程池</a> <span style="box-sizing:border-box;padding:0px;font-weight:400;margin:0px 10px 0px 5px;color:rgb(229, 229, 229);display:inline-block;">/</span></li>
                                            <li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:left;"><a href="http://so.csdn.net/so/search/s.do?q=java&amp;t=blog" style="background:transparent;box-sizing:border-box;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;color:rgb(64, 147, 198);display:inline-block;" target="_blank">java</a> <span style="box-sizing:border-box;padding:0px;font-weight:400;margin:0px 10px 0px 5px;color:rgb(229, 229, 229);display:inline-block;">/</span></li>
                                            <li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:left;"><a href="http://so.csdn.net/so/search/s.do?q=%E7%BA%BF%E7%A8%8B%E6%B1%A0&amp;t=blog" style="background:transparent;box-sizing:border-box;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;color:rgb(64, 147, 198);display:inline-block;" target="_blank">线程池</a> </li>
                                    
            <span style="font-weight:400;list-style:none;font-size:14px;display:block;clear:both;height:0px;visibility:hidden;">.</span></ul>
            <ul style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:right;margin-top:5px;">
                <li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;list-style:none;float:left;margin-left:30px;line-height:28px;"></li>
                
                
            </ul>
        <span style="font-weight:400;color:rgb(136, 136, 136);font-size:14px;line-height:38px;display:block;clear:both;height:0px;visibility:hidden;">.</span></div>
        <div style="box-sizing:border-box;margin:0px;font-weight:400;padding:20px 30px 0px;margin-bottom:30px;color:rgb(69, 69, 69);overflow:hidden;">
                            <div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:400;font-family:&quot;microsoft yahei&quot;;font-size:16px;color:rgb(63, 63, 63);">
                        <pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">本篇主要涉及到的是java.util.concurrent包中的ExecutorService。ExecutorService就是Java中对线程池的实现。
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li></ul></pre>



<h2 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:2.15em;margin:0.8em 0px;"><a name="t0" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>一、ExecutorService介绍</h2>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;"><strong style="font-weight:bold;box-sizing:border-box;">ExecutorService</strong>是Java中对线程池定义的一个接口，它<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">java.util.concurrent</code>包中，在这个接口中定义了和后台任务执行相关的方法： <br style="box-sizing:border-box;"/>
<img src="Java线程池 ExecutorService - CSDN博客_files/20151027091338518.jpg" type="image/jpeg" data-filename="20151027091338518.jpg" alt="这里写图片描述" height="282" style="border:0px;vertical-align:middle;outline:0px;box-sizing:border-box;margin-top:15px;margin-bottom:15px;max-width:100%;" title="" width="449"/></p>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">Java  API对ExecutorService接口的实现有两个，所以这两个即是Java线程池具体实现类（详细了解这两个实现类，<a href="http://blog.csdn.net/suifeng3051/article/details/49444177" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">点击这里</a>）：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">1. ThreadPoolExecutor
2. ScheduledThreadPoolExecutor
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li></ul></pre>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">除此之外，ExecutorService还继承了<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">Executor</code>接口（注意区分Executor接口和Executors工厂类），这个接口只有一个<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">execute()</code>方法，最后我们看一下整个继承树： <br style="box-sizing:border-box;"/>
<img src="Java线程池 ExecutorService - CSDN博客_files/20151027091552190.jpg" type="image/jpeg" data-filename="20151027091552190.jpg" alt="这里写图片描述" height="345" style="border:0px;vertical-align:middle;outline:0px;box-sizing:border-box;margin-top:15px;margin-bottom:15px;max-width:100%;" title="" width="396"/></p>

<h2 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:2.15em;margin:0.8em 0px;"><a name="t1" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>二、ExecutorService的创建</h2>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">创建一个什么样的ExecutorService的实例（即线程池）需要g根据具体应用场景而定，不过Java给我们提供了一个<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">Executors工厂类</code>，它可以帮助我们很方便的创建各种类型ExecutorService线程池，Executors一共可以创建下面这四类线程池：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">1. newCachedThreadPool 创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。
2. newFixedThreadPool 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。
3. newScheduledThreadPool 创建一个定长线程池，支持定时及周期性任务执行。
4. newSingleThreadExecutor 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li></ul></pre>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">备注：Executors只是一个工厂类，它所有的方法返回的都是<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">ThreadPoolExecutor</code>、<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">ScheduledThreadPoolExecutor</code>这两个类的实例。</p>



<h2 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:2.15em;margin:0.8em 0px;"><a name="t2" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>三、ExecutorService的使用</h2>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">ExecutorService executorService = Executors.newFixedThreadPool(10);

executorService.execute(new Runnable() {
public void run() {
    System.out.println(&quot;Asynchronous task&quot;);
}
});

executorService.shutdown();
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">7</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">8</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">9</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">10</li></ul></pre>



<h2 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:2.15em;margin:0.8em 0px;"><a name="t3" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>四、ExecutorService的执行</h2>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">ExecutorService有如下几个执行方法：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">- execute(Runnable)
- submit(Runnable)
- submit(Callable)
- invokeAny(...)
- invokeAll(...)
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li></ul></pre>



<h3 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:1.7em;margin:0.8em 0px;"><a name="t4" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>4.1 execute(Runnable)</h3>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">这个方法接收一个Runnable实例，并且异步的执行，请看下面的实例：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">ExecutorService executorService = Executors.newSingleThreadExecutor();

executorService.execute(new Runnable() {
public void run() {
    System.out.println(&quot;Asynchronous task&quot;);
}
});

executorService.shutdown();
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">7</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">8</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">9</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">10</li></ul></pre>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">这个方法有个问题，就是没有办法获知task的执行结果。如果我们想获得task的执行结果，我们可以传入一个Callable的实例（下面会介绍）。</p>



<h3 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:1.7em;margin:0.8em 0px;"><a name="t5" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>4.2 submit(Runnable)</h3>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">submit(Runnable)</code>和<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">execute(Runnable)</code>区别是前者可以返回一个<strong style="font-weight:bold;box-sizing:border-box;">Future</strong>对象，通过返回的Future对象，我们可以检查提交的任务是否执行完毕，请看下面执行的例子：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">Future future = executorService.submit(new Runnable() {
public void run() {
    System.out.println(&quot;Asynchronous task&quot;);
}
});

future.get();  //returns null if the task has finished correctly.
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">7</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">8</li></ul></pre>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">如果任务执行完成，<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">future.get()</code>方法会返回一个null。注意，future.get()方法会产生阻塞。</p>



<h3 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:1.7em;margin:0.8em 0px;"><a name="t6" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>4.3 submit(Callable)</h3>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">submit(Callable)</code>和<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">submit(Runnable)</code>类似，也会返回一个Future对象，但是除此之外，submit(Callable)接收的是一个Callable的实现，Callable接口中的<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">call()</code>方法有一个返回值，可以返回任务的执行结果，而Runnable接口中的<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">run()</code>方法是<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">void</code>的，没有返回值。请看下面实例：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">Future future = executorService.submit(new Callable(){
public Object call() throws Exception {
    System.out.println(&quot;Asynchronous Callable&quot;);
    return &quot;Callable Result&quot;;
}
});

System.out.println(&quot;future.get() = &quot; + future.get());
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">7</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">8</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">9</li></ul></pre>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">如果任务执行完成，future.get()方法会返回Callable任务的执行结果。注意，future.get()方法会产生阻塞。</p>



<h3 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:1.7em;margin:0.8em 0px;"><a name="t7" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>4.4 invokeAny(…)</h3>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">invokeAny(...)</code>方法接收的是一个Callable的集合，执行这个方法不会返回Future，但是会返回所有Callable任务中其中一个任务的执行结果。这个方法也无法保证返回的是哪个任务的执行结果，反正是其中的某一个。请看下面实例：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">ExecutorService executorService = Executors.newSingleThreadExecutor();

Set&lt;Callable&lt;String&gt;&gt; callables = new HashSet&lt;Callable&lt;String&gt;&gt;();

callables.add(new Callable&lt;String&gt;() {
public String call() throws Exception {
    return &quot;Task 1&quot;;
}
});
callables.add(new Callable&lt;String&gt;() {
public String call() throws Exception {
    return &quot;Task 2&quot;;
}
});
callables.add(new Callable&lt;String&gt;() {
    public String call() throws Exception {
    return &quot;Task 3&quot;;
}
});

String result = executorService.invokeAny(callables);
System.out.println(&quot;result = &quot; + result);
executorService.shutdown();
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">7</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">8</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">9</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">10</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">11</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">12</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">13</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">14</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">15</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">16</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">17</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">18</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">19</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">20</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">21</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">22</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">23</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">24</li></ul></pre>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">大家可以尝试执行上面代码，每次执行都会返回一个结果，并且返回的结果是变化的，可能会返回“Task2”也可是“Task1”或者其它。</p>



<h3 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:1.7em;margin:0.8em 0px;"><a name="t8" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>4.5 invokeAll(…)</h3>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">invokeAll(...)</code>与 <code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">invokeAny(...)</code>类似也是接收一个Callable集合，但是前者执行之后会返回一个Future的List，其中对应着每个Callable任务执行后的Future对象。情况下面这个实例：</p>

<pre style="word-break:break-all;font-family:&quot;Source Code Pro&quot;, monospace;font-weight:400;box-sizing:border-box;display:block;border-radius:0px;border:0px solid rgb(136, 136, 136);background-color:rgba(128, 128, 128, 0.0470588);color:rgb(51, 51, 51);font-size:14px;word-wrap:break-word;padding:5px 5px 5px 60px;white-space:nowrap;position:relative;overflow-y:hidden;overflow-x:auto;line-height:16px;margin:0px 0px 16px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:0px;color:inherit;white-space:pre;background-color:transparent;border-radius:0px;overflow-x:auto;word-wrap:normal;">ExecutorService executorService = Executors.newSingleThreadExecutor();

Set&lt;Callable&lt;String&gt;&gt; callables = new HashSet&lt;Callable&lt;String&gt;&gt;();

callables.add(new Callable&lt;String&gt;() {
public String call() throws Exception {
    return &quot;Task 1&quot;;
}
});
callables.add(new Callable&lt;String&gt;() {
    public String call() throws Exception {
    return &quot;Task 2&quot;;
}
});
callables.add(new Callable&lt;String&gt;() {
public String call() throws Exception {
    return &quot;Task 3&quot;;
}
});

List&lt;Future&lt;String&gt;&gt; futures = executorService.invokeAll(callables);

for(Future&lt;String&gt; future : futures){
System.out.println(&quot;future.get = &quot; + future.get());
}

executorService.shutdown();
</code><ul style="position:absolute;box-sizing:border-box;font-weight:400;line-height:170%;padding:6px 0px 40px;list-style:none;margin:0px;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;border-right:1px solid rgb(221, 221, 221);text-align:right;"><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">1</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">2</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">3</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">4</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">5</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">6</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">7</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">8</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">9</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">10</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">11</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">12</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">13</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">14</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">15</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">16</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">17</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">18</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">19</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">20</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">21</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">22</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">23</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">24</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">25</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">26</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">27</li><li style="margin:0px;font-weight:400;box-sizing:border-box;display:list-item;padding:0px 5px;list-style:none;margin-left:0px;color:rgb(153, 153, 153);">28</li></ul></pre>



<h2 style="padding:0px;box-sizing:border-box;font-family:inherit;text-align:start;font-weight:100;line-height:1.1;color:inherit;font-size:2.15em;margin:0.8em 0px;"><a name="t9" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);"></a>五、ExecutorService的关闭</h2>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">当我们使用完成ExecutorService之后应该关闭它，否则它里面的线程会一直处于运行状态。</p>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">举个例子，如果的应用程序是通过main()方法启动的，在这个main()退出之后，如果应用程序中的ExecutorService没有关闭，这个应用将一直运行。之所以会出现这种情况，是因为ExecutorService中运行的线程会阻止JVM关闭。</p>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">如果要关闭ExecutorService中执行的线程，我们可以调用<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">ExecutorService.shutdown()</code>方法。在调用shutdown()方法之后，ExecutorService不会立即关闭，但是它不再接收新的任务，直到当前所有线程执行完成才会关闭，所有在shutdown()执行之前提交的任务都会被执行。</p>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">如果我们想立即关闭ExecutorService，我们可以调用<code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, monospace;font-size:90%;padding:2px 4px;color:rgb(63, 63, 63);white-space:nowrap;background-color:rgba(128, 128, 128, 0.0745098);border-radius:0px;">ExecutorService.shutdownNow()</code>方法。这个动作将跳过所有正在执行的任务和被提交还没有执行的任务。但是它并不对正在执行的任务做任何保证，有可能它们都会停止，也有可能执行完成。</p>

<hr style="border-right-color:initial;height:0px;border-bottom-color:initial;border-width:1px 0px 0px;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-right-style:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgba(128, 128, 128, 0.0980392);margin:2em 0px;"/>

<p style="padding:0px;font-weight:400;box-sizing:border-box;margin:0px 0px 16px;line-height:28px;word-wrap:break-word;word-break:normal;">关于Java线程池类ThreadPoolExecutor、ScheduledThreadPoolExecutor及Executors工厂类更详细介绍，<a href="http://blog.csdn.net/suifeng3051/article/details/49444177" style="background:transparent;text-decoration:none;margin:0px;padding:0px;font-weight:400;outline:0px;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">点击这里</a></p>                            </div>
                                    
                                    </div>
    </div></span></div></div></div></div><br/></div></span>
</div></body></html> 