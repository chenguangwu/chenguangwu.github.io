<html>
<head>
  <title>tomcat内存配置优化 - Fattiger的专栏 - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7482"/>
<h1>tomcat内存配置优化 - Fattiger的专栏 - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/3/11 14:44</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/kefeng824/article/details/31742423"><i>http://blog.csdn.net/kefeng824/article/details/31742423</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background:url(http://static.blog.csdn.net/skin/light_blue/images/body_bg.jpg) 50% 0% repeat-x;"><div style="background:url(http://static.blog.csdn.net/skin/light_blue/images/head_bg.jpg) 50% -25px no-repeat;"><div style="text-align:left;"><div style="overflow:hidden;"><div style="background:rgb(255, 255, 255);"><div>
    <div style="display:block;margin:5px 0px;color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';">   
         <span style="display:inline-block;width:19px;height:19px;margin:0px 2px 0px 0px;vertical-align:middle;background:url(http://static.blog.csdn.net/images/ico_Repost.gif) 0px 0px no-repeat;"></span>


    <h1 style="font-weight:normal;margin:0px;padding:0px;font-style:normal;font-variant:normal;display:inline;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';vertical-align:middle;">
        <span><a href="http://blog.csdn.net/kefeng824/article/details/31742423" style="text-decoration:none;color:rgb(51, 51, 51);">
        tomcat内存配置优化            
        </a></span>
    </h1>
<span style="color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

   

        <div style="font-family:Arial;padding:0px 20px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;color:rgb(153, 153, 153);text-align:right;display:block;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgb(237, 237, 237);margin:0px -20px;overflow:hidden;">
        <div>
            <span style="margin:0px 5px 0px 0px;">2014-06-17 10:51</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_view.png) 0% 50% no-repeat;" title="阅读次数">3322人阅读</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_comm.png) 0% 50% no-repeat;" title="评论次数"> <a href="http://blog.csdn.net/kefeng824/article/details/31742423#comments" style="color:rgb(255, 153, 0);text-decoration:none;">评论</a>(0)</span>
            <span style="margin:0px 5px;"> <a href="#" style="color:rgb(255, 153, 0);text-decoration:none;" title="收藏">收藏</a></span>
             <span style="margin:0px 5px;"> <a href="http://blog.csdn.net/kefeng824/article/details/31742423#report" style="color:rgb(255, 153, 0);text-decoration:none;" title="举报">举报</a></span>

        </div>
    <span style="color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:22px;font-family:Arial;text-align:right;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
    
    
    
      <div style="display:block;margin:0px -20px;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgb(237, 237, 237);padding:0px 20px;height:46px;">
        <div style="display:inline-block;font-size:14px;color:rgb(51, 51, 51);">
           <img src="tomcat内存配置优化 - Fattiger的专栏 - 博客频道 - CSDN.NET_files/category_icon.jpg" type="image/jpeg" data-filename="category_icon.jpg" height="13" style="border:none;vertical-align:middle;" width="15"/>
            <span style="display:inline-block;vertical-align:middle;">分类：</span>
        </div>
        <div style="display:inline-block;font-size:14px;color:rgb(223, 52, 52);">
                    <span style="display:inline-block;margin-left:15px;cursor:pointer;line-height:46px;position:relative;">
                        <span>Tomcat<em style="font-style:normal;">（3）</em></span>
                      <img src="tomcat内存配置优化 - Fattiger的专栏 - 博客频道 - CSDN.NET_files/arrow_triangle _down.jpg" type="image/jpeg" data-filename="arrow_triangle _down.jpg" height="5" style="border:none;display:inline;" width="10"/>
                      
                        
                    </span>                    
        </div>
    <span style="display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
      

  

  
  
     

<div style="margin:20px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:26px;font-family:Arial;">

<h2 style="margin:0px 0px 10pt;padding:0px 0px 5px;color:rgb(102,102,102);font-family:Verdana,sans-serif,宋体;font-size:14pt;border-bottom-color:rgb(204,204,204);border-bottom-width:1px;border-bottom-style:solid;word-wrap:break-word;">
简介</h2>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">考虑一下这种场景，你开发了一个应用，它有十分优秀的布局设计，最新的特性以及其它的优秀特点。但是在性能这方面欠缺，不管这个应用如何都会遭到客户拒绝。客户总是期望它们的应用应该有更好的性能。如果你在产品中使用了Tomcat服务器，那么这篇文章就会给你几方面来提升Tomcat服务器的性能。感谢</span><a href="http://www.itworld.com/networking/83035/tomcat-performance-tuning-tips" rel="nofollow" style="color:rgb(62,98,166);text-decoration:none;margin:0px;padding:0px;outline:0px;word-wrap:break-word;" target="_blank">ITWorld
 article</a><span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">给本文提供资源。经过沉思我已经知道了和早期版本相比最新的Tomcat提供更好的性能和稳定性。所以一直使用最新的Tomcat版本。现在本文使用下面几步来提高Tomcat服务器的性能。</span></p>
<ol style="list-style:none inside;margin:0.5em 0px 0.5em 1.5em;padding:0px;color:rgb(102,102,102);line-height:22px;font-family:Verdana,sans-serif,宋体;font-size:14px;word-wrap:break-word;">
<li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;"><span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">增加JVM堆内存大小</span></li><li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;"><span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">修复JRE内存泄漏</span></li><li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;">线程池设置</li><li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;">压缩</li><li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;">数据库性能调优</li><li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;">Tomcat本地库</li><li style="list-style:decimal;margin:0px;padding:0px;word-wrap:break-word;">其它选项</li></ol>
<br style="color:rgb(102,102,102);font-family:Verdana,sans-serif,宋体;font-size:13px;word-wrap:break-word;"/>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第一步  – 提高JVM栈内存Increase JVM heap memory</span></p>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
你使用过tomcat的话，简单的说就是“内存溢出”. 通常情况下，这种问题出现在实际的生产环境中.产生这种问题的原因是tomcat使用较少的内存给进程,通过配置TOmcat的配置文件(Windows 下的catalina.bat或Linux下的catalina.sh)可以解决这种问题.这种解决方法是通过增加JVM的栈内存实现的.也就是说，JVM通常不去调用垃圾回收器，所以服务器可以更多关注处理web请求，并要求尽快完成。要更改文件(catalina.sh) 位于&quot;\tomcat server folder\bin\catalina.sh&quot;，下面，给出这个文件的配置信息，</p>
<div style="color:rgb(102,102,102);margin:1em 0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:742.5px;height:auto!important;right:auto!important;bottom:auto!important;padding:1px!important;line-height:1.1em!important;overflow:auto!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:relative!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
1</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
JAVA_OPTS=&quot;-Djava.awt.headless=true -Dfile.encoding=UTF-8</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
2</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
-server -Xms1024m -Xmx1024m</td>
</tr>
</tbody>
</table>
</div>
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
3</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
-XX:NewSize=512m -XX:MaxNewSize=512m -XX:PermSize=512m</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
4</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
-XX:MaxPermSize=512m -XX:+DisableExplicitGC&quot;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
Xms – 指定JVM初始化堆的大小<br style="word-wrap:break-word;"/>
-Xmx – 指定JVM堆的最大值<br style="word-wrap:break-word;"/>
　    这两个值的大小一般根据需要进行设置。初始化堆的大小执行了虚拟机在启动时向系统申请的内存的大小。一般而言，这个参数不重要。但是有的应用 程序在大负载的情况下会急剧地占用更多的内存，此时这个参数就是显得非常重要，如果虚拟机启动时设置使用的内存比较小而在这种情况下有许多对象进行初始 化，虚拟机就必须重复地增加内存来满足使用。由于这种原因，我们一般把<span style="color:#ff990;word-wrap:break-word;">-Xms和-Xmx设为一样大</span>，而堆的最大值受限于系统使用的物理内存。一般使用数
 据量较大的应用程序会使用持久对象，内存使用有可能迅速地增长。当应用程序需要的内存超出堆的最大值时虚拟机就会提示内存溢出，并且导致应用服务崩溃。因 此<span style="color:#e5660;word-wrap:break-word;">一般建议堆的最大值设置为可用内存的最大值的80%</span>。<br style="word-wrap:break-word;"/>
<br style="word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">Tomcat默认可以使用的内存为128MB，在较大型的应用项目中，这点内存是不够的，需要调大。 </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　Windows下，在文件{tomcat_home}/bin/catalina.bat，Unix下，在文件{tomcat_home}/bin/catalina.sh的前面，增加如下设置： </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　JAVA_OPTS='-Xms【初始化内存大小】 -Xmx【可以使用的最大内存】' </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　需要把这个两个参数值调大。例如： </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　JAVA_OPTS='-Xms256m -Xmx512m' </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　表示初始化内存为256MB，可以使用的最大内存为512MB。 </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　另外需要考虑的是Java提供的垃圾回收机制。虚拟机的堆大小决定了虚拟机花费在收集垃圾上的时间和频度。收集垃圾可以接受的速度与应用有 关，应该通过分析实际的垃圾收集的时间和频率来调整。如果堆的大小很大，那么完全垃圾收集就会很慢，但是频度会降低。如果你把堆的大小和内存的需要一致， 完全收集就很快，但是会更加频繁。调整堆大小的的目的是最小化垃圾收集的时间，以在特定的时间内最大化处理客户的请求。在基准测试的时候，为保证最好的性
 能，要把堆的大小设大，保证垃圾收集不在整个基准测试的过程中出现。 </span><br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<br style="color:rgb(54,46,43);line-height:26px;font-family:Arial;word-wrap:break-word;"/>
<span style="font-family:Arial;color:#362e2b;line-height:26px;word-wrap:break-word;">　　如果系统花费很多的时间收集垃圾，请减小堆大小。一次完全的垃圾收集应该不超过 3-5 秒。如果垃圾收集成为瓶颈，那么需要指定代的大小，检查垃圾收集的详细输出，研究 垃圾收集参数对性能的影响。一般说来，你应该使用物理内存的 80% 作为堆大小。当增加处理器时，记得增加内存，因为分配可以并行进行，而垃圾收集不是并行的。 </span> <br style="word-wrap:break-word;"/>
<br style="margin:0px;padding:0px;word-wrap:break-word;"/>
在重启你的Tomcat服务器之后，这些配置的更改才会有效。下面将介绍如何处理JRE<span style="margin:0px;padding:0px;word-wrap:break-word;">内存泄漏</span>.</p>
<br style="color:rgb(102,102,102);font-family:Verdana,sans-serif,宋体;font-size:13px;word-wrap:break-word;"/>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第二步 – 解决JRE内存泄露</span></p>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">性能表现不佳的另一个主要原因是内存泄漏，正如我之前说过：始终使用最新的tomcat服务器以获得更好的性能和可伸缩性。现在，这句话变成真的。如果我们使用最新的tomcat版本6.0.26及以上就可以解决这个错误，因为它包含了一个监听器来处理JRE和PermGen的内存泄漏。使用的<span style="margin:0px;padding:0px;word-wrap:break-word;">监听器是</span>，</span></p>
<div style="color:rgb(102,102,102);margin:1em 0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:742.5px;height:auto!important;right:auto!important;bottom:auto!important;padding:1px!important;line-height:1.1em!important;overflow:auto!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:relative!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
1</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
&lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">你可以在<span style="margin:0px;padding:0px;word-wrap:break-word;">server.xml文件中找到这个监听器的配置，<span style="margin:0px;padding:0px;word-wrap:break-word;">server.xml位置在<span style="margin:0px;padding:0px;word-wrap:break-word;">“tomcat
 project folder/conf/server.xml”</span></span></span>。接下来，我们将看看如何调整连接属性“maxThreads”。</span></p>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第三步 – 线程池设置</span></p>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
线程池指定Web请求负载的数量，因此，为<span style="margin:0px;padding:0px;word-wrap:break-word;">获得更好的性能</span>这部分应小心处理。可以通过调整连接器属性“maxThreads”完成设置。<span style="margin:0px;padding:0px;word-wrap:break-word;">maxThreads</span>的值应该根据流量的大小，如果值过低，将有没有足够的线程来处理所有的请求，请求将进入等待状态，只有当一个的处理线程释放后才被处理；如果设置的太大，Tomcat的启动将花费更多时间。因此它取决于我们给<span style="margin:0px;padding:0px;word-wrap:break-word;">maxThreads设置一个正确的值</span>。</p>
<div style="margin:0px;padding:0px;color:rgb(102,102,102);line-height:22px;font-family:Verdana,sans-serif,宋体;font-size:14px;word-wrap:break-word;">
</div>
<div style="color:rgb(102,102,102);margin:1em 0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:742.5px;height:auto!important;right:auto!important;bottom:auto!important;padding:1px!important;line-height:1.1em!important;overflow:auto!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:relative!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
1</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
&lt;Connector port=&quot;8080&quot; address=&quot;localhost&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
2</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
maxThreads=&quot;250&quot; maxHttpHeaderSize=&quot;8192&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
3</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
emptySessionPath=&quot;true&quot; protocol=&quot;HTTP/1.1&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
4</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
enableLookups=&quot;false&quot; redirectPort=&quot;8181&quot; acceptCount=&quot;100&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
5</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
connectionTimeout=&quot;20000&quot; disableUploadTimeout=&quot;true&quot; /&gt;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
在上述配置中，maxThreads值设定为“250”，这指定可以由服务器处理的并发请求的最大数量。如果没有指定，这个属性的默认值为“200”。任何多出的并发请求将收到“拒绝连接”的错误提示，直到另一个处理请求进程被释放。错误看起来如下，</p>
<div style="color:rgb(102,102,102);margin:1em 0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:742.5px;height:auto!important;right:auto!important;bottom:auto!important;padding:1px!important;line-height:1.1em!important;overflow:auto!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:relative!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
1</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
org.apache.tomcat.util.threads.ThreadPool logFull SEVERE: All threads (250) are</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
2</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
currently busy, waiting. Increase maxThreads (250) or check the servlet status</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p style="padding-bottom:0px;margin:0px;color:rgb(102,102,102);line-height:22px;padding-top:0px;padding:0px;font-family:Verdana,sans-serif,宋体;font-size:14px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
如果应用提示上述错误，务必检查上述错误是否是由于单个请求花费太长时间造成的，这个问题的原因是这样的，有时候如果数据库连接不释放的话，进程将不会处理其它请求。</p>
<span style="font-family:Verdana,sans-serif,宋体;font-size:14px;color:#666666;margin:0px;padding:0px;line-height:22px;word-wrap:break-word;"><span style="margin:0px;padding:0px;word-wrap:break-word;">注意: </span></span><span style="font-family:Verdana,sans-serif,宋体;font-size:14px;color:#666666;line-height:22px;word-wrap:break-word;">如果请求的数量超过了“750”，这将不是意味着将maxThreads属性值设置为“750”，它意外着最好使用“Tomcat集群”的多个实例。也就是说，如果有“1000”请求，两个Tomcat实例设置“maxThreads=
 500”，而不在单Tomcat实例的情况下设置maxThreads=1000。 </span><br style="margin:0px;padding:0px;color:rgb(102,102,102);line-height:22px;font-family:Verdana,sans-serif,宋体;font-size:14px;word-wrap:break-word;"/>
<br style="margin:0px;padding:0px;color:rgb(102,102,102);line-height:22px;font-family:Verdana,sans-serif,宋体;font-size:14px;word-wrap:break-word;"/>
<span style="font-family:Verdana,sans-serif,宋体;font-size:14px;color:#666666;line-height:22px;word-wrap:break-word;">根据我的经验，准确值的设定可以通过将应用在在各种环境中测试得出。接下来，我们来看看如何压缩的MIME类型。 <br style="word-wrap:break-word;"/>
</span>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第4步- 压缩</span></p>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
Tomcat有一个<span style="margin:0px;padding:0px;word-wrap:break-word;">通过在server.xml配置文件中设置压缩的</span>选项。压缩可以在connector像如下设置中完成，</p>
<div style="bottom:auto!important;margin:1em 0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:742.5px;height:auto!important;right:auto!important;padding:1px!important;line-height:1.1em!important;overflow:auto!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:relative!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
1</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
2</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
connectionTimeout=&quot;20000&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
3</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
redirectPort=&quot;8181&quot; compression=&quot;500&quot;</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height:1.1em!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;white-space:pre!important;position:static!important;word-wrap:break-word;min-height:inherit!important;background-color:rgb(248,248,248)!important;">
<table style="width:auto!important;font-size:10pt!important;font-style:inherit;font-variant:inherit;margin:0px!important;padding:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;font-weight:inherit;height:auto!important;right:auto!important;bottom:auto!important;line-height:1.1em!important;overflow:visible!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tbody style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<tr style="bottom:auto!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-size:10pt!important;vertical-align:baseline!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
<td style="color:rgb(175,175,175)!important;margin:0px!important;outline:0px!important;border:0px currentColor!important;left:auto!important;top:auto!important;width:3em!important;height:auto!important;right:auto!important;bottom:auto!important;padding:0px!important;line-height:1.1em!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
4</td>
<td style="line-height:1.1em!important;border-width:0px 0px 0px 3px!important;padding:0px 0px 0px 0.5em!important;outline:0px!important;left:auto!important;top:auto!important;width:auto!important;height:auto!important;right:auto!important;bottom:auto!important;margin:0px!important;overflow:visible!important;font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;font-size:10pt!important;vertical-align:top!important;border-left-color:rgb(108,226,108)!important;border-left-style:solid!important;float:none!important;position:static!important;word-wrap:break-word;min-height:inherit!important;">
compressableMimeType=&quot;text/html,text/xml,text/plain,application/octet-stream&quot; /&gt;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div style="margin:0px;padding:0px;word-wrap:break-word;">在前面的配置中，当文件的大小大于等于500bytes时才会压缩。如果当文件达到了大小但是却没有被压缩，那么设置属性compression=&quot;on&quot;。否则Tomcat默认设置是“off”。接下来我们将看看如何调优数据库。</div>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第五步- 数据库性能调优</span></p>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
Tomcat性能在等待数据库查询被执行期间会降低。如今大多数应用程序都是使用可能包含“命名查询”的关系型数据库。如果是那样的话，Tomcat会在启动时默认加载命名查询，这个可能会提升性能。另一件重要事是确保所有数据库连接正确地关闭。给数据库连接池设置正确值也是十分重要的。我所说的值是指Resource要素的最大空闲数（<span style="margin:0px;padding:0px;word-wrap:break-word;">maxIdle</span>），最大连接数（maxActive）,最大建立连接等待时间（maxWait）属性的值。因为配置依赖与应用要求，我也不能在本文指定正确的值。你可以通过调用数据库性能测试来找到正确的值。</p>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第6步 – Tomcat原生库</span></p>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
Tomcat的原生库基于Apache可移植运行时（Apache Portable Runtime简称APR），给程序员提供了超强的扩展性和性能，在产品运作中帮助融合原生的服务器技术以展现最佳的性能。想知道安装说明的朋友请参考<a href="http://www.techbrainwave.com/?p=1017" rel="nofollow" style="color:rgb(62,98,166);text-decoration:none;margin:0px;padding:0px;outline:0px;word-wrap:break-word;" target="_blank">Tomcat
 Native Library – (APR) Installation</a>。</p>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
<span style="margin:0px;padding:0px;word-wrap:break-word;">第7步 – 其他选项</span></p>
<p style="margin:0px;padding:0px;padding-top:0px;padding-bottom:0px;margin-top:0px;margin-bottom:5pt;word-wrap:break-word;">
这些选项是：</p>
<ul style="list-style:none inside;margin:0.5em 0px 0.5em 1.5em;padding:0px;word-wrap:break-word;">
<li style="margin:0px;padding:0px;word-wrap:break-word;"><span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">开启浏览器的缓存，这样读取存放在webapps文件夹里的静态内容会更快，大大推动整体性能。</span></li><li style="margin:0px;padding:0px;word-wrap:break-word;"><span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">每当开机时，Tomcat服务器应当自动地重启。</span></li><li style="margin:0px;padding:0px;word-wrap:break-word;"><span style="margin:0px;padding:0px;line-height:1.5;font-size:10pt;word-wrap:break-word;">一般情况下HTTPS请求会比HTTP请求慢。如果你想要更好的安全性，即使慢一点我们还是要选择HTTPS。</span></li></ul>
   
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/kefeng824/article/details/31742423#" style="padding-left:17px;color:rgb(51, 51, 51);background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;background-position:0 0 !important;float:left;font-size:12px;text-decoration:none;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-repeat:no-repeat;"></a>
<a href="http://blog.csdn.net/kefeng824/article/details/31742423#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -52px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/kefeng824/article/details/31742423#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -104px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/kefeng824/article/details/31742423#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -260px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/kefeng824/article/details/31742423#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -208px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到人人网"></a>
<a href="http://blog.csdn.net/kefeng824/article/details/31742423#" style="height:16px;color:rgb(255, 153, 0);text-decoration:none;font-size:12px;padding-left:17px;line-height:16px;float:left;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;background-position:0 -1612px !important;" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   

    








 

        <div style="display:block;clear:both;width:182px;margin:0px auto;padding:30px 0px 15px;text-align:center;">
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;text-align:center;background:rgb(255, 121, 0);color:rgb(255, 255, 255);cursor:pointer;">
               
                 <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:27px;line-height:30px;font-family:'Microsoft YaHei';">顶</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;font-family:Arial;">0</dd>
            </dl>
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;text-align:center;background:rgb(255, 121, 0);color:rgb(255, 255, 255);cursor:pointer;">
              
                  <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:27px;line-height:30px;font-family:'Microsoft YaHei';">踩</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;font-family:Arial;">0</dd>
            </dl>
        <span style="text-align:center;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

   <ul style="font-size:14px;display:block;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;color:rgb(102, 102, 102);line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;clear:both;float:left;margin:0px 0px 5px;padding:10px 0px 0px;">
                <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/light_blue/images/blog-page-arr.png);background-position:9px -22px;background-repeat:no-repeat;">下一篇</span><a href="http://blog.csdn.net/kefeng824/article/details/32326601" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">tomcat参数说明</a></li>
    <span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;display:block;height:0px;clear:both;visibility:hidden;">.</span></ul>

    <div style="clear:both;height:10px;"></div>


        <div style="overflow:hidden;">
                <h4 style="margin:0px;padding:0px;font-size:16px;color:rgb(51, 51, 51);">我的同类文章</h4>
                <div style="border:1px solid rgb(187, 187, 187);margin:20px 0px 0px 0px;">
                    <div style="height:45px;line-height:45px;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgb(220, 220, 220);">
                                <span style="display:inline-block;margin-left:25px;font-size:16px;color:rgb(102, 102, 102);font-weight:bold;">
                                    <span style="cursor:pointer;">Tomcat<em style="font-style:normal;">（3）</em></span>
                                </span>
                    </div>
                   
                    <div style="max-height:195px;overflow-y:auto;padding:10px 20px;background:rgb(252, 252, 252);">
                        
                        <ul style="float:left;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/kefeng824/article/details/43970857" style="text-decoration:none;color:rgb(51, 51, 51);display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;" target="_blank" title="tomcat7 设置用户名和密码 roles设置内容与以往的不同">tomcat7 设置用户名和密码 roles设置内容与以往的不同</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2015-02-27</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">82</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/kefeng824/article/details/32326601" style="text-decoration:none;color:rgb(51, 51, 51);display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;" target="_blank" title="tomcat参数说明">tomcat参数说明</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-06-19</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">202</b></span></li> </ul>

                        <ul style="float:right;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/kefeng824/article/details/38299913" style="text-decoration:none;color:rgb(51, 51, 51);display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;" target="_blank" title="tomcat的maxThreads、acceptCount（最大线程数、最大排队数）">tomcat的maxThreads、acceptCount（最大线程数、最大排队数）</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-07-30</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">77</b></span></li> </ul>
                    </div>
                </div>
            </div>    
    
      
</div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 