<html>
<head>
  <title>Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="8355"/>
<h1>Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/9/6 18:13</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://lzc0088.iteye.com/blog/506082"><i>http://lzc0088.iteye.com/blog/506082</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="text-align:center;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;line-height:1.5;color:black;background-color:white;"><div style="background-color:rgb(239, 250, 255);text-align:center;"><div style="text-align:left;"><div style="overflow:hidden;background-color:white;"><div style="background-color:white;">
  <div style="margin-bottom:15px;">
    <h3 style="line-height:1.5em;margin:0px 0px 0.5em;padding:0px;color:black;font-size:16px;padding-top:10px;">
      <a href="http://lzc0088.iteye.com/blog/506082" style="color:rgb(16, 138, 198);text-decoration:underline;">Struts2中redirect基本的经验之谈</a>
      <em style="font-style:italic;">      </em>
    </h3>
    <ul style="padding:0px;margin:0px;list-style-type:none;"><strong style="font-weight:bold;">博客分类：</strong> <li style="margin:0px 5px 0px 0px;padding:0px;list-style-type:none;display:inline;"><a href="http://lzc0088.iteye.com/category/82365" style="color:rgb(16, 138, 198);text-decoration:underline;">Struts2,x</a></li> </ul>
        <div style="clear:both;display:block;margin:10px 0px 5px;line-height:20px;"><a href="http://www.iteye.com/blogs/tag/JSP" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;background-color:rgb(170, 181, 195);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;">JSP</a><a href="http://www.iteye.com/blogs/tag/Struts" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;background-color:rgb(170, 181, 195);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;">Struts</a><a href="http://www.iteye.com/blogs/tag/XML" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;background-color:rgb(170, 181, 195);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;">XML</a><a href="http://www.iteye.com/blogs/tag/%E6%B5%8F%E8%A7%88%E5%99%A8" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;background-color:rgb(170, 181, 195);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;">浏览器</a><a href="http://www.iteye.com/blogs/tag/%E6%A1%86%E6%9E%B6" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;background-color:rgb(170, 181, 195);border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;">框架</a> <span style="line-height:20px;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
  </div>

  <div style="font-size:14px;line-height:1.8em;">
    <p style="margin:0px;padding:0px;">1. redirect:action处理完后重定向到一个视图资源（如：jsp页面），请求参数全部丢失，action处理结果也全部丢失。</p>
<p style="margin:0px;padding:0px;"><br/>2. redirect-action:action处理完后重定向到一个action，请求参数全部丢失，action处理结果也全部丢失。</p>
<p style="margin:0px;padding:0px;"> <br/>3. chain:action处理完后转发到一个action，请求参数全部丢失，action处理结果不会丢失。</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">Redirect Action Result：</p>
<p style="margin:0px;padding:0px;"><br/>   这个Result使用ActionMapperFactory提供的ActionMapper来重定位浏览器的URL来调用指定的action和(可选的)namespace.<br/>   这个Result比ServletRedirectResult要好.因为你不需要把URL编码成xwork.xml中配置的ActionMapper提供的模式.<br/>这就是说你可以在任意点上改变URL模式而不会影响你的应用程序. 因此强烈推荐使用这个Result而不是标准的redirect result来解决重定位到某个action的情况.</p>
<p style="margin:0px;padding:0px;"><br/>ActionName (默认) - 重定位到的action名 namespace - action的名称空间. 如果为null，则为当前名称空间</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;"><br/>Redirect Result：</p>
<p style="margin:0px;padding:0px;"><br/>    调用<a href="http://lzc0088.iteye.com/blog/506082mailto:%7B@link" style="color:rgb(16, 138, 198);text-decoration:underline;">{@link</a> HttpServletResponse#sendRedirect(String) sendRedirect}方法来转到指定的位置. <br/>HTTP响应被告知使浏览器直接跳转到指定的位置(产生客户端的一个新请求). 这样做的结果会使刚刚执行的action(包括action实例,action中的错误消息等)丢失, 不再可用. <br/>这是因为action是建立在单线程模型基础上的. 传递数据的唯一方式就是通过Session或者可以为Ognl表达式的web参数(url?name=value)location (默认) - action执行后跳转的地址. <br/>parse - 默认为true. 如果设置为false, location参数不会被当作Ognl表达式解析.</p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image.png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">/displayCart.action?</span><span style="color:red;">userId</span><span style="color:black;">=${userId}</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">  </span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">action</span><span style="color:black;">   </span><span style="color:red;">name</span><span style="color:black;">= </span><span style="color:blue;">&quot;delete &quot;</span><span style="color:black;">   </span><span style="color:red;">class</span><span style="color:black;">= </span><span style="color:blue;">&quot;com.zeng.action.UserManageAction &quot;</span><span style="color:black;">   </span><span style="color:red;">method</span><span style="color:black;">= </span><span style="color:blue;">&quot;delete &quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;">   </span><span style="color:red;">type</span><span style="color:black;">= </span><span style="color:blue;">&quot;redirect &quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;"> list.action?</span><span style="color:red;">pageBean.pageNumber</span><span style="color:black;">=${pageBean.pageNumber} </span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">action</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    今天在用struts2在做项目时候，从一个action我想跳转到另一个action，并且呢得带上值。说说我的做法吧，首先你得在你的第一个action中这个id必须要有set、get方法。跳转时你的struts.xml： </p>
<p style="margin:0px;padding:0px;"><br/>    （方法一）： </p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [1].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;topic&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">/topicAction!findTopics.do?</span><span style="color:red;">topicId</span><span style="color:black;">=${topicId}</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">   （方法二）：</p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [2].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;topic&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect-action&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;actionName&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">findTopics</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;topicId&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">${topicId}</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    如果是多个参数的话，继续再加几个&lt;param&gt;就行了，对于（方法一）如果是多个参数的怎么办？</p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [3].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;topic&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">/topicAction!findTopics.do?</span><span style="color:red;">topicId</span><span style="color:black;">=${topicId}&amp;amp;</span><span style="color:red;">elementId</span><span style="color:black;">=${elementId}</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    使用redirect重置链接需要后缀名，使用了redirect——action就不能使用了，就例如使用chain一样，只需要写action的配置名，如果加入后缀名.action，就会报出异常，action未配置正确。</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    键字: struts2 redirect-action 传递 参数 </p>
<p style="margin:0px;padding:0px;"><br/>    在做一个系统，使用struts2框架，在提交一个请求后，将获取的数据对象再要生成一个序列号，为了防止刷新生成冗余序列号，就在请求处理完成后，直接重定向到显示该信息的action中：</p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [4].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">action</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;enterpreinfo&quot;</span><span style="color:black;"> </span><span style="color:red;">class</span><span style="color:black;">=</span><span style="color:blue;">&quot;preinfoBusinessAction&quot;</span><span style="color:black;"> </span><span style="color:red;">method</span><span style="color:black;">=</span><span style="color:blue;">&quot;enterPreinfoSub&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect-action&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">     showpreinfo?<span style="color:red;">preinfo.order_number</span><span style="color:black;">=${preinfo.order_number}&amp;amp;</span><span style="color:red;">preinfo.company_name</span><span style="color:black;">=${preinfo.company_name}  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;error&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;location&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">/error.jsp</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">action</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    因为使用了redirect-action，所以要注意不能将 showpreinf?preinfo.order_number=${preinfo.order_number}写成 showpreinf.action？preinfo.order_number=${preinfo.order_number}</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    在这个配置文件里，多个参数的连接符使用了&quot;&amp;amp;&quot;，但XML的语法规范，应该使用&quot;&amp;amp;&quot;代替&quot;&amp;&quot;，原理和HTML中的转义相同，开始没有注意，在struts分析配置文件时，总是报出这样的错误：</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    The reference to entity &quot;preinfo&quot; must end with the ';' delimiter.</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    注解方式：</p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Java代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [5].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(100, 100, 100);">@Results</span><span style="color:black;">({   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(100, 100, 100);">@Result</span><span style="color:black;">(name=</span><span style="color:blue;">&quot;input&quot;</span><span style="color:black;">, type=</span><span style="color:blue;">&quot;redirectAction&quot;</span><span style="color:black;">, params = {</span><span style="color:blue;">&quot;actionName&quot;</span><span style="color:black;"> , </span><span style="color:blue;">&quot;resend&quot;</span><span style="color:black;">})   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">})  </span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    struts2.1.6无论是xml还是annotation配置redirectAction时，如果要传一些参数，可是这些参数在ServletActionRedirectResult并没有声明，这时ognl会抛异常出来。但实际上传值是成功的。详见struts2的jira: </p>
<p style="margin:0px;padding:0px;"><br/>    例：</p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Java代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [6].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(100, 100, 100);">@Results</span><span style="color:black;">({     </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(100, 100, 100);">@Result</span><span style="color:black;">(name=</span><span style="color:blue;">&quot;reload&quot;</span><span style="color:black;">,type=</span><span style="color:blue;">&quot;redirectAction&quot;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    ,params={<span style="color:blue;">&quot;actionName&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;hello_world&quot;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">            ,<span style="color:blue;">&quot;namespace&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;/center/part1&quot;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">            ,<span style="color:blue;">&quot;id&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;09&quot;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">            ,<span style="color:blue;">&quot;count&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;90&quot;</span><span style="color:black;">})     </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">})  </span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">  </span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(100, 100, 100);">@Results</span><span style="color:black;">({  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(100, 100, 100);">@Result</span><span style="color:black;">(name=</span><span style="color:blue;">&quot;reload&quot;</span><span style="color:black;">,type=</span><span style="color:blue;">&quot;redirectAction&quot;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">,params={<span style="color:blue;">&quot;actionName&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;hello_world&quot;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">       ,<span style="color:blue;">&quot;namespace&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;/center/part1&quot;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">       ,<span style="color:blue;">&quot;id&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;09&quot;</span><span style="color:black;">  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">       ,<span style="color:blue;">&quot;count&quot;</span><span style="color:black;">,</span><span style="color:blue;">&quot;90&quot;</span><span style="color:black;">})  </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">})  </span></li></ol></div>
<p style="margin:0px;padding:0px;">  </p>
<p style="margin:0px;padding:0px;"><br/> //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">dispatcher 结果类型为缺省的result类型，用于返回一个视图资源(如:jsp)</p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Java代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [7].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:black;">&lt;result name=</span><span style="color:blue;">&quot;success&quot;</span><span style="color:black;">&gt;/main.jsp&lt;/result&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;result name=<span style="color:blue;">&quot;success&quot;</span><span style="color:black;">&gt;/main.jsp&lt;/result&gt;   </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    以上写法使用了两个默认，其完整的写法为： </p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Java代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [8].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:black;">&lt;result name=</span><span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> type=</span><span style="color:blue;">&quot;dispatcher&quot;</span><span style="color:black;">&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">     &lt;param name=<span style="color:blue;">&quot;location&quot;</span><span style="color:black;">&gt;/maini.jsp&lt;/param&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;/result&gt;   </span></li></ol></div>
<p style="margin:0px;padding:0px;"> <br/>    location只能是页面，不能是另一个action（可用type=&quot;chain&quot;解决）。</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    redirect 结果类型用于重定向到一个页面，另一个action或一个网址。</p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Java代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [9].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:black;">&lt;result name=</span><span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> type=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:black;">&gt;aaa.jsp&lt;/result&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;result name=<span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> type=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:black;">&gt;bbb.action&lt;/result&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;result name=<span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> type=</span><span style="color:blue;">&quot;redirect&quot;</span><span style="color:black;">&gt;www.baidu.com&lt;/result&gt;  </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">   redirect-action 结果类型使用ActionMapperFactory提供的ActionMapper来重定向请求到另外一个action</p>
<p style="margin:0px;padding:0px;">    </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [10].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;err&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;redirect-action&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;actionName&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">重定向的Action名</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">     <span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;namespace&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">重定向Action所在的名字空间</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li></ol></div>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    redirect和redirect-action两种结果类型在使用上其实并没有什么区别，只是写法不同而已。</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    chain 用于把相关的几个action连接起来，共同完成一个功能。 </p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Java代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [11].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:black;">&lt;action name=</span><span style="color:blue;">&quot;step1&quot;</span><span style="color:black;"> </span><span style="color:rgb(127, 0, 85);font-weight:bold;">class</span><span style="color:black;">=</span><span style="color:blue;">&quot;test.Step1Action&quot;</span><span style="color:black;">&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">     &lt;result name=<span style="color:blue;">&quot;success&quot;</span><span style="color:black;"> type=</span><span style="color:blue;">&quot;chain&quot;</span><span style="color:black;">&gt;step2.action&lt;/result&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;/action&gt;   </span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;action name=<span style="color:blue;">&quot;step2&quot;</span><span style="color:black;"> </span><span style="color:rgb(127, 0, 85);font-weight:bold;">class</span><span style="color:black;">=</span><span style="color:blue;">&quot;test.Step2Action&quot;</span><span style="color:black;">&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;result name=<span style="color:blue;">&quot;success&quot;</span><span style="color:black;">&gt;finish.jsp&lt;/result&gt;   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">&lt;/action&gt;   </span></li></ol></div>
<p style="margin:0px;padding:0px;">  </p>
<p style="margin:0px;padding:0px;">   处于chain中的action属于同一个http请求，共享一个ActionContext</p>
<p style="margin:0px;padding:0px;"> </p>
<p style="margin:0px;padding:0px;">    plaintextj 结果类型用于直接在页面上显示源代码</p>
<p style="margin:0px;padding:0px;"> </p>
<div style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:12px;background-color:transparent;width:97%;overflow:auto;margin-left:9px;padding:1px;word-break:break-all;word-wrap:break-word;"><div><div style="padding:3px;text-align:left;margin:0px;color:black;font-weight:bold;">Xml代码 <div></div> <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;" title="收藏这段代码"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [12].png" type="image/png" data-filename="Image.png" alt="收藏代码" height="14" style="border:0px;" width="15"/></a></div></div><ol start="1" style="font-size:1em;line-height:1.4em;margin:0px 0px 1px;padding:2px 0px;border:1px solid rgb(209, 215, 220);list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(43, 145, 175);"><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;err&quot;</span><span style="color:black;"> </span><span style="color:red;">type</span><span style="color:black;">=</span><span style="color:blue;">&quot;plaintext&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;location&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">具体的位置</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;">    <span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:black;"> </span><span style="color:red;">name</span><span style="color:black;">=</span><span style="color:blue;">&quot;charSet&quot;</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">字符规范(如GBK)</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">param</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">   </span></span></li><li style="font-size:1em;padding:0px;margin:0px 0px 0px 38px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(209, 215, 220);background-color:rgb(250, 250, 250);padding-left:10px;line-height:18px;"><span style="color:black;"><span style="color:rgb(0, 102, 153);font-weight:bold;">&lt;/</span><span style="color:rgb(0, 102, 153);font-weight:bold;">result</span><span style="color:rgb(0, 102, 153);font-weight:bold;">&gt;</span><span style="color:black;">  </span></span></li></ol></div>
<p style="margin:0px;padding:0px;">  </p>
  </div>

  

  
  
  
  
  <div style="display:block;">
    
    <div style="text-align:right;display:inline-block;width:160px;height:32px;margin:0px;padding:27px 5px 0px 0px;background-image:none;color:rgb(51, 51, 51);float:right;cursor:auto;font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:32px;font-family:Arial, Helvetica, sans-serif;">分享到：
      <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;background-color:transparent;" title="分享到新浪微博"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" height="16" style="border:0px;margin:0px 5px;" width="16"/></a>
      <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;background-color:transparent;" title="分享到腾讯微博"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [1].jpg" type="image/jpeg" data-filename="Image.jpg" height="16" style="border:0px;margin:0px 5px;" width="16"/></a>
    </div>
  <span style="display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

  <div style="right:20px;margin-bottom:15px;">
    <div style="float:right;text-align:right;padding-top:5px;">
      <a href="http://lzc0088.iteye.com/blog/506165" style="color:rgb(16, 138, 198);text-decoration:underline;padding:0px 15px;background-repeat:no-repeat no-repeat;background-image:url(http://www.iteye.com/images/gray_west_arrow.gif);background-position:0% 50%;" title="Struts2 redirect参数取不到的问题解决方法">Struts2 redirect参数取不到的问题解决方法</a>
      |
      <a href="http://lzc0088.iteye.com/blog/505649" style="color:rgb(16, 138, 198);text-decoration:underline;padding:0px 15px;background-repeat:no-repeat no-repeat;background-image:url(http://www.iteye.com/images/gray_east_arrow.gif);background-position:100% 50%;" title="intellij idea 使用总结">intellij idea 使用总结</a>
    </div>
  </div>
  <div style="padding:15px 0px 5px;">
    <ul style="margin:0px 0px 1.5em;padding:0px;">
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);">2009-10-29 09:00</li>
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);">浏览 24816</li>
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);"><a href="http://lzc0088.iteye.com/blog/506082#comments" style="color:rgb(16, 138, 198);text-decoration:underline;">评论(6)</a></li>
      
      
            
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);border-right-style:none;"><a href="http://www.iteye.com/wiki/blog/506082" style="color:rgb(16, 138, 198);text-decoration:underline;padding-right:50px;background-image:url(http://www.iteye.com/images/icon_more.gif);background-position:100% 50%;background-repeat:no-repeat no-repeat;" target="_blank">相关推荐</a></li>
    </ul>
  </div>

  <div style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:rgb(16, 138, 198);width:685px;">
    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px 0px 0.25em;padding:0px;color:black;">评论</h5>
    <a name="comments" style="color:rgb(16, 138, 198);text-decoration:underline;"></a>
    <div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    6 楼
    <a href="http://121978614-qq-com.iteye.com/" style="color:rgb(16, 138, 198);text-decoration:underline;" target="_blank" title="默默pig">默默pig</a>
    2014-07-21  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">楼主，您好。有个语法想问一下：<br/><br/>引用你原文中“&lt;result name=&quot;topic&quot; type=&quot;redirect&quot;&gt;/topicAction!findTopics.do?topicId=${topicId}&lt;/result&gt;”，其中的&quot;/topicAction&quot;是命名空间吗？其后的“！”  表示什么意思?</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    5 楼
    <a href="http://andrew0721.iteye.com/" style="color:rgb(16, 138, 198);text-decoration:underline;" target="_blank" title="Andrew0721">Andrew0721</a>
    2013-06-17  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;"><div style="font-weight:bold;padding:5px;margin:5px 0px 0px 15px;">road_16 写道</div><div style="border:1px solid rgb(204, 204, 204);margin:0px 5px 5px 15px;padding:3px;background-color:rgb(250, 250, 250);">楼主你好，你说到
<br/>redirect:action处理完后重定向到一个视图资源（如：jsp页面），请求参数全部丢失，action处理结果也全部丢失。
<br/>今天我做了下简单测试，发现参数可以在页面接收，以下是我的代码
<br/>
<br/>&lt;action name=&quot;test&quot; class=&quot;com.action.UploadAction&quot;&gt;
<br/>	&lt;result type='redirect' name=&quot;test&quot;&gt;/test.jsp？name=&quot;tao&quot;&lt;/result&gt;
<br/>&lt;/action&gt;
<br/>我在test.jsp是这样接收参数
<br/>&lt;% String name = request.getParameter(&quot;name&quot;);
<br/>
<br/>   System.out.println(&lt;result type='redirect' name=&quot;test&quot;&gt;/test.jsp？name=&quot;tao&quot;&lt;/result&gt;
<br/>);
<br/>%&gt;
<br/>控制台输出结果:tao,楼主能否解释一下呢?
<br/>
<br/></div>
<br/>
<br/>你重定向以后，把参数都传过去了，肯定能取道啊？重定向后参数全部丢失，指的是之前哪个请求的参数将全部丢失，如果你改成&lt;result type='redirect' name=&quot;test&quot;&gt;/test.jsp？name=&quot;tao&quot;&lt;/result&gt;，页面肯定获取不到name的值。</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    4 楼
    <a href="http://zhengkunsheng.iteye.com/" style="color:rgb(16, 138, 198);text-decoration:underline;" target="_blank" title="zhengkunsheng">zhengkunsheng</a>
    2013-03-27  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/icon_idea.gif" type="image/gif" data-filename="icon_idea.gif" height="19" style="border:0px;" width="19"/> <img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/icon_razz.gif" type="image/gif" data-filename="icon_razz.gif" height="19" style="border:0px;" width="19"/> </div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    3 楼
    <a href="http://road-16.iteye.com/" style="color:rgb(16, 138, 198);text-decoration:underline;" target="_blank" title="road_16">road_16</a>
    2012-09-20  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">楼主你好，你说到
<br/>redirect:action处理完后重定向到一个视图资源（如：jsp页面），请求参数全部丢失，action处理结果也全部丢失。
<br/>今天我做了下简单测试，发现参数可以在页面接收，以下是我的代码
<br/>
<br/>&lt;action name=&quot;test&quot; class=&quot;com.action.UploadAction&quot;&gt;
<br/>	&lt;result type='redirect' name=&quot;test&quot;&gt;/test.jsp？name=&quot;tao&quot;&lt;/result&gt;
<br/>&lt;/action&gt;
<br/>我在test.jsp是这样接收参数
<br/>&lt;% String name = request.getParameter(&quot;name&quot;);
<br/>
<br/>   System.out.println(name);
<br/>%&gt;
<br/>控制台输出结果:tao,楼主能否解释一下呢?
<br/>
<br/></div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    2 楼
    <a href="http://fool2011.iteye.com/" style="color:rgb(16, 138, 198);text-decoration:underline;" target="_blank" title="fool2011">fool2011</a>
    2012-08-01  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">很详细，学习了……<img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/icon_idea [1].gif" type="image/gif" data-filename="icon_idea.gif" height="19" style="border:0px;" width="19"/> </div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    1 楼
    <a href="http://padangel.iteye.com/" style="color:rgb(16, 138, 198);text-decoration:underline;" target="_blank" title="padangel">padangel</a>
    2012-05-15  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;"><img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/icon_idea [2].gif" type="image/gif" data-filename="icon_idea.gif" height="19" style="border:0px;" width="19"/> 非常棒，狠好的文章</div>
</div>


    
    
  </div>

  <div style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:rgb(16, 138, 198);width:685px;">
    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px 0px 0.25em;padding:0px;color:black;">发表评论</h5>
            <p style="margin:0px;padding:0px;text-align:center;margin-top:30px;margin-bottom:0px;"><a href="http://lzc0088.iteye.com/login" style="color:rgb(16, 138, 198);text-decoration:underline;background-color:white;"> <img src="Struts2中redirect基本的经验之谈 - lzc0088 - ITeye技术网站_files/Image [13].png" type="image/png" data-filename="Image.png" height="32" style="border:0px;vertical-align:middle;margin-right:10px;" width="26"/></a><a href="http://lzc0088.iteye.com/login" style="color:rgb(16, 138, 198);text-decoration:underline;">  您还没有登录,请您登录后再发表评论 </a></p>
      </div>
</div></div></div></div></div></div></div><br/></span>
</div></body></html> 