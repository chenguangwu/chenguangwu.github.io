<html>
<head>
  <title>ehcache入门基础示例 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7362"/>
<h1>ehcache入门基础示例 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/8/2 15:50</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://blog.csdn.net/vbirdbest/article/details/72763048"><i>https://blog.csdn.net/vbirdbest/article/details/72763048</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;background:url(https://csdnimg.cn/release/phoenix/themes/skin-yellow/images/bg.png) repeat;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;color:rgb(51, 51, 51);background-color:rgb(245, 246, 247);"><div style="outline:0px;box-sizing:border-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;">
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:16px;">
			<span style="border-radius:50%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;font-size:12px;outline:0px;box-sizing:inherit;border:1px solid rgb(244, 206, 208);color:rgb(202, 12, 22);margin-right:8px;margin-top:4px;float:left;">原</span>		<h1 style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:24px;word-break:break-all;">ehcache入门基础示例</h1>
	</div>
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:14px;border-bottom:1px solid rgb(227, 227, 227);">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;color:rgb(133, 133, 133);display:flex;">
												<span style="box-sizing:inherit;outline:0px;margin-right:14px;">2017年05月26日 08:55:42</span>
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-left:auto;float:right;">
				<span style="box-sizing:inherit;outline:0px;margin-right:14px;">阅读数：38254</span>
											</div>
		</div>
	</div>
	<div style="box-sizing:inherit;outline:0px;display:block;position:relative;padding-top:16px;">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;word-break:break-all;">
                    <div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;word-break:break-all;">
                <h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t0" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>一：目录</h1>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">EhCache 简介</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">Hello World 示例</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">Spring 整合</li>
</ul>

<hr style="outline:0px;box-sizing:border-box;margin:24px 0px;border-top:none;border-right:none;border-left:none;border-image:initial;border-bottom:1px solid rgb(221, 221, 221);word-break:break-all;"/>



<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t1" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>二： 简介</h1>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t2" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>1. 基本介绍</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">EhCache 是一个纯Java的进程内缓存框架，具有快速、精干等特点，是Hibernate中默认CacheProvider。Ehcache是一种广泛使用的开源Java分布式缓存。主要面向通用缓存,Java EE和轻量级容器。它具有内存和磁盘存储，缓存加载器,缓存扩展,缓存异常处理程序,一个gzip缓存servlet过滤器,支持REST和SOAP api等特点。  </p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">Spring 提供了对缓存功能的抽象：即允许绑定不同的缓存解决方案（如Ehcache），但本身不直接提供缓存功能的实现。它支持注解方式使用缓存，非常方便。</p>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t3" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>2. 主要的特性有：</h2>

<ol style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">快速</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">简单</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">多种缓存策略</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">缓存数据有两级：内存和磁盘，因此无需担心容量问题</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">缓存数据会在虚拟机重启的过程中写入磁盘</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">可以通过RMI、可插入API等方式进行分布式缓存</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">具有缓存和缓存管理器的侦听接口</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">支持多缓存管理器实例，以及一个实例的多个缓存区域</li>
<li style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;list-style-type:decimal;margin-left:40px;margin-top:8px;word-break:break-all;">提供Hibernate的缓存实现</li>
</ol>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t4" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>3. 集成</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">可以单独使用，一般在第三方库中被用到的比较多（如mybatis、shiro等）ehcache 对分布式支持不够好，多个节点不能同步，通常和redis一块使用</p>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t5" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>4. ehcache 和 redis 比较</h2>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">ehcache直接在jvm虚拟机中缓存，速度快，效率高；但是缓存共享麻烦，集群分布式应用不方便。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">redis是通过socket访问到缓存服务，效率比ecache低，比数据库要快很多， <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
处理集群和分布式缓存方便，有成熟的方案。如果是单个应用或者对缓存访问要求很高的应用，用ehcache。如果是大型系统，存在缓存共享、分布式部署、缓存内容很大的，建议用redis。</p></li>
</ul>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">ehcache也有缓存共享方案，不过是通过RMI或者Jgroup多播方式进行广播缓存通知更新，缓存共享复杂，维护不方便；简单的共享可以，但是涉及到缓存恢复，大数据缓存，则不合适。</p>

<hr style="outline:0px;box-sizing:border-box;margin:24px 0px;border-top:none;border-right:none;border-left:none;border-image:initial;border-bottom:1px solid rgb(221, 221, 221);word-break:break-all;"/>



<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t6" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>三： Hello World</h1>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t7" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>1、在pom.xml中引入依赖</h2>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>net.sf.ehcache<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>ehcache<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>2.10.2<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t8" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>2、在src/main/resources/创建一个配置文件 ehcache.xml</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">默认情况下Ehcache会自动加载classpath根目录下名为ehcache.xml文件，也可以将该文件放到其他地方在使用时指定文件的位置</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">ehcache</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:xsi</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xsi:noNamespaceSchemaLocation</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://ehcache.org/ehcache.xsd&quot;</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- 磁盘缓存位置 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">diskStore</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">path</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;java.io.tmpdir/ehcache&quot;</span>/&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- 默认缓存 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">defaultCache
</span>          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxEntriesLocalHeap</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;10000&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">eternal</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToIdleSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;120&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToLiveSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;120&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxEntriesLocalDisk</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;10000000&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">diskExpiryThreadIntervalSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;120&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">memoryStoreEvictionPolicy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;LRU&quot;</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">persistence</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">strategy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;localTempSwap&quot;</span>/&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">defaultCache</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- helloworld缓存 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">cache</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;HelloWorldCache&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxElementsInMemory</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;1000&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">eternal</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToIdleSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;5&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToLiveSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;5&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">overflowToDisk</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">memoryStoreEvictionPolicy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;LRU&quot;</span>/&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">ehcache</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t9" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>3、测试类</h2>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">package</span> com.mengdee.manage.cache;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> com.mengdee.manage.entity.Dog;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> net.sf.ehcache.Cache;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> net.sf.ehcache.CacheManager;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> net.sf.ehcache.Element;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">CacheTest</span> {</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">main</span>(String[] args) {

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 1. 创建缓存管理器</span>
        CacheManager cacheManager = CacheManager.create(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;./src/main/resources/ehcache.xml&quot;</span>);

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 2. 获取缓存对象</span>
        Cache cache = cacheManager.getCache(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;HelloWorldCache&quot;</span>);

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 3. 创建元素</span>
        Element element = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> Element(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;key1&quot;</span>, <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;value1&quot;</span>);

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 4. 将元素添加到缓存</span>
        cache.put(element);

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 5. 获取缓存</span>
        Element value = cache.get(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;key1&quot;</span>);
        System.out.println(value);
        System.out.println(value.getObjectValue());

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 6. 删除元素</span>
        cache.remove(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;key1&quot;</span>);

        Dog dog = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> Dog(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">1</span>L, <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;taidi&quot;</span>, (<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">short</span>)<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">2</span>);
        Element element2 = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> Element(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;taidi&quot;</span>, dog);
        cache.put(element2);
        Element value2 = cache.get(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;taidi&quot;</span>);
        Dog dog2 = (Dog) value2.getObjectValue();
        System.out.println(dog2);

        System.out.println(cache.getSize());

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 7. 刷新缓存</span>
        cache.flush();

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 8. 关闭缓存管理器</span>
        cacheManager.shutdown();
    }
}
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">30</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">31</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">32</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">33</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">34</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">35</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">36</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">37</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">38</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">39</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">40</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">41</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">42</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">43</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">44</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">45</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">46</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">47</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">48</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">49</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t10" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>4、缓存配置</h2>



<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:22px;color:rgb(79, 79, 79);font-weight:700;line-height:30px;word-break:break-all;"><a name="t11" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>一：xml配置方式：</h3>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">diskStore ： ehcache支持内存和磁盘两种存储</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">path ：指定磁盘存储的位置</li></ul></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">defaultCache ： 默认的缓存</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">maxEntriesLocalHeap=”10000”</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">eternal=”false”</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">timeToIdleSeconds=”120”</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">timeToLiveSeconds=”120”</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">maxEntriesLocalDisk=”10000000”</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">diskExpiryThreadIntervalSeconds=”120”</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">memoryStoreEvictionPolicy=”LRU”</li></ul></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">cache ：自定的缓存，当自定的配置不满足实际情况时可以通过自定义（可以包含多个cache节点）</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">name : 缓存的名称，可以通过指定名称获取指定的某个Cache对象</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">maxElementsInMemory ：内存中允许存储的最大的元素个数，0代表无限个</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">clearOnFlush：内存数量最大时是否清除。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">eternal ：设置缓存中对象是否为永久的，如果是，超时设置将被忽略，对象从不过期。根据存储数据的不同，例如一些静态不变的数据如省市区等可以设置为永不过时</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">timeToIdleSeconds ： 设置对象在失效前的允许闲置时间（单位：秒）。仅当eternal=false对象不是永久有效时使用，可选属性，默认值是0，也就是可闲置时间无穷大。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">timeToLiveSeconds ：缓存数据的生存时间（TTL），也就是一个元素从构建到消亡的最大时间间隔值，这只能在元素不是永久驻留时有效，如果该值是0就意味着元素可以停顿无穷长的时间。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">overflowToDisk ：内存不足时，是否启用磁盘缓存。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">maxEntriesLocalDisk：当内存中对象数量达到maxElementsInMemory时，Ehcache将会对象写到磁盘中。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">maxElementsOnDisk：硬盘最大缓存个数。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">diskSpoolBufferSizeMB：这个参数设置DiskStore（磁盘缓存）的缓存区大小。默认是30MB。每个Cache都应该有自己的一个缓冲区。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">diskPersistent：是否在VM重启时存储硬盘的缓存数据。默认值是false。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">diskExpiryThreadIntervalSeconds：磁盘失效线程运行时间间隔，默认是120秒。</p></li></ul></li>
</ul>



<h3 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:22px;color:rgb(79, 79, 79);font-weight:700;line-height:30px;word-break:break-all;"><a name="t12" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>二：编程方式配置</h3>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">Cache cache = manager.getCache(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;mycache&quot;</span>); 
CacheConfiguration config = cache.getCacheConfiguration(); 
config.setTimeToIdleSeconds(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">60</span>); 
config.setTimeToLiveSeconds(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">120</span>); 
config.setmaxEntriesLocalHeap(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">10000</span>); 
config.setmaxEntriesLocalDisk(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">1000000</span>);
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t13" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>5、Ehcache API</h2>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">CacheManager：Cache的容器对象，并管理着（添加或删除）Cache的生命周期。</li>
</ul>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 可以自己创建一个Cache对象添加到CacheManager中</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">addCache</span>(Cache cache);
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">synchronized</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeCache</span>(String cacheName);</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li></ul></pre>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">Cache: 一个Cache可以包含多个Element，并被CacheManager管理。它实现了对缓存的逻辑行为</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">Element：需要缓存的元素，它维护着一个键值对， 元素也可以设置有效期，0代表无限制</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">获取CacheManager的方式：</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">可以通过create()或者newInstance()方法或重载方法来创建获取CacheManager的方式：</p></li>
</ul>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> CacheManager <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">create</span>();
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> CacheManager <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">create</span>(String configurationFileName);
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> CacheManager <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">create</span>(InputStream inputStream);
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> CacheManager <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">create</span>(URL configurationFileURL);

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> CacheManager <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">newInstance</span>();</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">Ehcache的CacheManager构造函数或工厂方法被调用时，会默认加载classpath下名为ehcache.xml的配置文件。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
如果加载失败，会加载Ehcache jar包中的ehcache-failsafe.xml文件，这个文件中含有简单的默认配置。</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// CacheManager.create() == CacheManager.create(&quot;./src/main/resources/ehcache.xml&quot;)</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 使用Ehcache默认配置新建一个CacheManager实例</span>
CacheManager cacheManager = CacheManager.create();
cacheManager = CacheManager.newInstance();

cacheManager = CacheManager.newInstance(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;./src/main/resources/ehcache.xml&quot;</span>);

InputStream inputStream = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> FileInputStream(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> File(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;./src/main/resources/ehcache.xml&quot;</span>));
cacheManager = CacheManager.newInstance(inputStream);

String[] cacheNames = cacheManager.getCacheNames();  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// [HelloWorldCache]</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li></ul></pre>

<hr style="outline:0px;box-sizing:border-box;margin:24px 0px;border-top:none;border-right:none;border-left:none;border-image:initial;border-bottom:1px solid rgb(221, 221, 221);word-break:break-all;"/>



<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t14" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>四：Spring整合</h1>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">示例结构：</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><img src="ehcache入门基础示例 - CSDN博客_files/SouthEast" type="image/png" data-filename="SouthEast" height="446" style="outline:0px;box-sizing:border-box;margin:24px 0px;word-break:break-all;max-width:100%;cursor:zoom-in;" title="" width="273"/></p>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t15" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>1. pom.xml 引入spring和ehcache</h2>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">project</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:xsi</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xsi:schemaLocation</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">modelVersion</span>&gt;</span>4.0.0<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">modelVersion</span>&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>com.mengdee<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>ehcache<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>0.0.1-SNAPSHOT<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">properties</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">project.build.sourceEncoding</span>&gt;</span>UTF-8<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">project.build.sourceEncoding</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">junit.version</span>&gt;</span>4.10<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">junit.version</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">spring.version</span>&gt;</span>4.2.3.RELEASE<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">spring.version</span>&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">properties</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependencies</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
      <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>junit<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
      <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>junit<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
      <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>${junit.version}<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
      <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">scope</span>&gt;</span>test<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">scope</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
         <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>org.springframework<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
         <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>spring-test<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
         <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>${spring.version}<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
         <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">scope</span>&gt;</span>test<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">scope</span>&gt;</span>
     <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>


    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- springframework --&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>org.springframework<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>spring-webmvc<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>${spring.version}<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>org.springframework<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>spring-core<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>${spring.version}<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>org.springframework<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>spring-context<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>${spring.version}<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>org.springframework<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>spring-context-support<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>${spring.version}<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>net.sf.ehcache<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>ehcache<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>2.10.3<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">version</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>


  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependencies</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">repositories</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">repository</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">id</span>&gt;</span>aliyun<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">id</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>&gt;</span>aliyun<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">url</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">repository</span>&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">repositories</span>&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">project</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">30</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">31</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">32</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">33</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">34</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">35</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">36</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">37</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">38</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">39</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">40</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">41</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">42</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">43</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">44</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">45</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">46</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">47</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">48</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">49</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">50</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">51</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">52</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">53</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">54</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">55</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">56</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">57</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">58</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">59</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">60</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">61</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">62</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">63</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">64</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">65</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">66</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">67</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t16" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>2. 在src/main/resources添加ehcache.xml</h2>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">ehcache</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:xsi</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xsi:noNamespaceSchemaLocation</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://ehcache.org/ehcache.xsd&quot;</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- 磁盘缓存位置 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">diskStore</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">path</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;java.io.tmpdir/ehcache&quot;</span> /&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- 默认缓存 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">defaultCache
</span>          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxEntriesLocalHeap</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;10000&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">eternal</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToIdleSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;120&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToLiveSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;120&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxEntriesLocalDisk</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;10000000&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">diskExpiryThreadIntervalSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;120&quot;</span>
          <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">memoryStoreEvictionPolicy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;LRU&quot;</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">persistence</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">strategy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;localTempSwap&quot;</span>/&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">defaultCache</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- helloworld缓存 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">cache</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;HelloWorldCache&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxElementsInMemory</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;1000&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">eternal</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToIdleSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;5&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToLiveSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;5&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">overflowToDisk</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">memoryStoreEvictionPolicy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;LRU&quot;</span>/&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">cache</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;UserCache&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">maxElementsInMemory</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;1000&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">eternal</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToIdleSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;1800&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">timeToLiveSeconds</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;1800&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">overflowToDisk</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;false&quot;</span>
         <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">memoryStoreEvictionPolicy</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;LRU&quot;</span>/&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">ehcache</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">30</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">31</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">32</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">33</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">34</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">35</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">36</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t17" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>3. 在src/main/resources/conf/spring中配置spring-base.xml和spring-ehcache.xml</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">spring-base.xml</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">beans</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:xsi</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:context</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/context&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:util</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/util&quot;</span>
       <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xsi:schemaLocation</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">context:component-scan</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">base-package</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;com.mengdee.**.dao,com.mengdee.**.service&quot;</span>/&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">beans</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">spring-ehcache.xml</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">beans</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:xsi</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xmlns:cache</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/cache&quot;</span>
       <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">xsi:schemaLocation</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/cache
        http://www.springframework.org/schema/cache/spring-cache-3.2.xsd&quot;</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">description</span>&gt;</span>ehcache缓存配置管理文件<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">description</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">&lt;!-- 启用缓存注解开关 --&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">cache:annotation-driven</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">cache-manager</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;cacheManager&quot;</span>/&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">bean</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">id</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;cacheManager&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">class</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">property</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;cacheManager&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">ref</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;ehcache&quot;</span>/&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">bean</span>&gt;</span>

  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">bean</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">id</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;ehcache&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">class</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;</span>&gt;</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">property</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">name</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;configLocation&quot;</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">value</span>=<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(0, 153, 0);">&quot;classpath:ehcache.xml&quot;</span>/&gt;</span>
  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">bean</span>&gt;</span>

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">beans</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t18" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>4、在src/main/java/com.mengdee.manager.service/下 创建EhcacheService和EhcacheServiceImpl</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">EhcacheService </p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">package</span> com.mengdee.manager.service;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> com.mengdee.manager.entity.User;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">interface</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">EhcacheService</span> {</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 测试失效情况，有效期为5秒</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> String <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">getTimestamp</span>(String param);

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> String <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">getDataFromDB</span>(String key);

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeDataAtDB</span>(String key);

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> String <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">refreshData</span>(String key);


    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> User <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">findById</span>(String userId);

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">boolean</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">isReserved</span>(String userId);

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeUser</span>(String userId);

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeAllUser</span>();
}
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">EhcacheServiceImpl:</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">package</span> com.mengdee.manager.service;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.cache.annotation.CacheEvict;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.cache.annotation.CachePut;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.cache.annotation.Cacheable;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.stereotype.Service;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> com.mengdee.manager.entity.User;

<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Service</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">EhcacheServiceImpl</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">implements</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">EhcacheService</span>{</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// value的值和ehcache.xml中的配置保持一致</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Cacheable</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;HelloWorldCache&quot;</span>, key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;#param&quot;</span>)
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Override</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> String <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">getTimestamp</span>(String param) {
        Long timestamp = System.currentTimeMillis();
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> timestamp.toString();
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Cacheable</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;HelloWorldCache&quot;</span>, key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;#key&quot;</span>)
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Override</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> String <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">getDataFromDB</span>(String key) {
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;从数据库中获取数据...&quot;</span>);
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> key + <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;:&quot;</span> + String.valueOf(Math.round(Math.random()*<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">1000000</span>));
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@CacheEvict</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;HelloWorldCache&quot;</span>, key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;#key&quot;</span>)
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Override</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeDataAtDB</span>(String key) {
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;从数据库中删除数据&quot;</span>);
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@CachePut</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;HelloWorldCache&quot;</span>, key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;#key&quot;</span>)
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Override</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> String <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">refreshData</span>(String key) {
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;模拟从数据库中加载数据&quot;</span>);
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> key + <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;::&quot;</span> + String.valueOf(Math.round(Math.random()*<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">1000000</span>));
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// ------------------------------------------------------------------------</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Cacheable</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>, key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;'user:' + #userId&quot;</span>)    
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> User <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">findById</span>(String userId) {  
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;模拟从数据库中查询数据&quot;</span>);
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> (User) <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> User(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>, <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;mengdee&quot;</span>);           
    }  

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Cacheable</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>, condition=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;#userId.length()&lt;12&quot;</span>)    
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">boolean</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">isReserved</span>(String userId) {    
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache:&quot;</span>+userId);    
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">false</span>;    
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//清除掉UserCache中某个指定key的缓存    </span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@CacheEvict</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>,key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;'user:' + #userId&quot;</span>)    
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeUser</span>(String userId) {    
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache remove:&quot;</span>+ userId);    
    }    

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//清除掉UserCache中全部的缓存    </span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@CacheEvict</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>, allEntries=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">true</span>)    
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeAllUser</span>() {    
       System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache delete all&quot;</span>);    
    }
}
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">30</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">31</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">32</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">33</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">34</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">35</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">36</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">37</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">38</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">39</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">40</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">41</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">42</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">43</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">44</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">45</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">46</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">47</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">48</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">49</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">50</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">51</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">52</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">53</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">54</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">55</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">56</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">57</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">58</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">59</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">60</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">61</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">62</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">63</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">64</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">65</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">66</li></ul></pre>



<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t19" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>注解基本使用方法</h1>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">Spring对缓存的支持类似于对事务的支持。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
首先使用注解标记方法，相当于定义了切点，然后使用Aop技术在这个方法的调用前、调用后获取方法的入参和返回值，进而实现了缓存的逻辑。</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">@Cacheable</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">表明所修饰的方法是可以缓存的：当第一次调用这个方法时，它的结果会被缓存下来，在缓存的有效时间内，以后访问这个方法都直接返回缓存结果，不再执行方法中的代码段。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
这个注解可以用condition属性来设置条件，如果不满足条件，就不使用缓存能力，直接执行方法。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
可以使用key属性来指定key的生成规则。</p></li>
</ul>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">@Cacheable 支持如下几个参数：</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">value：缓存位置名称，不能为空，如果使用EHCache，就是ehcache.xml中声明的cache的name, 指明将值缓存到哪个Cache中</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">key：缓存的key，默认为空，既表示使用方法的参数类型及参数值作为key，支持SpEL，如果要引用参数值使用井号加参数名，如：#userId，</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">一般来说，我们的更新操作只需要刷新缓存中某一个值，所以定义缓存的key值的方式就很重要，最好是能够唯一，因为这样可以准确的清除掉特定的缓存，而不会影响到其它缓存值 ， <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
本例子中使用实体加冒号再加ID组合成键的名称，如”user:1”、”order:223123”等</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">condition：触发条件，只有满足条件的情况才会加入缓存，默认为空，既表示全部都加入缓存，支持SpEL</li>
</ul>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 将缓存保存到名称为UserCache中，键为&quot;user:&quot;字符串加上userId值，如 'user:1'</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Cacheable</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>, key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;'user:' + #userId&quot;</span>)    
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> User <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">findById</span>(String userId) {    
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> (User) <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">new</span> User(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>, <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;mengdee&quot;</span>);           
}    

<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 将缓存保存进UserCache中，并当参数userId的长度小于12时才保存进缓存，默认使用参数值及类型作为缓存的key</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 保存缓存需要指定key，value， value的数据类型，不指定key默认和参数名一样如：&quot;1&quot;</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Cacheable</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>, condition=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;#userId.length() &lt; 12&quot;</span>)    
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">boolean</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">isReserved</span>(String userId) {    
    System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache:&quot;</span>+userId);    
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">return</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">false</span>;    
}</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li></ul></pre>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">@CachePut</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">与@Cacheable不同，@CachePut不仅会缓存方法的结果，还会执行方法的代码段。它支持的属性和用法都与@Cacheable一致。</p></li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">@CacheEvict</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">与@Cacheable功能相反，@CacheEvict表明所修饰的方法是用来删除失效或无用的缓存数据。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">@CacheEvict 支持如下几个参数：</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;"><li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">value：缓存位置名称，不能为空，同上</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">key：缓存的key，默认为空，同上</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">condition：触发条件，只有满足条件的情况才会清除缓存，默认为空，支持SpEL</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">allEntries：true表示清除value中的全部缓存，默认为false</li></ul></li>
</ul>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//清除掉UserCache中某个指定key的缓存    </span>
<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@CacheEvict</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>,key=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;'user:' + #userId&quot;</span>)    
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">removeUser</span>(User user) {    
    System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>+user.getUserId());    
}    

<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//清除掉UserCache中全部的缓存    </span>
<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@CacheEvict</span>(value=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache&quot;</span>, allEntries=<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">true</span>)    
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">final</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">setReservedUsers</span>(String[] reservedUsers) {    
   System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;UserCache deleteall&quot;</span>);    
}</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li></ul></pre>



<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t20" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>5、测试</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">SpringTestCase </p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">package</span> com.mengdee.manager;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.junit.runner.RunWith;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.test.context.ContextConfiguration;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.test.context.junit4.AbstractJUnit4SpringContextTests;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@ContextConfiguration</span>(locations = {<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;classpath:conf/spring/spring-*.xml&quot;</span>})
<span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@RunWith</span>(SpringJUnit4ClassRunner.class)
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">SpringTestCase</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">extends</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">AbstractJUnit4SpringContextTests</span>{</span>

}</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li></ul></pre>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">package</span> com.mengdee.manager;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.junit.Test;
<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.beans.factory.annotation.Autowired;

<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> com.mengdee.manager.service.EhcacheService;



<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">EhcacheServiceTest</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">extends</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">SpringTestCase</span>{</span>

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Autowired</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">private</span> EhcacheService ehcacheService;

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 有效时间是5秒，第一次和第二次获取的值是一样的，因第三次是5秒之后所以会获取新的值</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testTimestamp</span>() <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">throws</span> InterruptedException{
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;第一次调用：&quot;</span> + ehcacheService.getTimestamp(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;param&quot;</span>));
        Thread.sleep(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">2000</span>);
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;2秒之后调用：&quot;</span> + ehcacheService.getTimestamp(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;param&quot;</span>));
        Thread.sleep(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">4000</span>);
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;再过4秒之后调用：&quot;</span> + ehcacheService.getTimestamp(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;param&quot;</span>));
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testCache</span>(){
        String key = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;zhangsan&quot;</span>;
        String value = ehcacheService.getDataFromDB(key); <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 从数据库中获取数据...</span>
        ehcacheService.getDataFromDB(key);  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 从缓存中获取数据，所以不执行该方法体</span>
        ehcacheService.removeDataAtDB(key); <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 从数据库中删除数据</span>
        ehcacheService.getDataFromDB(key);  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 从数据库中获取数据...（缓存数据删除了，所以要重新获取，执行方法体）</span>
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testPut</span>(){
        String key = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;mengdee&quot;</span>;
        ehcacheService.refreshData(key);  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 模拟从数据库中加载数据</span>
        String data = ehcacheService.getDataFromDB(key);
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;data:&quot;</span> + data); <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// data:mengdee::103385</span>

        ehcacheService.refreshData(key);  <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 模拟从数据库中加载数据</span>
        String data2 = ehcacheService.getDataFromDB(key);
        System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;data2:&quot;</span> + data2);   <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// data2:mengdee::180538    </span>
    }


    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testFindById</span>(){
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>); <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 模拟从数据库中查询数据</span>
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>);
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testIsReserved</span>(){
        ehcacheService.isReserved(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;123&quot;</span>);
        ehcacheService.isReserved(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;123&quot;</span>);
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testRemoveUser</span>(){
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 线添加到缓存</span>
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>);

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 再删除</span>
        ehcacheService.removeUser(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>);

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">// 如果不存在会执行方法体</span>
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>);
    }

    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Test</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">testRemoveAllUser</span>(){
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>);
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;2&quot;</span>);

        ehcacheService.removeAllUser();

        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;1&quot;</span>);
        ehcacheService.findById(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;2&quot;</span>);

<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//      模拟从数据库中查询数据</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//      模拟从数据库中查询数据</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//      UserCache delete all</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//      模拟从数据库中查询数据</span>
<span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//      模拟从数据库中查询数据</span>
    }

}
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">30</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">31</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">32</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">33</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">34</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">35</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">36</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">37</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">38</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">39</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">40</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">41</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">42</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">43</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">44</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">45</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">46</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">47</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">48</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">49</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">50</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">51</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">52</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">53</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">54</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">55</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">56</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">57</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">58</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">59</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">60</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">61</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">62</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">63</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">64</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">65</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">66</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">67</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">68</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">69</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">70</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">71</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">72</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">73</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">74</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">75</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">76</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">77</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">78</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">79</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">80</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">81</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">82</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">83</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">84</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">85</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">86</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">87</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">88</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">89</li></ul></pre>

<hr style="outline:0px;box-sizing:border-box;margin:24px 0px;border-top:none;border-right:none;border-left:none;border-image:initial;border-bottom:1px solid rgb(221, 221, 221);word-break:break-all;"/>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">示例Demo代码下载：<a href="http://download.csdn.net/detail/vbirdbest/9852783" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">http://download.csdn.net/detail/vbirdbest/9852783</a></p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">参考文章： <a href="http://www.cnblogs.com/jingmoxukong/p/5975994.html" rel="nofollow" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">http://www.cnblogs.com/jingmoxukong/p/5975994.html</a></p>



<h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;"><a name="t21" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>我的微信公众号</h1>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><img src="ehcache入门基础示例 - CSDN博客_files/70" type="image/jpeg" data-filename="70" height="258" style="outline:0px;box-sizing:border-box;margin:24px 0px;word-break:break-all;max-width:100%;cursor:zoom-in;" title="" width="258"/></p>            </div>
            
                <span style="display:block;clear:both;"></span></div>
				
        	</div>
	
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:16px;margin-top:16px;border-bottom:1px solid rgb(227, 227, 227);">
				<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;color:rgb(153, 153, 153);">
			版权声明：本文为博主原创文章，未经博主允许不得转载。			https://blog.csdn.net/vbirdbest/article/details/72763048		</div>
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:8px;font-size:12px;margin-top:8px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">文章标签：</span>
						<a href="http://so.csdn.net/so/search/s.do?q=ehcache&amp;t=blog" style="color:rgb(77, 77, 77);cursor:pointer;text-decoration:none;outline:0px;box-sizing:inherit;display:inline-block;word-break:break-all;border:1px solid rgb(204, 204, 204);border-radius:100px;padding:0px 8px;text-align:center;line-height:24px;min-width:24px;height:24px;margin-right:8px;" target="_blank">ehcache						</a>
		</div>
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:8px;font-size:12px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">个人分类：</span>
						<a href="https://blog.csdn.net/vbirdbest/article/category/6915734" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">Java实战系列						</a>
		</div>
								<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;margin-bottom:0px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">相关热词：</span>
						<a href="https://blog.csdn.net/py_xin/article/details/52846661" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">
			ehcache锁			</a>
						<a href="https://blog.csdn.net/u012562943/article/details/53215121" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">
			ehcache书			</a>
						<a href="https://blog.csdn.net/xh199110/article/details/38474061" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">
			ehcache群			</a>
					</div>
			</div>
	
	
			<div style="outline:0px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:0px;box-sizing:inherit;padding:0px;line-height:28px;display:inline-block;width:48%;margin-top:18px;margin-right:16px;">
		<a href="https://blog.csdn.net/vbirdbest/article/details/72620957" style="box-sizing:inherit;outline:0px;color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;">
			<span style="box-sizing:inherit;outline:0px;margin-right:8px;padding:6px 8px;font-size:12px;border:1px solid rgb(227, 227, 227);color:rgb(77, 77, 77);">上一篇</span>SpringMVC+FastJson+hibernate-validator整合完整示例		</a>
	</div>
				<div style="outline:0px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:0px;box-sizing:inherit;padding:0px;line-height:28px;display:inline-block;width:48%;margin-bottom:0px;margin-top:0px;">
		<a href="https://blog.csdn.net/vbirdbest/article/details/72782295" style="box-sizing:inherit;outline:0px;color:rgb(51, 51, 51);text-decoration:none;cursor:pointer;">
			<span style="box-sizing:inherit;outline:0px;margin-right:8px;padding:6px 8px;font-size:12px;border:1px solid rgb(227, 227, 227);color:rgb(77, 77, 77);">下一篇</span>Spring+Redis整合		</a>
	</div>
	</div></span></div></div></div></div>
</div>
</span>
</div></body></html> 