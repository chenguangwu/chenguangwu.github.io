<html>
<head>
  <title>如何在Java项目中使用Activiti做业务流程管理</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10366"/>
<h1>如何在Java项目中使用Activiti做业务流程管理</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/1/27 0:07</i></td></tr>
<tr><td><b>标签：</b></td><td><i>微信</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://mp.weixin.qq.com/s?__biz=MzU0MDcyMjUzOQ==&mid=2247483661&idx=1&sn=21a1adc7f833e60c39f78f2fd95e2b5e&chksm=fb359509cc421c1f5cc8acfcbbc99510160be14c794b789e331a712559986ec422353f719f2d&mpshare=1&scene=1&srcid=01274zEsajgiRnXbglz7bSDk#rd"><i>http://mp.weixin.qq.com/s?__biz=MzU0MDcyMjUzOQ==&amp;mid=2247483661&amp;idx=1&amp;sn=21a1adc7f833e60c39f78f2fd95e2b5e&amp;chksm=fb359509cc421c1f5cc8acfcbbc99510160be14c794b789e331a712559986ec422353f719f2d&amp;mpshare=1&amp;scene=1&amp;srcid=01274zEsajgiRnXbglz7bSDk#rd</i></a></td></tr>
</table>
</div>
<br/>

<div><span style="margin:0px;"><div style="padding:8px 0px;margin:8px auto;max-width:700px;"> <div style="padding:20px 16px 12px;margin:0;background-color:#fff"><div style="margin:0;padding:0"><div style="margin:0;padding:0"><h2 style="font-weight:400;margin:0;padding:0;font-size:22px;line-height:1.4;margin-bottom:14px"> 如何在Java项目中使用Activiti做业务流程管理 </h2><div style="margin:0;padding:0;margin-bottom:22px;line-height:20px;font-size:0;word-wrap:break-word;word-break:break-all"><span style="padding:0;display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0);margin-right:0;color:rgba(0,0,0,0.3)">原创：</span><span style="padding:0;display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0);color:rgba(0,0,0,0.3)"> 赵创业 </span><span style="padding:0;display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative"><a style="margin:0;padding:0;color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)"> Coding夜未眠 </a></span><em style="padding:0;font-style:normal;display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0);color:rgba(0,0,0,0.3)"></em></div><div style="margin:0;padding:0;overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0"><h1 style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-size:24px;margin-top:36px;margin-bottom:22px;font-weight:700;line-height:32px;color:rgb(34,34,34)">什么是Activiti？</h1><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">Activiti项目是一项新的基于Apache许可的开源BPM平台，从基础开始构建，旨在提供支持新的BPMN 2.0标准，包括支持对象管理组（OMG），面对新技术的机遇，诸如互操作性和云架构，提供技术实现。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640.jpg" type="image/jpeg" data-filename="640.jpg" height="418" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="1010"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">工作流示例</p><h1 style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-size:24px;margin-top:36px;margin-bottom:22px;font-weight:700;line-height:32px;color:rgb(34,34,34)">什么是BPMN 2.0？</h1><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">由BPMI(The Business Process Management Initiative)开发了一套标准叫业务流程建模符号(BPMN - Business Process Modeling Notation)。在 BPMI Notation Working Group超过2年的努力，于2004年5月对外发布了BPMN 1.0 规范。后BPMI并入到OMG组织，OMG于2011年推出BPMN2.0标准，对BPMN进行了重新定义(Business Process Model and Notation)。BPMN的主要目标是提供一些被所有业务用户容易理解的符号，从创建流程轮廓的业务分析到这些流程的实现，直到最终用户的管理监控。BPMN也支持提供一个内部的模型可以生成可执行的BPEL4WS。因此BPMN的出现，弥补了从业务流程设计到流程开发的间隙。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">BPMN定义了一个业务流程图（Business Process Diagram），该业务流程图基于一个流程图（flowcharting），该流程图被设计用于创建业务流程操作的图形化模型。而一个业务流程模型（Business Process Model），指一个由图形对象（graphical objects）组成的网状图，图形对象包括活动（activities)和用于定义这些活动执行顺序的流程控制器（flow controls）。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [1].jpg" type="image/jpeg" data-filename="640.jpg" height="375" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="407"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">BPMN2.0规范内容</p><h1 style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-size:24px;margin-top:36px;margin-bottom:22px;font-weight:700;line-height:32px;color:rgb(34,34,34)">常用的BPMN符号<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></h1><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">启动与结束事件(event)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">启动事件与结束事件是很重要的一部分，分别负责流程的开始与结束。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [2].jpg" type="image/jpeg" data-filename="640.jpg" height="64" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="69"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">启动事件</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [3].jpg" type="image/jpeg" data-filename="640.jpg" height="75" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="96"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">结束事件</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1.启动事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">启动事件又分为：空启动事件；定时启动事件；异常启动事件。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1）空启动事件</span></p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">&lt;startEvent id=&quot;startevent&quot; name=&quot;Start&quot;&gt;&lt;/startEvent&gt;</span></p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">以上XML表示一个空启动事件，由于startEvent标签内没有任何元素定义，因此表示一个空启动事件。<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">Activiti扩展了formKey属性avtiviti:formKey，可以用来指定启动事件关联的表单文件。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">activiti扩展了initiator事件activiti:initiator，可以用来记录启动流程人的ID，启动流程之后此属性指定的变量就会自动设置当前人的名称。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">2）定时启动事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">定时启动事件可以用于一次性定时启动，也可以用于特定时间定时启动。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [4].jpg" type="image/jpeg" data-filename="640.jpg" height="70" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="117"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">定时启动事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;startEvent id=&quot;timerstartevent1&quot; name=&quot;Timer start&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;timerEventDefinition&gt;&lt;/timerEventDefinition&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/startEvent&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">以上XML就表示一个空定时启动事件。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">3）异常启动事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">异常启动事件可以出发一个异常子流程，但不能通过API方式启动，总是在另外一个子流程抛出异常结束事件的时候被触发。异常启动事件&quot;捕获型&quot;，而异常结束事件是抛出型的。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [5].jpg" type="image/jpeg" data-filename="640.jpg" height="77" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="96"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">异常启动事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;endEvent id=&quot;errorendevent1&quot; name=&quot;ErrorEnd&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;errorEventDefinition&gt;&lt;/errorEventDefinition&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/endEvent&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">以上XML就表示一个空定时启动事件。<span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700"><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">4）消息启动事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">消息启动事件可以通过一个消息名称触发，从而启动一个流程实例，还可以结合消息抛出事件一起使用。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [6].jpg" type="image/jpeg" data-filename="640.jpg" height="72" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="117"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">消息启动事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;startEvent id=&quot;messagestartevent1&quot; name=&quot;Message start&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;messageEventDefinition&gt;&lt;/messageEventDefinition&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/startEvent&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">2.结束事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">结束事件又分为：空结束事件；异常结束事件；取消结束事件。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1）空结束事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">结束事件是抛出型的。空结束事件不处理抛出结果，空结束事件一般用于正常结束流程。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [7].jpg" type="image/jpeg" data-filename="640.jpg" height="69" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="89"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">空结束事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;bpmndi:BPMNShape bpmnElement=&quot;endevent2&quot; id=&quot;BPMNShape_endevent2&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;omgdc:Bounds height=&quot;35.0&quot; width=&quot;35.0&quot; x=&quot;1030.0&quot; y=&quot;280.0&quot;&gt;&lt;/omgdc:Bounds&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/bpmndi:BPMNShape&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">2）异常结束事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">异常结束事件时有抛出结果的，它定义了需要抛出的错误代码，如果找到了异常开始事件定义的异常代码，则会触发异常开始事件，否则按照空结束事件处理。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [8].jpg" type="image/jpeg" data-filename="640.jpg" height="55" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="92"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">异常结束事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;bpmndi:BPMNShape bpmnElement=&quot;errorendevent1&quot; id=&quot;BPMNShape_errorendevent1&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;omgdc:Bounds height=&quot;35.0&quot; width=&quot;35.0&quot; x=&quot;1030.0&quot; y=&quot;370.0&quot;&gt;&lt;/omgdc:Bounds&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/bpmndi:BPMNShape&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">3）终止结束事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">它可以终止一个流程实例的执行。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [9].jpg" type="image/jpeg" data-filename="640.jpg" height="82" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="112"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">终止结束事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;bpmndi:BPMNShape bpmnElement=&quot;terminateendevent1&quot; id=&quot;BPMNShape_terminateendevent1&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;omgdc:Bounds height=&quot;35.0&quot; width=&quot;35.0&quot; x=&quot;980.0&quot; y=&quot;260.0&quot;&gt;&lt;/omgdc:Bounds&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/bpmndi:BPMNShape&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">4）取消结束事件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">取消结束事件可以取消一个事务子流程的执行，同时也能在子流程中使用，当子流程在执行过程中出现异常时，可以设置一个取消结束事件。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [10].jpg" type="image/jpeg" data-filename="640.jpg" height="55" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="49"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">取消结束事件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;bpmndi:BPMNShape bpmnElement=&quot;cancelendevent1&quot; id=&quot;BPMNShape_cancelendevent1&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;omgdc:Bounds height=&quot;35.0&quot; width=&quot;35.0&quot; x=&quot;860.0&quot; y=&quot;330.0&quot;&gt;&lt;/omgdc:Bounds&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/bpmndi:BPMNShape&gt;</p></blockquote><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">容器(Container)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [11].jpg" type="image/jpeg" data-filename="640.jpg" height="124" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="172"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">容器</p><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">任务(Task)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">任务时流程中重要的组成部分,可分为：用户任务；脚本任务；WebServices任务；业务规则任务；邮件任务；Mule任务；Camle任务；手动任务；JavaService任务；Shell任务。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1）用户任务</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [12].jpg" type="image/jpeg" data-filename="640.jpg" height="108" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="153"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">用户任务</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;userTask id=&quot;usertask1&quot; name=&quot;User Task&quot;&gt;&lt;/userTask&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">以上XML定义了一个用户任务。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">2）脚本任务</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">脚本任务可以运行引擎依赖的语言之外的脚本语言。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [13].jpg" type="image/jpeg" data-filename="640.jpg" height="67" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="113"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">脚本任务</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;scriptTask id=&quot;scripttask1&quot; name=&quot;Script Task&quot; activiti:autoStoreVariables=&quot;false&quot;&gt;&lt;/scriptTask&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">3）Service 任务</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">Service 任务允许指定一个实现了指定接口的类，或者执行一个表达式，可以把一个结果保存到一个变量中。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [14].jpg" type="image/jpeg" data-filename="640.jpg" height="107" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="190"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">JavaServices任务</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;serviceTask id=&quot;servicetask1&quot; name=&quot;Service Task&quot;&gt;&lt;/serviceTask&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">4）业务规则任务</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">业务规则任务可以根据流程变量的值预设的业务规则，就是把业务数据交由规则引擎处理，规则引擎根据不同的业务规则得到最终的结果在返回给调用者。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [15].jpg" type="image/jpeg" data-filename="640.jpg" height="101" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="175"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">业务规则任务</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;businessRuleTask id=&quot;businessruletask1&quot; name=&quot;Business rule task&quot;&gt;&lt;/businessRuleTask&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">5）邮件任务</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">邮件任务可以通过Activiti发送邮件，其中邮件的信息通过变量的方式传递。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [16].jpg" type="image/jpeg" data-filename="640.jpg" height="97" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="175"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">邮件任务</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;serviceTask id=&quot;mailtask1&quot; name=&quot;Mail Task&quot; activiti:type=&quot;mail&quot;&gt;&lt;/serviceTask&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">网关(Gateway)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">网关用于控制流程的走向，可分为：排他网关；并行网关；包容网关；事件网关。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1）排他网关</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">排他网关用来对流程中的决定进行建模，流程执行到该网关时，按照输出流的顺序逐个计算，当条件计算结果为true时，继续执行，如果多个线路的计算结果都为true时，那么只会执行第一个值为true的网关。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [17].jpg" type="image/jpeg" data-filename="640.jpg" height="77" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="110"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">排他 网关</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;exclusiveGateway id=&quot;exclusivegateway1&quot; name=&quot;Exclusive Gateway&quot;&gt;&lt;/exclusiveGateway&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">2）并行网关</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">并行网关用来对并发的任务进行流程建模，并行网关的任务取决于输入，输出顺序流。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">拆分：并行执行所有的输出输入顺序流，并且为每一条顺序流创建一个并行执行线路。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">合并：所有从并行网关拆分并执行完成的线路均在此等候，直到所有的线路都执行完成才继续向下执行。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [18].jpg" type="image/jpeg" data-filename="640.jpg" height="52" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="50"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">并行网关</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;parallelGateway id=&quot;parallelgateway1&quot; name=&quot;Parallel Gateway&quot;&gt;&lt;/parallelGateway&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">3）包容网关</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">包容网关融合了排他网关和并行网关的特性，包容网关既可以同事执行多条线路。有允许在网关上设置条件，也分为拆分与合并。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [19].jpg" type="image/jpeg" data-filename="640.jpg" height="53" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="58"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">包容网关</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;inclusiveGateway id=&quot;inclusivegateway1&quot; name=&quot;Inclusive Gateway&quot;&gt;&lt;/inclusiveGateway&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">4）事件网关</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">事件网关是专门为中间捕获事件设置的，它允许多个输出流指向多个不同的中间捕获事件。当流程执行到事件网关后流程处于等待的状态，因为中间等待事件需要依赖中间抛出事件触发。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [20].jpg" type="image/jpeg" data-filename="640.jpg" height="54" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="57"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">事件网关</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;eventBasedGateway id=&quot;eventgateway1&quot; name=&quot;Event Gateway&quot;&gt;&lt;/eventBasedGateway&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">子流程(Subprocess)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">把一切需要处理的任务归结到一起作为作为一个大流程的一部分，因为子流程嵌入在主流程中，所有也叫&quot;嵌入式子流程&quot;。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">子流程限制：</span></p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">只能包含一个空启动事件；</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">至少有一个结束事件；</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">在子流程中不能把输出流设置到子流程之外的活动上。</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1）调用活动</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">调用活动解决的问题是流程的通用性，和子流程一样只不过表现的方式不同而已。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [21].jpg" type="image/jpeg" data-filename="640.jpg" height="73" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="119"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">调用活动</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;process id=&quot;myProcess&quot; name=&quot;My process&quot; isExecutable=&quot;true&quot;&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;callActivity id=&quot;callactivity1&quot; name=&quot;Call activity&quot;&gt;&lt;/callActivity&gt;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">&lt;/process&gt;</p></blockquote><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">边界事件(Boundary Event)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [22].jpg" type="image/jpeg" data-filename="640.jpg" height="154" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="213"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">边界事件</p><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">中间事件(Intermediate Event)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [23].jpg" type="image/jpeg" data-filename="640.jpg" height="154" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="211"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">中间事件</p><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">监听器(Listener)</span></p></li></ul><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">在Activiti 中开发人员可以通过配置监听器的方式监听各种动作，例如流程 的启动，结束，创建，任务的完成</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">监听器分为两类：执行监听器和任务监听器。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">执行监听器可以捕获的事件如下：</p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">流程实例的启动，结束</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">输出流的捕获</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">活动的启动，结束</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">路由开始，结束</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">中间事件开始，结束</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">触发开始事件，触发结束事件</p></li></ol><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">import org.activiti.engine.delegate.DelegateExecution;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">import org.activiti.engine.delegate.ExecutionListener;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">public class ExecutionListenerForFlow implements ExecutionListener{</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">@Override</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">public void notify(DelegateExecution delegate) throws Exception {</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">}</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">任务监听器相对于执行监听器的使用范围要小的多，因为它只适用于用户任务，用来监听三种事件：</p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">create:在任务被创建且所有的任务属性设置完成后才触发</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">assignment：在任务被分配给某个办理人之后触发</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">complete：在配置了监听器的上一个任务完成时触发</p></li></ol><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">import org.activiti.engine.delegate.DelegateTask;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">import org.activiti.engine.delegate.TaskListener;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">public class ExecutionListenerForFlow implements TaskListener{</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">@Override</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">public void notify(DelegateTask arg0) {</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">// TODO Auto-generated method stub</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">}</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">}</p></blockquote><h1 style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-size:24px;margin-top:36px;margin-bottom:22px;font-weight:700;line-height:32px;color:rgb(34,34,34)">Activiti之HelloWorld<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></h1><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">从官网上下载activiti，这里使用的版本是6.0，并安装Eclipse BPMN设计插件。<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">一切就绪后，解压wars/activiti-rest.war，从WEB-INF文件夹中拷贝lib文件夹中的依赖库和classes文件夹中的activiti-custom-context.xml文件。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">使用Eclipse建立工程，并绘制bpmn图备用。<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [24].jpg" type="image/jpeg" data-filename="640.jpg" height="671" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="1507"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">BPMN设计器及DEMO</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">新建HelloWorld类。<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">1）使用配置文件创建数据库</span><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">String resource=&quot;activiti-custom-context.xml&quot;;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">String beanName=&quot;processEngineConfiguration&quot;;</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessEngineConfiguration configuration= ProcessEngineConfiguration.createProcessEngineConfigurationFromResource(resource,beanName);</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">//创建一个流程引擎对象，在创建流程引擎对象时会自动建表</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessEngine engine= configuration.buildProcessEngine();</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">配置文件使用之前拷贝的activiti-custom-context.xml文件，修改内容如下：</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [25].jpg" type="image/jpeg" data-filename="640.jpg" style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(119,119,119);font-size:12px;text-align:center">数据库配置文件</span></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">之后，运行程序，成功生成28张表。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><img src="如何在Java项目中使用Activiti做业务流程管理_files/640 [26].jpg" type="image/jpeg" data-filename="640.jpg" height="516" style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-tap-highlight-color:transparent;border-style:none;display:block;margin:10px auto" width="175"/></p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:center;font-size:12px;color:rgb(119,119,119);line-height:16px">数据库表</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">Activiti所有的表都以ACT_开头。第二部分是表示用途的两个字母标识。用途也和服务的API对应。</p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ACT_RE_*：’RE’表示repository。这个前缀的表包含了流程定义和流程静态资源 （图片，规则等等）。</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ACT_RU_*：’RU’表示runtime。这些是运行时的表，包含流程实例，任务，变量，异步任务等运行中的数据。Activiti只在流程实例执行过程中保存这些数据， 在流程结束时就会删除这些记录。这样运行时表可以一直很小且速度很快。</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ACT_ID_*：’ID’表示identity。这些表包含身份信息，比如用户，组等等。</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ACT_HI_*：’HI’表示history。这些表包含历史数据，比如历史流程实例，变量，任务等等。</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ACT_GE_*：通用数据，用于不同场景下。</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">资源库流程规则表</span></p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_re_deployment：部署信息表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_re_model：流程设计模型部署表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_re_procdef：流程定义数据表</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">运行时数据库表</span></p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_ru_execution：运行时流程执行实例表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_ru_identitylink：运行时流程人员表，主要存储任务节点与参与者的相关信息</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_ru_task：运行时任务节点表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_ru_variable：运行时流程变量数据表</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">历史数据库表</span></p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_actinst：历史节点表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_attachment：历史附件表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_comment：历史意见表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_identitylink：历史流程人员表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_detail ：历史详情表，提供历史变量的查询</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_procinst：历史流程实例表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_taskinst：历史任务实例表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_hi_varinst：历史变量表</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">组织机构表</span></p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_id_group ：用户组信息表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_id_info：用户扩展信息表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_id_membership：用户与用户组对应信息表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_id_user：用户信息表</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">这四张表很常见，基本的组织机构管理，关于用户认证方面建议还是自己开发一套，组件自带的功能太简单，使用中有很多需求难以满足。</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)"><span style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-weight:700">通用数据表</span></p><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_ge_bytearray：二进制数据表</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">act_ge_property：属性数据表存储整个流程引擎级别的数据，初始化表结构时会默认插入三条记录</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">2）加载bpmn文件</p><blockquote style="padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;margin:0;padding-left:10px;border-left:3px solid #dbdbdb;-webkit-tap-highlight-color:transparent;margin-top:1em;margin-bottom:1em;padding-top:12px;padding-right:10px;padding-bottom:12px;font-size:16px;line-height:1.5;color:rgb(153,153,153);background:rgb(244,245,246);border-width:1px;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-color:rgb(232,232,232)"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">// 获得一个部署构建器对象，用于加载流程定义文件（test1.bpmn,test.png）完成流程定义的部署</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">DeploymentBuilder builder= processEngine.getRepositoryService().createDeployment();</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">// 加载流程定义文件</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">builder.addClasspathResource(&quot;MyProcess.bpmn&quot;);</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">builder.addClasspathResource(&quot;MyProcess.png&quot;);</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">// 部署流程定义</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">Deployment deployment = builder.deploy();</p><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">System.out.println(deployment.getId());</p></blockquote><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent;margin-top:16px;margin-bottom:16px;color:rgb(34,34,34)">到此，Activiti之HelloWorld便已完成了。大家可以试着查阅资料编写其他案例。<br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent"/></p><h1 style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;-webkit-tap-highlight-color:transparent;font-size:24px;margin-top:36px;margin-bottom:22px;font-weight:700;line-height:32px;color:rgb(34,34,34)">activiti中的几个对象</h1><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">几个和流程相关的对象</p></li></ul><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">Deployment：部署对象，和部署表(act_re_deployment)对应</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessDefinition：流程定义对象，和流程定义表(act_re_procdef)对应</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessInstance：流程实例对象，和流程实例表(act_ru_execution)对应</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">Task：任务对象，和任务表(act_ru_task)对应</p></li></ol><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">几个Service对象</p></li></ul><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">RepositoryService：操作部署、流程定义等静态资源信息</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">RuntimeService：操作流程实例，启动流程实例、查询流程实例、删除流程实例等动态信息</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">TaskService：操作任务，查询任务、办理任务等和任务相关的信息</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">HistoryService：操作历史信息的，查询历史信息</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">IdentityService：操作用户和组</p></li></ol><ul style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em;list-style-type:square"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">几个Query对象</p></li></ul><ol style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;padding-left:2.2em"><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">DeploymentQuery：对应查询部署表(act_re_deployment)</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessDefinitionQuery：对应查询流程定义表(act_re_procdef)</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">ProcessInstanceQuery：对应查询流程实例表(act_ru_execution)</p></li><li style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;-webkit-tap-highlight-color:transparent">TaskQuery：对应查询任务表(act_ru_task)</p></li></ol><p style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em"><br style="margin:0;padding:0;max-width:100% !important;box-sizing:border-box !important;-webkit-box-sizing:border-box !important;word-wrap:break-word !important"/></p></div></div><ul style="margin:0;padding:0"></ul><div style="margin:0;padding:0;padding-top:15px"><a href="https://mp.weixin.qq.com/s?__biz=MzU0MDcyMjUzOQ==&amp;mid=2247483661&amp;idx=1&amp;sn=21a1adc7f833e60c39f78f2fd95e2b5e&amp;chksm=fb359509cc421c1f5cc8acfcbbc99510160be14c794b789e331a712559986ec422353f719f2d&amp;mpshare=1&amp;scene=1&amp;srcid=01274zEsajgiRnXbglz7bSDk##" style="margin:0;padding:0;color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)">阅读原文</a></div></div></div></div></span>
</div></body></html> 