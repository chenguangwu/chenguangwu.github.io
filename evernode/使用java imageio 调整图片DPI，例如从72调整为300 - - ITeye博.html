<html>
<head>
  <title>使用java imageio 调整图片DPI，例如从72调整为300 - - ITeye博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="12632"/>
<h1>使用java imageio 调整图片DPI，例如从72调整为300 - - ITeye博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/7/30 11:55</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://lflei.iteye.com/blog/2363690"><i>https://lflei.iteye.com/blog/2363690</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;"><div style="text-align:center;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:12px;line-height:1.5;color:black;background:white;box-sizing:border-box;"><div style="background:white;text-align:center;box-sizing:border-box;background-color:rgb(239, 250, 255);"><div style="text-align:left;box-sizing:border-box;"><div style="overflow:hidden;background-color:white;box-sizing:border-box;"><div style="background-color:white;box-sizing:border-box;">
  
  <div style="margin-bottom:15px;margin:0px;padding:0px;box-sizing:border-box;">
    <h3 style="font-size:16px;line-height:1.5em;margin:0px;padding:0px;color:black;padding-top:10px;box-sizing:border-box;font-weight:400;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
      <a href="https://lflei.iteye.com/blog/2363690" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">使用java imageio 调整图片DPI，例如从72调整为300</a>
      <em style="font-style:italic;box-sizing:border-box;margin:0px;padding:0px;">      </em>
    </h3>
    <ul style="margin:0px;padding:0px;list-style-type:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><strong style="font-weight:bold;box-sizing:border-box;margin:0px;padding:0px;">博客分类：</strong> <li style="margin:0px 5px 0px 0px;padding:0px;list-style-type:none;display:inline;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><a href="https://lflei.iteye.com/category/370708" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">java开发</a></li> </ul>
        <div style="clear:both;display:block;margin:10px 0px 5px;line-height:20px;padding:0px;box-sizing:border-box;"><a href="http://www.iteye.com/blogs/tag/java%E5%BC%80%E5%8F%91%20dpi" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;background-color:rgb(170, 181, 195);border-radius:10px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">java开发 dpi</a> <span style="line-height:20px;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
  </div>

  <div style="font-size:14px;line-height:1.8em;position:relative;margin:0px;padding:0px;box-sizing:border-box;">
    
    <div style="margin:0px;padding:0px;box-sizing:border-box;font-size:14px;">
<p style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">Java生成图片默认分辨率是72dpi,由于需要打印生成图片，要求图片分辨率至少300dpi,这个问题整了将近一天时间，最终得到解决，感谢网友的分享。在这里记录一下，已备后面使用。以下代码摘抄至https://my.oschina.net/osgit/blog/530283</p>
<pre style="font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;;font-size:1em;box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;"><code style="font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;;font-size:1em;white-space:pre;box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">/**
* 接口设计
*/</span>
<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span> <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">interface</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">ImageDPIProcessor</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span></span>{

    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">/**
     * 根据文件后缀扩展名判断是否能进行处理
     * 
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@param</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> fileName
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@return</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
     */</span></span>
    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">boolean</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">canHandle</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">(String fileName)</span></span></span></span>;

    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">/**
     * 
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@param</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> path
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@param</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> dpi
     *            dot per inch
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@return</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@throws</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> IOException
     * </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@throws</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> MalformedURLException
     */</span></span>
    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span> <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">byte</span>[] process(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">final</span> BufferedImage srcimage, <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">final</span> <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">int</span> dpi) <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">throws</span> Exception;</code></span></pre>
<p style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;"> </span></p>
<p style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;">JPEG 处理方式</span></p>
<pre style="font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;;font-size:1em;box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;"><code style="font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;;font-size:1em;white-space:pre;box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span> <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">class</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">JpegDPIProcessor</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">implements</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">ImageDPIProcessor</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span></span>{

    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">private</span> String formatName = <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;jpeg&quot;</span>;

    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@Override</span>
    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span> <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">byte</span>[] process(BufferedImage image, <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">int</span> dpi) <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">throws</span> IOException {
        <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">for</span> (Iterator&lt;ImageWriter&gt; iw = ImageIO.getImageWritersByFormatName(formatName); iw.hasNext();) {
            ImageWriter writer = iw.next();

            ImageWriteParam writeParams = writer.getDefaultWriteParam();
            writeParams.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);
            <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">//调整图片质量</span>
            writeParams.setCompressionQuality(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">1f</span>);

            IIOMetadata data = writer.getDefaultImageMetadata(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span> ImageTypeSpecifier(image), writeParams);
            Element tree = (Element) data.getAsTree(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;javax_imageio_jpeg_image_1.0&quot;</span>);
            Element jfif = (Element) tree.getElementsByTagName(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;app0JFIF&quot;</span>).item(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">0</span>);
            jfif.setAttribute(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;Xdensity&quot;</span>, dpi + <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;&quot;</span>);
            jfif.setAttribute(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;Ydensity&quot;</span>, dpi + <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;&quot;</span>);
            jfif.setAttribute(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;resUnits&quot;</span>, <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;1&quot;</span>); <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">// density is dots per inch</span>

            ByteArrayOutputStream out = <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span> ByteArrayOutputStream();
            ImageOutputStream stream = <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span>;
            <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">try</span> {
                stream = ImageIO.createImageOutputStream(out);
                writer.setOutput(stream);
                writer.write(data, <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span> IIOImage(image, <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span>, <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span>), writeParams);
            } <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">finally</span> {
                stream.close();
            }

            <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">return</span> out.toByteArray();
        }
        <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">return</span> <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span>;

    }

    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@Override</span>
    <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">boolean</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">canHandle</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">(String fileName)</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span></span>{
        <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">assert</span> fileName != <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span> : <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;fileName should not be null&quot;</span>;

        <span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">return</span> fileName.endsWith(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;jpg&quot;</span>) || fileName.endsWith(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;jpeg&quot;</span>) || fileName.endsWith(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;JPG&quot;</span>)
                || fileName.endsWith(<span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;JPEG&quot;</span>);
    }

}</code></span></pre>
<p style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;"> </span></p>
<p style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;">PNG处理方式：</span></p>
<pre style="font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;;font-size:1em;box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:#ffffff;color:#000000;"><code style="font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;;font-size:1em;white-space:pre;box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">class</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">PngDPIProcessor</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">implements</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">ImageDPIProcessor</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">{
   </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">//1英寸是2.54里面</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">
    </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">private</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">static</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">final</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">double</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> INCH_2_CM = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">2.54</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">d;

    </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@Override</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">
    </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">boolean</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">canHandle</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">(String fileName)</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">{
        </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">assert</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> fileName != </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> : </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;fileName should not be null&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">;

        </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">return</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> fileName.endsWith(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;png&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">) || fileName.endsWith(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;PNG&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">);
    }

    </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">@Override</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">
    </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">public</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">byte</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">[] process(BufferedImage image, </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">int</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> dpi) </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">throws</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> MalformedURLException, IOException {


        </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">for</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> (Iterator&lt;ImageWriter&gt; iw = ImageIO.getImageWritersByFormatName(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;png&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">); iw.hasNext();) {
            ImageWriter writer = iw.next();
            ImageWriteParam writeParam = writer.getDefaultWriteParam();
            ImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);
            IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);
            </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">if</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> (metadata.isReadOnly() || !metadata.isStandardMetadataFormatSupported()) {
                </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">continue</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">;
            }
            ByteArrayOutputStream output = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> ByteArrayOutputStream();
            ImageOutputStream stream = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">;
            </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">try</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> {
                setDPI(metadata, dpi);
                stream = ImageIO.createImageOutputStream(output);
                writer.setOutput(stream);
                writer.write(metadata, </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> IIOImage(image, </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">, metadata), writeParam);
            } </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">finally</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> {
                </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">try</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> {
                    stream.close();
                } </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">catch</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> (IOException e) {
                }
            }
            </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">return</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> output.toByteArray();
        }

        </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">return</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">null</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">;
    }

    </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">private</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">void</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">setDPI</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">(IIOMetadata metadata, </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">int</span></span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> dpi)</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">throws</span></span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> IIOInvalidTreeException </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">{

        </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">// for PMG, it's dots per millimeter</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">
        </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">double</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> dotsPerMilli = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">1.0</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> * dpi / </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">10</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> / INCH_2_CM;
        IIOMetadataNode horiz = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> IIOMetadataNode(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;HorizontalPixelSize&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">);
        horiz.setAttribute(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;value&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">, Double.toString(dotsPerMilli));

        IIOMetadataNode vert = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> IIOMetadataNode(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;VerticalPixelSize&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">);
        vert.setAttribute(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;value&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">, Double.toString(dotsPerMilli));

        IIOMetadataNode dim = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> IIOMetadataNode(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;Dimension&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">);
        dim.appendChild(horiz);
        dim.appendChild(vert);

        IIOMetadataNode root = </span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">new</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;"> IIOMetadataNode(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;javax_imageio_1.0&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">);
        root.appendChild(dim);

        metadata.mergeTree(</span></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">&quot;javax_imageio_1.0&quot;</span><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:13px;">, root);
    }
主要参考文章：
https://my.oschina.net/osgit/blog/530283
http://stackoverflow.com/questions/321736/how-to-set-dpi-information-in-an-image</span></span></code></span></pre>
</div>

  

  <div style="margin:0px;padding:0px;box-sizing:border-box;">
    
    <div style="margin:0px;padding:0px;box-sizing:border-box;"></div><a href="http://www.baidu.com/cb.php?c=IgF_pyfqnHmkPjbvrHT0IZ0qnfK9ujYzrH6YrjTk0Aw-5Hnsn16YnjT0TAq15HfLP1fkrHn0T1Y4PWn4Pym3rHnYmyw-njc30AwY5HDdPWfYPHn3rHb0IgF_5y9YIZK1rBtEuywdQhP1uA38UhNYQLwETA-WQvG9IhDk5LNYUNq1ULNzmvRqmhkEuv-Yug--0ZFb5Hc0mhYqnfKsTWYs0ZNGujYkPHTYn1mk0AqGujYknWb3rjDY0APGujYLn1bdn1n0ULI85H00TZbqnW0v0APzm1Ydrjc3n6" style="color:rgb(16, 138, 198);text-decoration:none;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank">

<div style="margin:0px;padding:0px;box-sizing:border-box;font-size:17px;color:#f13d3d;font-family:SF Pro Display,Roboto,Noto,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;width:728px;height:25px;font-weight:bold;">Java你会用，但这10点实战经验你一定不知道！</div>

<div style="margin:0px;padding:0px;box-sizing:border-box;font-size:13px;color:#666;font-family:SF Pro Display,Roboto,Noto,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;height:35px;margin-top:10px;">8大企业级实战项目提炼，总200+课时，限时助学2折特惠，立省4688元！</div>

</a>
  </div>



  <div style="display:block;margin:0px;padding:0px;box-sizing:border-box;">
    
    <div style="display:inline-block;float:right;width:160px;height:32px;margin:0px;padding:27px 5px 0px 0px;background:none;color:rgb(51, 51, 51);text-align:right;cursor:auto;font:12px/32px Arial, Helvetica, sans-serif;box-sizing:border-box;">分享到：
      <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;background:transparent;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" title="分享到新浪微博"><img src="使用java imageio 调整图片DPI，例如从72调整为300 - - ITeye博_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" height="16" style="border:0px;margin:0px 5px;box-sizing:border-box;padding:0px;" width="16"/></a>
      <a href="#" style="color:rgb(16, 138, 198);text-decoration:underline;background:transparent;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" title="分享到腾讯微博"><img src="使用java imageio 调整图片DPI，例如从72调整为300 - - ITeye博_files/Image [1].jpg" type="image/jpeg" data-filename="Image.jpg" height="16" style="border:0px;margin:0px 5px;box-sizing:border-box;padding:0px;" width="16"/></a>
    </div>
  <span style="display:block;height:0px;clear:both;visibility:hidden;"> </span></div>

  <div style="right:20px;margin-bottom:15px;margin:0px;padding:0px;box-sizing:border-box;">
    <div style="float:right;text-align:right;padding-top:5px;margin:0px;padding:0px;box-sizing:border-box;">
      <a href="https://lflei.iteye.com/blog/2428835" style="color:rgb(16, 138, 198);text-decoration:underline;padding:0px 15px;background-repeat:no-repeat;background-image:url(&quot;https://www.iteye.com/images/gray_west_arrow.gif&quot;);background-position:left center;box-sizing:border-box;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" title="Data truncation: Truncated incorrect DOUBLE value: 'N900'问题解决">Data truncation: Truncated incorrect DOU ...</a>
      |
      <a href="https://lflei.iteye.com/blog/2359748" style="color:rgb(16, 138, 198);text-decoration:underline;padding:0px 15px;background-repeat:no-repeat;background-image:url(&quot;https://www.iteye.com/images/gray_east_arrow.gif&quot;);background-position:right center;box-sizing:border-box;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" title="idea 安装jrebel6.4.3及破解">idea 安装jrebel6.4.3及破解</a>
    </div>
  </div>
  <div style="padding:15px 0px 5px;margin:0px;box-sizing:border-box;">
    <ul style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
      <li style="margin:0px 10px 0px 0px;padding:0px;list-style:none;display:inline;float:left;padding-right:10px;border-right:1px solid;color:rgb(16, 138, 198);box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;border-right-color:rgb(16, 138, 198);">2017-03-17 10:44</li>
      <li style="margin:0px 10px 0px 0px;padding:0px;list-style:none;display:inline;float:left;padding-right:10px;border-right:1px solid;color:rgb(16, 138, 198);box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;border-right-color:rgb(16, 138, 198);">浏览 2303</li>
      <li style="margin:0px 10px 0px 0px;padding:0px;list-style:none;display:inline;float:left;padding-right:10px;border-right:1px solid;color:rgb(16, 138, 198);box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;border-right-color:rgb(16, 138, 198);"><a href="https://lflei.iteye.com/blog/2363690#comments" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">评论(0)</a></li>
      
      
      <li style="margin:0px 10px 0px 0px;padding:0px;list-style:none;display:inline;float:left;padding-right:10px;border-right:1px solid;color:rgb(16, 138, 198);box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;border-right-color:rgb(16, 138, 198);">分类:<a href="https://www.iteye.com/blogs/category/language" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">编程语言</a></li>      
      <li style="margin:0px 10px 0px 0px;padding:0px;list-style:none;display:inline;float:left;padding-right:10px;border-right:none;color:rgb(16, 138, 198);box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;border-right-color:rgb(16, 138, 198);"><a href="https://www.iteye.com/wiki/blog/2363690" style="color:rgb(16, 138, 198);text-decoration:underline;padding-right:50px;background-repeat:no-repeat;background-image:url(&quot;https://www.iteye.com/images/icon_more.gif&quot;);background-position:right center;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank">查看更多</a></li>
    </ul>    
  </div>
    
  <div style="margin-top:15px;padding:15px;border-top:1px solid gray;width:685px;margin:0px;box-sizing:border-box;border-top-color:rgb(16, 138, 198);">
    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px;padding:0px;color:black;box-sizing:border-box;font-weight:400;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">评论</h5>
    <a name="comments" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"></a>
    
    
    
  </div>

  <div style="margin-top:15px;padding:15px;border-top:1px solid gray;width:685px;margin:0px;box-sizing:border-box;border-top-color:rgb(16, 138, 198);">
    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px;padding:0px;color:black;box-sizing:border-box;font-weight:400;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">发表评论</h5>
            <p style="margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;text-align:center;margin-top:30px;margin-bottom:0px;"><a href="https://lflei.iteye.com/login" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:white;"> <img src="使用java imageio 调整图片DPI，例如从72调整为300 - - ITeye博_files/Image.png" type="image/png" data-filename="Image.png" height="32" style="border:0px;box-sizing:border-box;margin:0px;padding:0px;vertical-align:middle;margin-right:10px;" width="26"/></a><a href="https://lflei.iteye.com/login" style="color:rgb(16, 138, 198);text-decoration:underline;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">  您还没有登录,请您登录后再发表评论 </a></p>
      </div>
  </div>
  
      
<div style="margin-top:15px;padding:15px;border-top:1px solid gray;width:685px;margin:0px;box-sizing:border-box;border-top-color:rgb(16, 138, 198);">
	  <div style="display:block;margin:0px;padding:0px;box-sizing:border-box;">
	    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px;padding:0px;color:rgb(51, 51, 51);font-weight:normal;font-family:微软雅黑;box-sizing:border-box;">相关资源推荐</h5>
			<ul style="display:block;margin:0px;padding:0px;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;margin-top:8px;">
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/GOUGOU3601/article/details/84877343" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="使用java imageio 调整图片DPI，例如从72调整为300"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em> <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">imageio</em> <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>，例<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">如从</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">72</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>为<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">300</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                rn<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">Java</em>生成<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>默认分辨率是<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">72</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>,由于需要打印生成<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>，要求<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>分辨率至少<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">300</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>,这个问题整了将近一天时间，最终得到解决，感谢网友的分享。在这里记录一下，已备后面<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em>。以下代码摘抄至https://my.oschina.net/osgit/blog/530283rn/**rn* 接口设计rn*/rnpublic interface Image<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>Processor {rnrn  ...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/solid210/article/details/83561261" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="java保存图像，设置其DPI"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>保存图像，设置其<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                import <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.*;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.image.*;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.io.*;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.net.*;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>x.<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">imageio</em>.*;rnrnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.Graphics;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.image.BufferedImage;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.Image;r...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://download.csdn.net/download/liubingger/6990255" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="图像DPI调整工具">图像<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>工具</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                简介的图像<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>工具，非常好用，操作简单，免安装绿色版！
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/iteye_19332/article/details/82544687" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="java设置图像dpi"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>设置图像<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/iteye_19332/article/details/82435237" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="JAVA用ImageIO处理JPG图片"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">JAVA</em>用<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">ImageIO</em>处理JPG<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                [code=&amp;quot;<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>&amp;quot;]    Image srcImage = <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">ImageIO</em>.read(srcFile);rn        rn        // 原始<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>大小rn        int srcImageWidth = srcImage.getWidth(null);rn        int srcImageHeight = srcImage.getHeight(null);rn   ...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/u011304970/article/details/81303111" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="图片缩放并设置dpi"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>缩放并设置<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                这几天遇到个需求，要求缩放<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>，但是不能改变<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>，用 opencv 不行，于是在网上找，但是找了很久没有找到相关的信息，只有一篇帖子说<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em> Gdiplus 可以满足这个需求，遂研究了一下 Gdiplus 的接口，终于找到了 Gdiplus::Bitmap::SetResolution 这个方法，新技能 Get！nn完整的代码如下：nn#pragma comment(lib, &amp;quot;Gdiplu...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/qq_20349639/article/details/80772503" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="Python修改保存图片分辨率(dpi)问题">Python修改保存<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>分辨率(<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>)问题</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                首先导入 pillow ，下载地址：https://pypi.org/project/Pillow/代码：from PIL import Image as ImagePIL, ImageFont, ImageDrawnfrom StringIO import StringIOnndef test(req):。。。。。。# 保存<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>im = ImagePIL.open('/home/uftp/jia...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/u011715726/article/details/83143301" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="# Android 设置PNG图片的 打印分辨率 dpi (pHYs)"># Android 设置PNG<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的 打印分辨率 <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em> (pHYs)</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                Android 设置PNG<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的打印分辨率<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>(pHYs)rn1.了解png的原文件数据，头文件IHDR，控制物理密度的pHYs，rnrnrn关于png的头文件IHDR：rnrnrnhttps://blog.csdn.net/satanzw/article/details/38757121rnpng<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>都是以固定标识89 50 4E 47 0D 0A 1A 0A开始，然后接着IHDRrn例如一张png从头开始为：...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/iteye_12057/article/details/82671972" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="使用Java的ImageIO的图片处理实现"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">Java</em>的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">ImageIO</em>的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>处理实现</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                [code=&amp;quot;<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>&amp;quot;]rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.Graphics2D;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.Image;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.RenderingHints;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.image.BufferedImage;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.awt.image.ColorModel;rnimport <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>.io.File;rnimpo...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/Mr_health/article/details/81210370" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="关于图片dpi的问题">关于<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>的问题</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                问题nn最近<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em>tensorflow中的tf.gfile.FastGFile()函数读取jpg文件，总是出现如下错误，貌似是说文件的格式不是jpg格式。但是我看了<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的属性明明是jpg的格式。nnnn解决nn想起来我原来的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>类型是tiff格式，为了改成jpg格式，曾写过一段代码，但是该代码只是名称上将tiff格式改成了jpg格式，实际<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的存储形式并没有改变。笔者自己也没有深究究竟存储有什么不同...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/andylanzhiyong/article/details/83820646" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="获取图片DPI">获取<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                   最近在项目中有个需求：区分拍照<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>与扫描<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>。找不到什么好的方法，目前感觉可行的方式是通过<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>来区分：nn一般拍照<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>是96甚至更低，扫描<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>一般是120、150、200、<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">300</em>等更高。nn  但是opencv没有获取<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>相关的函数，遍寻百度，觉得还是GDI＋实现起来较好。nn GDI+的头文件和库，在windows系统中是自带的。nn先要引入GDI+的头文件和库nnn#in...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/weixin_33797791/article/details/87592185" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="根据屏幕大小及dpi调整缩放和大小">根据屏幕大小及<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>缩放和大小</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                n  n    n            &amp;amp;lt;script&amp;amp;gt;n//根据屏幕大小及<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>缩放和大小n(function() {nvar scale = 1.0;nvar ratio = 1;nif (window.devicePixelRatio &amp;amp;gt;= 2) {nscale *= 0.5;nratio = 2;n}nvar text = '&amp;amp;lt;meta name=&amp;quot;viewp...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/qq_36706625/article/details/81671209" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="Java imageio图片处理"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">Java</em> <em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">imageio</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>处理</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/GarfieldEr007/article/details/49155481" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="使用Windows自带画图工具修改图片大小"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em>Windows自带画图工具修改<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>大小</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                一、打开Windows再带的画图工具n打开方式：nn1、【开始】-【所有程序】-【附件】-【画图】n或者n2、打开运行命令框-输入mspaint-单击确定nnn二、用画图打开要修改大小的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>nn三、修改<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>大小n单击左上角【重新<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>大小】n有两种<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>大小的方式可以选：1、按照百分比缩放；2、设置像素值（例如640*480）<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">调整</em>大小，注意：默认情况下是保持纵横比，可以不勾选，
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://download.csdn.net/download/i_likechard/9538367" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="Opencv 显示图片 改变图片分辨率 保存图片 改变图片大小入门操作">Opencv 显示<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em> 改变<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>分辨率 保存<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em> 改变<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>大小入门操作</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                本资源包含一个mfc基于对话框的工程。该工程除了可以用做初步学习opencv的入门级学习资料。也可以作为一个工具（至少我用来做头像了，将一个<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>反复缩小就得到了合适大小的了）

此工程能够实现的功能有：
①利用Opencv在mfc控件上显示<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>。
②利用Opencv改变<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的分辨率（默认是缩小为原来一般的分辨率）并显示在mfc对话框一个<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>控件中。
③保存。对话框有一个保存按钮。用于保存更改了分辨率之后的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>。（对于更改了之后的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>。又可以再次执行相同的①②③操作得到缩小1/4分辨率的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>，当然<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>大小也缩小了）

关于工程：工程一个两个<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>控件。分别用于显示原始<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>和更改了分辨率之后的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>。三个按钮。分别对应上面所说的三个功能。
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/thewindkee/article/details/52693371" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="利用ImageIO压缩图片">利用<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">ImageIO</em>压缩<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                http://<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>-mzd.iteye.com/blog/730504nhttp://blog.csdn.net/10km/article/details/52119508nnn参考上面文章，测试了下 写的很好！
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/sinat_33571479/article/details/52587153" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="Java 识别图片分辨率的问题"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">Java</em> 识别<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>分辨率的问题</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                近期做关于识别PDF的项目，里面涉及到提取PDF中的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>，并识别<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的分辨率，对较小分辨率的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>，再生成新的PDF的时候舍弃。n对于提取PDF中的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>信息可以<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em>PDFBox库，很简单也很灵活（当然也存在bug，我在提取某个PDF文件中<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的时候，发现有一些<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>在原文件中根本不存在，还希望来个大神解答一下。。。），废话少说，直接附上代码供大家参考：
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/lbwb_lb/article/details/81542447" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="读取图像DPI信息的方法">读取图像<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>信息的方法</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                今天有个项目需要获取图像<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">DPI</em>信息，搜了几篇博客的描述，最终采用GDI+的方法实现，总结实现方法如下：nn0.编程平台：VS2015，语言：C++nn1.下载GDI+包，初始化GDI+环境nn（1）在工程的App类中增加声明信息，主要包括头文件包含，拷贝库文件gdiplus.lib到工程目录，拷贝动态库文件gdiplus.dll到工程输出文件（一般release或debug目录）。或者在工程中编译...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/qq_15947787/article/details/80504880" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="【c++】修改jpg图像的dpi">【c++】修改jpg图像的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em></a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                opencv处理保存后的图像，会改变其原来的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>数值先调用读取jpg<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>函数，然后opencv保存后，再写入原先的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>值下面是修改jpg<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>的<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">dpi</em>函数bool SetResolution(const char* path, int iResolution) n{ n	FILE * file = fopen(path,&amp;quot;rb+&amp;quot;);// - 打开<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>文件 n	if (!file)ret...
              </p>
						</li>
				
						<li style="margin:0px 0px 16px;padding:0px;list-style:none;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
              
              <a href="https://blog.csdn.net/anguea/article/details/66968240" style="color:rgb(0, 102, 153);text-decoration:underline;font-size:18px;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;margin:0px;padding:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;" target="_blank" title="java中使用ImageIo获取图片信息"><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">java</em>中<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">使用</em><em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">ImageIo</em>获取<em style="font-style:normal;color:rgb(202, 12, 22);box-sizing:border-box;margin:0px;padding:0px;">图片</em>信息</a>
              <p style="margin:0px;padding:0px;font-size:14px;color:rgb(0, 0, 0);line-height:22px;max-height:42px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;box-sizing:border-box;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">
                
              </p>
						</li>
				
			<span style="font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;display:block;height:0px;clear:both;visibility:hidden;"> </span></ul>
	  <span style="display:block;height:0px;clear:both;visibility:hidden;"> </span></div>
</div>


    

</div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 