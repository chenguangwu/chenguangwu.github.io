<html>
<head>
  <title>Java 9和Spring Boot 2.0纷纷宣布支持的HTTP/2到底是什么？</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="11052"/>
<h1>Java 9和Spring Boot 2.0纷纷宣布支持的HTTP/2到底是什么？</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/4/27 13:49</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://mp.weixin.qq.com/s/MNbjdnSeoeSlTwuXokaXMQ"><i>https://mp.weixin.qq.com/s/MNbjdnSeoeSlTwuXokaXMQ</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%; position: relative;"><div style="text-size-adjust:100%;line-height:1.6;"><div style="font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;line-height:inherit;background-color:rgb(255, 255, 255);"><div><div style="background-color:rgb(255, 255, 255);font-size:16px;word-wrap:break-word;"><div style="background-color:rgb(255, 255, 255);"><div>
                
                <h2 style="margin:0px;padding:0px;font-weight:400;font-size:24px;margin-bottom:14px;line-height:1.4;padding-bottom:10px;border-bottom:1px solid rgb(231, 231, 235);">
                    Java 9和Spring Boot 2.0纷纷宣布支持的HTTP/2到底是什么？                                    </h2>
                <div style="margin:0px;padding:0px;margin-bottom:18px;line-height:20px;font-size:0px;position:relative;z-index:1;">
                                                            <em style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;color:rgb(140, 140, 140);max-width:none;font-style:normal;">2018-04-27</em>

                                        <em style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;color:rgb(140, 140, 140);max-width:none;font-style:normal;">Hollis</em>
                                        <a href="https://mp.weixin.qq.com/s/MNbjdnSeoeSlTwuXokaXMQ##" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;max-width:none;display:inline-block;">纯洁的微笑</a>
                    


                    
                </div>
                                
                
                
                
                                                
                                                                
                
                <div style="margin:0px;padding:0px;overflow:hidden;color:rgb(62, 62, 62);min-height:350px;position:relative;">
                    

                    

                    
                    
                    <p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">关于HTTP/2，最近你可能没少听到过他。首先，如果你了解过<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">Java 9</strong>的特性，那么你会发现在Java9中，提供了新的方式来处理HTTP调用，提供了新的HTTP Client，将替代HttpURLConnection，并提供对WebSocket和<code style="padding-left:5px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-right:2px;margin-left:2px;padding-right:5px;padding:0px;-webkit-print-color-adjust:exact;white-space:nowrap;border-width:1px;border-style:solid;border-color:rgb(234, 234, 234);background-color:rgb(248, 248, 248);border-radius:3px;">HTTP/2</code>的支持。还有前两天刚刚发布的<a href="http://mp.weixin.qq.com/s?__biz=MzI4NDY5Mjc1Mg==&amp;mid=2247484480&amp;idx=1&amp;sn=54d529155e35e9f35c3335a68b8d5da2&amp;chksm=ebf6dc3fdc815529454bbbe285b083c4130b070058b06197acd4cc576f4aa0fd203f35034fdc&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(96, 127, 166);text-decoration:none;max-width:100%;box-sizing:border-box;word-wrap:break-word;" target="_blank">Spring Boot 2.0 的新特性</a>中，也会看到，Spring Boot 2.0支持的Web容器中Tomcat、Undertow和Jetty均已支持HTTP/2。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">那么，这篇文章，我们就来了解下，到底什么是HTTP/2。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62, 62, 62);font-size:16px;white-space:normal;background-color:rgb(255, 255, 255);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:10px;margin-bottom:10px;text-align:center;"><div style="-webkit-border-image:url(https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkQMUVeRmWoqwDbWlfhGELDGM9Yagua58U73uF0bibgMs74euetSObYtJf4JVHliclsK2hm2UpFY8Jqw/640?wx_fmt=png) 40 fill;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding-right:5px;padding-left:5px;padding:0px;border-width:20px;border-style:solid;font-size:14px;line-height:1.4;text-align:left;display:inline-block;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP</strong></p></div></div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;width:670px;clear:both;"></div></div></div><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">超文本传输协议（英文：HyperText Transfer Protocol，缩写：HTTP）是一种用于分布式、协作式和超媒体信息系统的应用层协议。</strong>设计HTTP最初的目的是为了提供一种发布和接收HTML页面的方法。通过HTTP或者HTTPS协议请求的资源由统一资源标识符（Uniform Resource Identifiers，URI）来标识。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP 协议是以 ASCII 码传输，基于请求与响应模式的、无状态的，建立在 TCP/IP 协议之上的应用层规范。</strong>它不涉及数据包（packet）传输，主要规定了客户端和服务器之间的通信格式，默认使用80端口。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640" type="image/webp" data-filename="640" height="165" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="457"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">HTTP协议主要的版本有3个，分别是<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.0</strong>、<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.1</strong>和<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/2</strong>。HTTPS是另外一个协议，简单讲是HTTP的安全版。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62, 62, 62);font-size:16px;white-space:normal;background-color:rgb(255, 255, 255);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:10px;margin-bottom:10px;text-align:center;"><div style="-webkit-border-image:url(https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkQMUVeRmWoqwDbWlfhGELDGM9Yagua58U73uF0bibgMs74euetSObYtJf4JVHliclsK2hm2UpFY8Jqw/640?wx_fmt=png) 40 fill;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding-right:5px;padding-left:5px;padding:0px;border-width:20px;border-style:solid;font-size:14px;line-height:1.4;text-align:left;display:inline-block;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.0</strong></p></div></div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;width:670px;clear:both;"></div></div></div><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">1996年5月，HTTP/1.0 版本发布，为了提高系统的效率，<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.0规定浏览器与服务器只保持短暂的连接</strong>，浏览器的每次请求都需要与服务器建立一个TCP连接，服务器完成请求处理后立即断开TCP连接，服务器不跟踪每个客户也不记录过去的请求。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">请注意上面提到的<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.0中浏览器与服务器只保持短暂的连接，连接无法复用</strong>。也就是说每个TCP连接只能发送一个请求。发送数据完毕，连接就关闭，如果还要请求其他资源，就必须再新建一个连接。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">我们知道TCP连接的建立需要三次握手，是很耗费时间的一个过程。所以，<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.0版本的性能比较差。</strong>现在，随便打开一个网页，上面都会有很多图片、视频等资源，HTTP/1.0显然无法满足性能要求。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62, 62, 62);font-size:16px;white-space:normal;background-color:rgb(255, 255, 255);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:10px;margin-bottom:10px;text-align:center;"><div style="-webkit-border-image:url(https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkQMUVeRmWoqwDbWlfhGELDGM9Yagua58U73uF0bibgMs74euetSObYtJf4JVHliclsK2hm2UpFY8Jqw/640?wx_fmt=png) 40 fill;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding-right:5px;padding-left:5px;padding:0px;border-width:20px;border-style:solid;font-size:14px;line-height:1.4;text-align:left;display:inline-block;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.1</strong></p></div></div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;width:670px;clear:both;"></div></div></div><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">为了解决HTTP/1.0存在的缺陷，<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.1于1999年诞生。相比较于HTTP/1.0来说，最主要的改进就是引入了持久连接。</strong>所谓的持久连接就是：在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [1]" type="image/webp" data-filename="640" height="280" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="450"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">引入了持久连接之后，在性能方面，HTTP协议有了明显的提升，基本可以用于日常使用，这也是这一版本一直延用至今的原因。当然还是有些力不从心的，后面会详细介绍。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">关于HTTP/1.0和HTTP/1.1还有些其他区别，这里就不展开介绍了。网上也很多资料，可以自行查阅。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62, 62, 62);font-size:16px;white-space:normal;background-color:rgb(255, 255, 255);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:10px;margin-bottom:10px;text-align:center;"><div style="-webkit-border-image:url(https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkQMUVeRmWoqwDbWlfhGELDGM9Yagua58U73uF0bibgMs74euetSObYtJf4JVHliclsK2hm2UpFY8Jqw/640?wx_fmt=png) 40 fill;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding-right:5px;padding-left:5px;padding:0px;border-width:20px;border-style:solid;font-size:14px;line-height:1.4;text-align:left;display:inline-block;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">SPDY</strong></p></div></div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;width:670px;clear:both;"></div></div></div><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">虽然，HTTP/1.1在HTTP/1.0的基础上提供了持久连接，提升了很大的效率，但是，还是有很大的提升空间。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">正所谓时势造英雄，正是因为HTTP存在着诸多不足，所以，才诞生了SPDY。<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">2009年，谷歌公开了自行研发的 SPDY 协议，主要解决 HTTP/1.1 效率不高的问题。</strong>它的设计目标是降低 50% 的页面加载时间。SPDY主要提供了以下功能（后文介绍HTTP2的时候再详细介绍）：</p><ul style="margin:0px;padding:0px;padding-left:2.2em;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;line-height:2em;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;">多路复用（multiplexing）。多个请求共享一个tcp连接。</span></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;line-height:2em;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;">header压缩。删除或者压缩HTTP头</span></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;line-height:2em;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;font-size:14px;">服务端推送。提供服务方发起通信，并向客户端推送数据的机制。</span></p></li></ul><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">SPDY位于HTTP之下，TCP和SSL之上，这样可以轻松兼容老版本的HTTP协议。</strong></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [2]" type="image/webp" data-filename="640" height="491" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="762"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">实际上在 HTTP2 提出来之前，SPDY 流行了很长一段时间。当下很多著名的互联网公司都在自己的网站或 APP 中采用了 SPDY 系列协议（当前最新版本是 SPDY/3.1），因为它对性能的提升是显而易见的。主流的浏览器（谷歌、火狐、Opera）也都早已经支持 SPDY，它已经成为了工业标准。HTTP Working-Group 最终决定以 SPDY/2 为基础，开发 HTTP/2。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;color:rgb(62, 62, 62);font-size:16px;white-space:normal;background-color:rgb(255, 255, 255);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:10px;margin-bottom:10px;text-align:center;"><div style="-webkit-border-image:url(https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkQMUVeRmWoqwDbWlfhGELDGM9Yagua58U73uF0bibgMs74euetSObYtJf4JVHliclsK2hm2UpFY8Jqw/640?wx_fmt=png) 40 fill;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding-right:5px;padding-left:5px;padding:0px;border-width:20px;border-style:solid;font-size:14px;line-height:1.4;text-align:left;display:inline-block;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/2</strong></p></div></div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;width:670px;clear:both;"></div></div></div><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">下图是Akamai 公司建立的一个官方的演示，主要用来说明在性能上HTTP/1.1和HTTP/2在性能升的差别。<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">同时请求 379 张图片，</strong><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/1.1加载用时4.54s，HTTP/2加载用时1.47s。</strong></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [3]" type="image/webp" data-filename="640" height="515" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="917"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/2 是 HTTP 协议自 1999 年 HTTP 1.1 发布后的首个更新，主要基于 SPDY 协议。</strong>由互联网工程任务组（IETF）的 Hypertext Transfer Protocol Bis（httpbis）工作小组进行开发。该组织于2014年12月将HTTP/2标准提议递交至IESG进行讨论，于2015年2月17日被批准。HTTP/2标准于2015年5月以RFC 7540正式发表。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">下面来看下，HTTP/2相对于HTTP/1.1有哪些改进：</p><h4 style="margin-bottom:10px;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:20px;font-size:16px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;background-color:rgb(255, 255, 255);line-height:2em;">二进制分帧</h4><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">在HTTP/2中，在应用层（HTTP2.0）和传输层（TCP或者UDP）之间加了一层：二进制分帧层。</strong>这是HTTP2中最大的改变。HTTP2之所以性能会比HTTP1.1有那么大的提高，很大程度上正是由于这一层的引入。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [4]" type="image/webp" data-filename="640" height="278" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="541"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">在二进制分帧层中， HTTP/2 会将所有传输的信息分割为更小的消息和帧（frame）,并对它们采用二进制格式的编码。</strong></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">这种单连接多资源的方式，减少了服务端的压力，使得内存占用更少，连接吞吐量更大。而且，TCP连接数的减少使得网络拥塞状况得以改善，同时慢启动时间的减少，使拥塞和丢包恢复速度更快。</p><h4 style="margin-bottom:10px;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:20px;font-size:16px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;background-color:rgb(255, 255, 255);line-height:2em;">多路复用</h4><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">多路复用允许同时通过单一的HTTP/2.0连接发起多重的请求-响应消息。在HTTP1.1协议中，浏览器客户端在同一时间，针对同一域名下的请求有一定数量的限制，超过了这个限制的请求就会被阻塞。而多路复用允许同时通过单一的 HTTP2.0 连接发起多重的“请求-响应”消息。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [5]" type="image/webp" data-filename="640" height="1588" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="1602"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP2的请求的TCP的connection一旦建立，后续请求以stream的方式发送。每个stream的基本组成单位是frame（二进制帧）。客户端和服务器可以把 HTTP 消息分解为互不依赖的帧，然后乱序发送，最后再在另一端把它们重新组合起来。</strong></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [6]" type="image/webp" data-filename="640" height="170" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="644"/></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">也就是说， HTTP2.0 通信都在一个连接上完成，这个连接可以承载任意数量的双向数据流。就好比，我请求一个页面 http://www.hollischuang.com 。页面上所有的资源请求都是客户端与服务器上的一条 TCP 上请求和响应的！</p><h4 style="margin-bottom:10px;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:20px;font-size:16px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;background-color:rgb(255, 255, 255);line-height:2em;">header压缩</h4><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;">HTTP/1.1的header带有大量信息，而且每次都要重复发送。<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">HTTP/2 为了减少这部分开销，采用了HPACK 头部压缩算法对Header进行压缩。</strong></p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [7]" type="image/webp" data-filename="640" height="298" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:auto !important;" width="769"/></p><h4 style="margin-bottom:10px;font-weight:bold;margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;margin-top:20px;font-size:16px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;-webkit-font-smoothing:antialiased;cursor:text;font-family:Helvetica, arial, sans-serif;background-color:rgb(255, 255, 255);line-height:2em;">服务端推送</h4><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;background-color:rgb(255, 255, 255);min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;clear:both;line-height:2em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;">简单来讲就是当用户的浏览器和服务器在建立连接后，服务器主动将一些资源推送给浏览器并缓存起来的机制。</strong>有了缓存，当浏览器想要访问已缓存的资源的时候就可以直接从缓存中读取了。</p><p style="margin-bottom:15px;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;line-height:2em;min-height:1em;margin-top:15px;padding:0px;color:rgb(62, 62, 62);white-space:normal;-webkit-print-color-adjust:exact;font-family:Helvetica, arial, sans-serif;font-size:14px;background-color:rgb(255, 255, 255);clear:both;text-align:center;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [8]" type="image/webp" data-filename="640" height="331" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;height:auto !important;-webkit-print-color-adjust:exact;visibility:visible !important;width:512px !important;" width="512px"/></p><hr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;"/><p style="clear:both;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding:0px;min-height:1em;margin-top:25px;background-color:rgb(255, 255, 255);text-size-adjust:auto;overflow-wrap:break-word !important;">推荐一个阿里P9专家的架构师课程， 扫描文末二维码即可报名：</p><p style="clear:both;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding:0px;min-height:1em;margin-top:25px;background-color:rgb(255, 255, 255);text-size-adjust:auto;overflow-wrap:break-word !important;">作者李运华，现在是阿里游戏资深技术专家。十几年前入行软件设计开发，经历了电信行业和移动互联网行业，曾就职于华为和 UCWEB，先后担任软件开发工程师、系统分析师、架构师、技术 leader。</p><p style="clear:both;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding:0px;min-height:1em;margin-top:25px;background-color:rgb(255, 255, 255);text-size-adjust:auto;overflow-wrap:break-word !important;"><span style="font-size:16px;margin:0px;widows:1;white-space:pre-line;text-align:justify;color:rgb(74, 74, 74);font-family:Avenir, -apple-system-font, 微软雅黑, sans-serif;padding:0px;font-variant-numeric:normal;font-variant-east-asian:normal;line-height:28px;word-wrap:break-word;box-sizing:border-box;max-width:100%;background-color:rgb(255, 255, 255);">这个专栏共 50期，从 4月 28日开始，每周二四六更新，形式为图文 +音频，中间会穿插专门的答疑和直播板块。</span></p><p style="clear:both;margin:0px;max-width:100%;box-sizing:border-box !important;word-wrap:break-word !important;padding:0px;min-height:1em;margin-top:25px;background-color:rgb(255, 255, 255);text-size-adjust:auto;overflow-wrap:break-word !important;">现在他们在做活动，一方面报名便宜一些，另一方面如果你报名后可以生产我这样的邀请码，邀请一个人给提成24元，也就是说你有可能会免费学习这门课程，算是福利送给大家把。</p><p style="margin:0px;padding:0px;clear:both;min-height:1em;max-width:100%;box-sizing:border-box;word-wrap:break-word;text-align:center;margin-top:10px;"><img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/640 [9]" type="image/webp" data-filename="640" height="422" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word;height:auto !important;width:286px !important;visibility:visible !important;" width="286"/></p>
                </div>
                
                
                
                                <a href="https://mp.weixin.qq.com/s/MNbjdnSeoeSlTwuXokaXMQ##" style="text-decoration:none;margin:20px 0px;padding:0.75em 1em 0px;color:rgb(62, 62, 62);display:block;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);border:1px solid rgb(234, 234, 234);">
                    <p style="margin:0px;padding:0px;color:rgb(140, 140, 140);position:relative;padding-bottom:0.5em;font-size:15px;">内容转载自公众号<span style="font-size:15px;color:rgb(140, 140, 140);position:absolute;left:0px;bottom:0px;right:0px;height:1px;border-bottom:1px solid rgb(219, 219, 219);transform-origin:0px 100% 0px;transform:scaleY(0.5);"> </span></p>
                    <div style="margin:0px;padding:10px 0px;display:flex;-webkit-box-align:center;align-items:center;">
                        <div style="margin:0px;padding:0px;">
                            <span style="margin:0px;display:inline-block;background-color:rgb(255, 255, 255);border-radius:50%;overflow:hidden;vertical-align:middle;padding:0px;width:27px;height:27px;margin-right:0.5em;">
                                                                <img src="Java 9和Spring Boot 2.0纷纷宣布支持的HTTP2到底是什么？_files/0" type="image/jpeg" data-filename="0" height="27" style="margin:0px;padding:0px;display:block;width:100%;border-radius:50%;background-color:rgb(238, 238, 238);height:100%;" width="27"/>
                                                            </span>
                        </div>
                        <div style="margin:0px;padding:0px;-webkit-box-flex:1;flex:1 1 0%;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;">
                            Hollis
                        </div>
                        <div style="margin:0px;padding:0px;font-size:14px;color:rgb(140, 140, 140);padding-left:1em;white-space:nowrap;">了解更多<span style="font-size:14px;color:rgb(140, 140, 140);white-space:nowrap;display:inline-block;height:8px;width:8px;border-width:1px 1px 0px 0px;border-color:rgb(203, 202, 208);border-style:solid;transform:matrix(0.71, 0.71, -0.71, 0.71, 0, 0);position:relative;top:-1px;"> </span></div>
                    </div>
                </a>
                                
                

                
                                
                
                            </div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 