<html>
<head>
  <title>Spring和MyBatis环境整合 - 贞心真义 - 博客园</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7580"/>
<h1>Spring和MyBatis环境整合 - 贞心真义 - 博客园</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/9/7 18:45</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.cnblogs.com/jyh317/p/3834142.html"><i>http://www.cnblogs.com/jyh317/p/3834142.html</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="font-family:Verdana, Arial, helvetica, sans-seriff;font-size:12px;word-wrap:break-word;background-image:url(http://www.cnblogs.com/skins/ClearScreen01/images/back.gif);"><div><div><div style="color:rgb(35, 35, 35);font-size:14px;line-height:1.8;background-color:white;"><div style="word-break:break-word;"><p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　SSH框架的结合几乎家喻户晓，但是一般的中小项目，使用Spring和MyBatis就够了，而且MyBatis轻便好使，易上手，值得大家尝试一次。</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　开篇简介：</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　Spring：</span></p>
<table border="2" style="border-collapse:collapse;font-size:inherit;font-style:inherit;font-variant:inherit;height:22px;font-weight:inherit;border-width:2px;border-color:#f20c31;word-break:break-word;border:1px solid silver;width:1006px;">
<tbody>
<tr>
<td style="border:1px solid silver;border-collapse:collapse;padding:3px;">
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">Spring是一个轻量级的控制反转(IoC)和面向切面(AOP)的容器框架。</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-family:'courier new', courier;font-size:16px;">两个重要模块：Spring 面向方面编程（AOP）和控制反转 （IOC） 容器。</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-family:'courier new', courier;font-size:16px;">控制反转模式（也称作依赖性介入）的基本概念是：不创建对象，但是描述创建它们的方式。在代码中不直接与对象和服务连接，但在配置文件中描述哪一个组件需要哪一项服务。</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-family:'courier new', courier;font-size:16px;">容器 （在 Spring 框架中是 IOC 容器） 负责将这些联系在一起。在典型的 IOC 场景中，容器创建了所有对象，并设置必要的属性将它们连接在一起，决定什么时间调用方法。</span></p>
</td>
</tr>
</tbody>
</table>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;"> 　　MyBatis:</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　　　</span></p>
<table border="2" style="border-collapse:collapse;font-size:inherit;font-style:inherit;font-variant:inherit;height:91px;font-weight:inherit;border-width:2px;border-color:#f3350b;word-break:break-word;border:1px solid silver;width:996px;">
<tbody>
<tr>
<td style="border:1px solid silver;border-collapse:collapse;padding:3px;">
<div style="text-align:left;"><span style="font-size:16px;font-family:'courier new', courier;">MyBatis 是支持普通 SQL查询，存储过程和高级映射的优秀<strong>持久层</strong>框架。MyBatis 消除了几乎所有的JDBC代码和参数的手工设置以及</span></div>
<div style="text-align:left;"><span style="font-size:16px;font-family:'courier new', courier;">结果集的检索。</span></div>
<div style="text-align:left;"> </div>
<div style="text-align:left;"><span style="font-size:16px;font-family:'courier new', courier;">MyBatis 使用简单的 XML或注解用于配置和原始映射，将接口和 Java 的POJOs（Plain Old Java Objects，普通的 Java</span></div>
<div style="text-align:left;"><span style="font-size:16px;font-family:'courier new', courier;">对象）映射成数据库中的记录。</span></div>
</td>
</tr>
</tbody>
</table>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;"> 　　开始整合Spring和MyBatis：</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　1、在Eclipse里新建一个web项目，导入我们需要的jar包，可以在这里下载：<a href="http://pan.baidu.com/s/1qW8Y6yo" style="color:rgb(86, 182, 233);">http://pan.baidu.com/s/1qW8Y6yo</a></span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　jar列表截图：</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211036363387882.png" type="image/png" data-filename="211036363387882.png" height="403" style="border:0px;" width="408"/></span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　2、创建一个简单的数据库（springmybaitis）和数据表（user---id,username,password）。</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211049485575521.png" type="image/png" data-filename="211049485575521.png" height="135" style="border:0px;" width="331"/></span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　3、以用户管理为例，创建model和dao.<br/></span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　文件列表截图如下：</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211046550884851.png" type="image/png" data-filename="211046550884851.png" height="386" style="border:0px;" width="315"/></span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　model----User.java</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　</span></p>
<div style="border:1px solid rgb(204, 204, 204);padding:5px;overflow:auto;margin:5px 0px;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);font-family:'Courier New';font-size:12px;"><div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode.gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New';font-size:12px;"><span style="font-family:'Courier New';font-size:16px;line-height:1.5;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 1</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">package</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> com.springMyBatis.system.model;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 2</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 3</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> User {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 4</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">private</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">int</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> id;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 5</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">private</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> String username;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 6</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">private</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> String password;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 7</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> User(){}
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 8</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">int</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> getId() {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 9</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> id;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">10</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">11</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span> setId(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">int</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> id) {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">12</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">this</span>.id =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> id;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">13</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">14</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> String getUsername() {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">15</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> username;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">16</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">17</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> setUsername(String username) {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">18</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">this</span>.username =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> username;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">19</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">20</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> String getPassword() {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">21</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> password;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">22</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">23</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> setPassword(String password) {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">24</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">this</span>.password =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> password;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">25</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">26</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> String toString(){
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">27</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">return</span> &quot;User[id=&quot;+id+&quot; , username=&quot;+username+&quot; , password=&quot;+password+&quot;]&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">28</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">29</span>     
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">30</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">31</span> }</span></pre>
<div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [1].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　dao------接口UserDao.java　</span></p>
<div style="border:1px solid rgb(204, 204, 204);padding:5px;overflow:auto;margin:5px 0px;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);font-family:'Courier New';font-size:12px;"><div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [2].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New';font-size:12px;"><span style="font-family:'Courier New';font-size:16px;line-height:1.5;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 1</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">package</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> com.springMyBatis.system.dao;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 2</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 3</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">import</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> com.springMyBatis.system.model.User;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 4</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 5</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">interface</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> UserDao {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 6</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> User getUser(User user);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 7</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> addUser(User user);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 8</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> updateUser(User user);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 9</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span> deleteUser(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">int</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> UserId);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">10</span> }</span></pre>
<div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [3].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　　dao-----UserDao.xml</span></p>
<div style="border:1px solid rgb(204, 204, 204);padding:5px;overflow:auto;margin:5px 0px;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);font-family:'Courier New';font-size:12px;"><div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [4].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New';font-size:12px;"><span style="font-family:'Courier New';font-size:16px;line-height:1.5;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 1</span> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 2</span> &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;   
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 3</span> &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 4</span> &lt;mapper namespace=&quot;com.springMyBatis.system.dao.UserDao&quot;&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 5</span> &lt;select id=&quot;getUser&quot; parameterType=&quot;com.springMyBatis.system.model.User&quot; resultType=&quot;com.springMyBatis.system.model.User&quot;&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 6</span>     SELECT * FROM user WHERE username=#{username} AND password=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">#{password}  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 7</span> &lt;/select&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 8</span> &lt;insert id=&quot;addUser&quot; parameterType=&quot;com.springMyBatis.system.model.User&quot; flushCache=&quot;true&quot;&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 9</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">   INSERT INTO user (id,username,password) VALUES (#{id},#{username},#{password})  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">10</span> &lt;/insert&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">11</span> &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.springMyBatis.system.model.User&quot;&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">12</span>     UPDATE user SET password=#{password} WHERE id=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">#{id}  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">13</span> &lt;/update&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">14</span> &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">15</span>     DELETE FROM user WHERE id=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">#{id}  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">16</span> &lt;/delete&gt;  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">17</span> &lt;/mapper&gt;  </span></pre>
<div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [5].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　4、Spring配置文件----ApplicationContext.xml</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211100352913141.png" type="image/png" data-filename="211100352913141.png" height="394" style="border:0px;" width="306"/></span></p>
<div style="border:1px solid rgb(204, 204, 204);padding:5px;overflow:auto;margin:5px 0px;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);font-family:'Courier New';font-size:12px;"><div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [6].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New';font-size:12px;"><span style="font-family:'Courier New';font-size:16px;line-height:1.5;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 1</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;?</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff00ff;">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">?&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 2</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">beans  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 3</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">xmlns</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans&quot;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 4</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">    xmlns:tx</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/tx&quot;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 5</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">    xmlns:p</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/p&quot;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 6</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">    xmlns:aop</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/aop&quot;</span>   
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 7</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">    xmlns:xsi</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 8</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">    xsi:schemaLocation</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans   
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 9</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd   
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">10</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">    http://www.springframework.org/schema/tx   
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">11</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd   
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">12</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">    http://www.springframework.org/schema/aop    
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">13</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">14</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">&lt;!--</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;"> 配置数据源</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">--&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">15</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">bean </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">id</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;jdbcDataSource&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">16</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;driverClassName&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">17</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>org.gjt.mm.mysql.Driver<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">18</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">19</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;url&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">20</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>jdbc:mysql://localhost:3306/springmybaitis?useUnicode=true<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">&amp;amp;</span>characterEncoding=UTF-8<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">21</span>        <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">&lt;!--</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">springmybaitis是我的数据库  </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">--&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">22</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">23</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;username&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">24</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>root<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">25</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">26</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;password&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">27</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>123456<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">28</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">29</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">bean</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">30</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">bean </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">id</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;sqlSessionFactory&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">31</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;dataSource&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> ref</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;jdbcDataSource&quot;</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">/&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">32</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;configLocation&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;classpath:mybatis-config.xml&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">33</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">bean</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">34</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">bean </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">id</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;userDao&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">35</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;mapperInterface&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> value</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;com.springMyBatis.system.dao.UserDao&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">36</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">name</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;sqlSessionFactory&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;"> ref</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;sqlSessionFactory&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">property</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">37</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">bean</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">38</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">beans</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  </span></pre>
<div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [7].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;"> </p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　5、MyBatis的配置文件------mybatis-config.xml</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211100544632584.png" type="image/png" data-filename="211100544632584.png" height="393" style="border:0px;" width="300"/></span></p>
<div style="border:1px solid rgb(204, 204, 204);padding:5px;overflow:auto;margin:5px 0px;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);font-family:'Courier New';font-size:12px;"><div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [8].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New';font-size:12px;"><span style="font-family:'Courier New';font-size:16px;line-height:1.5;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">1</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;?</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff00ff;">xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">?&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">2</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;!</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff00ff;">DOCTYPE configuration PUBLIC  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">3</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff00ff;">    &quot;-//mybatis.org//DTD Config 3.0//EN&quot;  
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">4</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff00ff;">    &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">5</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">configuration</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">6</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">mappers</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">7</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">mapper </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#ff0000;">resource</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">=&quot;com/springMyBatis/system/dao/UserDao.xml&quot;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">/&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">8</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">mappers</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">9</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#800000;">configuration</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">&gt;</span>  </span></pre>
<div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [9].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;"> </p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　6、测试</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　首先测试添加一条数据：</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　</span></p>
<div style="border:1px solid rgb(204, 204, 204);padding:5px;overflow:auto;margin:5px 0px;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);font-family:'Courier New';font-size:12px;"><div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [10].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;font-family:'Courier New';font-size:12px;"><span style="font-family:'Courier New';font-size:16px;line-height:1.5;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 1</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">package</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> com.springMyBatis.system.test;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 2</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 3</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">import</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> org.springframework.context.ApplicationContext;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 4</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">import</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> org.springframework.context.support.ClassPathXmlApplicationContext;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 5</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 6</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">import</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> com.springMyBatis.system.dao.UserDao;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 7</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">import</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> com.springMyBatis.system.model.User;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 8</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;"> 9</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> UserController {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">10</span>     
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">11</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">/**</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">12</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">     * </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#808080;">@param</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;"> args
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">13</span>      <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">*/</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">14</span>     <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">public</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">static</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">void</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> main(String[] args) {
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">15</span>         ApplicationContext ctx=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">null</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">;
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">16</span>         ctx=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">new</span> ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">17</span>         UserDao userDao=(UserDao) ctx.getBean(&quot;userDao&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">18</span>         User user=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#0000ff;">new</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;"> User();
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">19</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">添加两条数据</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">20</span>         user.setId(1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">21</span>         user.setUsername(&quot;Jessica&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">22</span>         user.setPassword(&quot;123&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">23</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">        userDao.addUser(user);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">24</span>         user.setId(2<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">25</span>         user.setUsername(&quot;Jessica2&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">26</span>         user.setPassword(&quot;123&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">27</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">        userDao.addUser(user);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">28</span>         System.out.println(&quot;添加成功&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">29</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">查询数据</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">30</span>         user.setUsername(&quot;Jessica&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">31</span>         user.setPassword(&quot;123&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">32</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">        System.out.println(userDao.getUser(user).toString());
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">33</span>         user.setUsername(&quot;Jessica2&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">34</span>         user.setPassword(&quot;123&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">35</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">        System.out.println(userDao.getUser(user).toString());
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">36</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">修改数据</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">37</span>         user.setId(2<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">38</span>         user.setPassword(&quot;802&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">39</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">        userDao.updateUser(user);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">40</span>         System.out.println(&quot;修改成功&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">41</span>         <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008000;">删除数据</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">42</span>         userDao.deleteUser(1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">43</span>         System.out.println(&quot;删除成功&quot;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">);
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">44</span>         
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">45</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#000000;">    }
</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">46</span> 
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:#008080;">47</span> }</span></pre>
<div style="margin-top:5px;background-color:rgb(245, 245, 245);"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;"><a href="#" style="color:rgb(86, 182, 233);border:none;background-color:rgb(245, 245, 245);" title="复制代码"><img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/copycode [11].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:none;background-color:rgb(245, 245, 245);" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;"> </p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211111053699414.png" type="image/png" data-filename="211111053699414.png" height="204" style="border:0px;" width="628"/></span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　　最后数据库只剩一条数据：</span></p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;">　　<img src="Spring和MyBatis环境整合 - 贞心真义 - 博客园_files/211111413381460.png" type="image/png" data-filename="211111413381460.png" height="111" style="border:0px;" width="282"/></span></p>
<p style="margin:10px auto;text-indent:0px;"> </p>
<p style="margin:10px auto;text-indent:0px;"><span style="font-size:16px;font-family:'courier new', courier;">　　　　结合Spring和MyBatis很简单，对于一些小一些的项目，想要做到精致易掌控，这两个框架的结合足以。虽然现在Hibernate也很红，但是感觉它内部很神秘，很难配置，也不好优化，就是有种不敢下手的感觉。虽说Hibernate配置有点难，但是搭好了环境后，开发效率还是很高的，只需要配置一下表关系什么的就Ok了。但是比如说查个数据什么的，很难掌控的到细节。Mybatis就可以控制sql的细节，虽然写sql语句比较耗费时间，也需要你的sql基础，但是也正因为这样，使用MyBatis的人的sql水平才会提高啊，看到我们项目经理二三分钟弄出一个看似复杂却又很效率的sql语句，感觉很帅，很牛的样子。这么分析起来，两者皆不可抛，结合学习一下。本文只是简单的实例，在*dao.xml的配置文件里，还有其他帮助优化和简化sql，帮助提高效率的一些知识，有待我们进一步学习呢。还有，也可以通过结合Spring自动扫描装配dao等，也可以为配置文件减轻负担不少，期待下一次更成熟的使用。</span></p>
<p style="margin:10px auto;text-indent:0px;"> </p>
<p style="margin:10px auto;text-indent:0px;"> </p></div></div></div></div></div></div></div><br/></span>
</div></body></html> 