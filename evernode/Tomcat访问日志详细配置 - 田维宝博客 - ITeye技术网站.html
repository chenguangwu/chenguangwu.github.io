<html>
<head>
  <title>Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10983"/>
<h1>Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/1/5 15:47</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://twb.iteye.com/blog/182100"><i>http://twb.iteye.com/blog/182100</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="text-align:center;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;line-height:1.5;color:black;background:white;"><div style="text-align:center;background:white;"><div style="text-align:left;"><div style="overflow:hidden;background-color:white;"><div style="background-color:white;">
  <div style="margin-bottom:15px;">
    <h3 style="line-height:1.5em;margin:0px 0px 0.5em;padding:0px;color:black;font-size:16px;padding-top:10px;">
      <a href="http://twb.iteye.com/blog/182100" style="color:rgb(0, 102, 153);text-decoration:none;">Tomcat访问日志详细配置</a>
      <em style="font-style:italic;">      </em>
    </h3>
    <ul style="padding:0px;margin:0px;list-style-type:none;"><strong style="font-weight:bold;">博客分类：</strong> <li style="margin:0px 5px 0px 0px;padding:0px;list-style-type:none;display:inline;"><a href="http://twb.iteye.com/category/30000" style="color:rgb(0, 102, 153);text-decoration:none;">Tomcat</a></li> </ul>
        <div style="clear:both;display:block;margin:10px 0px 5px;line-height:20px;"><a href="http://www.iteye.com/blogs/tag/Tomcat" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;border-radius:10px;background-color:rgb(170, 181, 195);">Tomcat</a><a href="http://www.iteye.com/blogs/tag/Apache" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;border-radius:10px;background-color:rgb(170, 181, 195);">Apache</a><a href="http://www.iteye.com/blogs/tag/Access" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;border-radius:10px;background-color:rgb(170, 181, 195);">Access</a><a href="http://www.iteye.com/blogs/tag/%E6%B5%8F%E8%A7%88%E5%99%A8" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;border-radius:10px;background-color:rgb(170, 181, 195);">浏览器</a><a href="http://www.iteye.com/blogs/tag/JSP" style="color:rgb(255, 255, 255);text-decoration:none;display:inline-block;margin:0px 5px 5px 0px;padding:0px 10px;border-radius:10px;background-color:rgb(170, 181, 195);">JSP</a> <span style="line-height:20px;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
    	  
    	
    	
  		
      </div>

  <div style="font-size:14px;line-height:1.8em;">
    <p style="margin:0cm 0cm 0pt;padding:0px;text-align:left;"><span>在</span><span>server.xml</span><span>里的</span><span>&lt;host&gt;</span><span>标签下加上</span><span><br/>&lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;<br/>directory=&quot;logs&quot; prefix=&quot;localhost_access_log.&quot; suffix=&quot;.txt&quot;<br/>pattern=&quot;common&quot; resolveHosts=&quot;false&quot;/&gt;<br/></span><span>就可以了，下面咱们逐一分析各个参数。</span></p>
<table border="1" cellpadding="0" style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;width:439.5pt;" width="586">

<tbody><tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>className </span><span> </span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt 6pt 12pt;padding:0px;text-align:left;"><span>官方文档上说了</span><span>This MUST be set to </span><strong style="font-weight:bold;"><span>org.apache.catalina.valves.AccessLogValve</span></strong><span> to use the default access log valve. &amp;&lt;60; </span><span>想配置访问日志？这就必须得写成这样。</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>directory </span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个东西是日志文件放置的目录，在</span><span>tomcat</span><span>下面有个</span><span>logs</span><span>文件夹，那里面是专门放置日志文件的，当然你也可以修改，我就给改成了</span><span>D:\</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>prefix</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个是日志文件的名称前缀，我的日志名称为</span><span>localhost_access_log.2007-09-22.txt</span><span>，前面的前缀就是这个</span><span>localhost_access_log</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>suffix</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这就是后缀名啦，可以改成别的</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>pattern</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个是最主要的参数了，具体的咱们下面讲，这个参数的内容比较丰富。</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>resolveHosts</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>如果这个值是</span><span>true</span><span>的话，</span><span>tomcat</span><span>会将这个服务器</span><span>IP</span><span>地址通过</span><span>DNS</span><span>转换为主机名，如果是</span><span>false</span><span>，就直接写服务器</span><span>IP</span><span>地址啦</span></p>
</td>
</tr>

</tbody></table>
<p style="margin:0cm 0cm 0pt;padding:0px;text-align:left;"><span>还有一些参数：</span></p>
<table border="1" cellpadding="0" style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;width:438.75pt;" width="585">

<tbody><tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>rotatable</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>默认为</span><span>true</span><span>，默认的设置使得你的</span><span>tomcat</span><span>生成的文件命为</span><span>prefix</span><span>（前缀）</span><span>+.+</span><span>时间（一般是按天算）</span><span>+.+suffix</span><span>（后缀），参照我的日志名就知道了：</span><span>localhost_access_log.2007-09-22.txt<br/></span><span>使用这个需要谨慎，因为你将其设置为</span><span>false</span><span>的话，</span><span>tomcat</span><span>会忽略时间，不会新生成文件，最后导致你的文件超级大，这样生成的文件名就是：</span><span>localhost_access_log.txt</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>condition</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个参数不太实用，可以设置任何值，比如咱们设置成</span><span>condition=&quot;tkq&quot;</span><span>，那么只有当</span><span>ServletRequest.getAttribute</span><span>(&quot;tkq&quot;)</span><span>为空的时候，才会被记录下来</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>fileDateFormat</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>最后的一个参数，很明白，这就是时间格式嘛，但是这个时间格式是针对日志文件起作用的，还记得咱们生成的日志文件全名么：</span><span>localhost_access_log.2007-09-22.txt</span><span>，这里面的</span><span>2007-09-22</span><span>就是这么来的，如果你想让</span><span>tomcat</span><span>每小时生成一个日志文件，也很简单，将这个值设置为：</span><span>fileDateFormat=&quot;yyyy-MM-dd.HH&quot;</span><span>，当然也可以按分钟生成什么的，自己改改吧</span><span> </span></p>
</td>
</tr>

</tbody></table>
<p style="margin:0cm 0cm 12pt;padding:0px;text-align:left;"><span>上面是所有的</span><span>9</span><span>个参数，刚才咱们说了，</span><span>pattern</span><span>这个参数的值比较多，咱们拿下来单独说：<span><br/>pattern</span>可以设置成两种方式，第一种是<span>pattern=&quot;common&quot;</span>，第二种是<span>pattern=&quot;combined&quot;</span></span><span><span><br/></span>这就可以控制日志里面的格式，各位说了，<span>pattern</span>就这两种？<span>common</span>和<span>combined</span>又是什么意</span></p>
<p style="margin:0cm 0cm 12pt;padding:0px;text-align:left;"><span>思，具体是什么格式呢？<span><br/></span>别着急，咱们一点一点看，其实<span>pattern</span>是可以设置的，<span>common</span>和<span>combined</span>只是集成了一些显</span></p>
<p style="margin:0cm 0cm 12pt;padding:0px;text-align:left;"><span>示方式，就是将显示方式给组合了，<span>pattern</span>的实际值有如下几种，都是后面一个字母，前面</span></p>
<p style="margin:0cm 0cm 12pt;padding:0px;text-align:left;"><span>一个<span>%</span>百分号<span><br/></span>咱们先贴出来我的日志里面的一条记录，对应着看<span><br/><br/>127.0.0.1 192.168.254.108 - -1 127.0.0.1 HTTP/1.1 - GET 80&amp;&lt;60; GET /rightmainima/leftbott4.swf HTTP/1.1 304 5563A67708646B6AA299C33D59BE132A [22/Sep/2007:10:08:52 +0800] - /rightmainima/leftbott4.swf localhost 0 0.000<br/><br/></span></span>
</p><p style="margin:0px;padding:0px;"> </p>
<table border="1" cellpadding="0" style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;width:432pt;" width="576">

<tbody><tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%a      </span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这是记录访问者的<span>IP</span>，在日志里是<span>127.0.0.1</span></span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%A</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这是记录本地服务器的<span>IP</span>，在日志里是<span>192.168.254.108</span></span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%b</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这是发送信息的字节数，不涵括</span><span>http</span><span>头，如果字节数为</span><span>0</span><span>的话，显示为</span><span>-</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%B</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>看</span><span>tomcat</span><span>的解释，没看出来与</span><span>b%</span><span>的区别，但我这里显示为</span><span>-1</span><span>，没想明白，望知道者告知，我把官方解释贴出来吧</span><span> Bytes sent, excluding HTTP headers </span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%h</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个就是服务器名称了，如果</span><span>resolveHosts</span><span>为</span><span>false</span><span>的话，这里就是</span><span>IP</span><span>地址了，我的日志里是</span><span>127.0.0.1</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%H</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>访问者使用的协议，这里是</span><span>HTTP/1.1</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%l</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个也不太清楚，官方也说这个</span><span>always return '-' </span><span>官方解释：</span><span>Remote logical username from identd (</span><span>可能这样翻译：记录浏览者进行身份验证时提供的名字</span><span>)(always returns '-') </span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%m</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>访问的方式，是</span><span>GET</span><span>还是</span><span>POST</span><span>，我这是</span><span>GET</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%p</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>本地接收访问的端口，呵呵，我这里是</span><span>80</span><span>啦</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%q</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>比如你访问的是</span><span>aaa.jsp?bbb=ccc</span><span>，那么这里就显示</span><span>?bbb=ccc</span><span>，明白了吧，这个</span><span>q</span><span>是</span><span>querystring</span><span>的意思</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%r</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>官方解释：</span><span>First line of the request (method and request URI)</span><span>，不是很明白</span><span> </span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%s</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这个是</span><span>http</span><span>的状态，我这里返回的是</span><span>304</span><span>，咱们经常看见访问某个网页报错误</span><span>500</span><span>什么的，那也会返回</span><span>500</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%S</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>用户的</span><span>session ID,</span><span>这个</span><span>session ID</span><span>大家可以另外查一下详细的解释，反正每次都会生成不同的</span><span>session ID</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%t</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>这就是时间啦，好像有一个</span><span>Common Log Format</span><span>可以改，不过我没找到</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%u</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>得到了验证的访问者，否则就是</span><span>&quot;-&quot;</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%U</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>访问的</span><span>URL</span><span>地址，我这里是</span><span>/rightmainima/leftbott4.swf</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%v</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>服务器名称，可能就是你</span><span>url</span><span>里面写的那个吧，我这里是</span><span>localhost</span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%D</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>官方解释：</span><span>Time taken to process the request, in millis</span><span>，应该是访问发生的时间，以毫秒记</span><span> </span></p>
</td>
</tr>
<tr>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>%T</span></p>
</td>
<td style="font-size:1em;background-color:transparent;border:#ece9d8;padding:0.75pt;">
<p style="margin:6pt;padding:0px;text-align:left;"><span>官方解释：</span><span>Time taken to process the request, in seconds</span><span>，应该是访问发生的时间，以秒记</span></p>
</td>
</tr>

</tbody></table>
<p style="margin:0cm 0cm 0pt;padding:0px;text-align:left;"><span><br/><br/></span><span>common</span><span>的值：<span>%h %l %u %t %r %s %b</span></span><span><br/></span><span>combined</span><span>的值：<span>%h %l %u %t %r %s %b %{Referer}i %{User-Agent}i</span></span><span> <br/><br/></span><span>至于</span><span>combined</span><span>的值的最后两个为什么会这样，我也不太清楚</span><span>…<br/><br/></span><span>这就是所有的参数了，欢迎交流探讨！</span><span><br/></span><span>这是官方的解释地址：</span><span>http://tomcat.apache.org/tomcat-5.5-doc/config/valve.html<br/></span><span>这个也可以看一看做参考：</span><span>http://tomcat.apache.org/tomcat-5.0-doc/config/logger.html<br/></span><span>还有这个：</span><span><a href="http://tomcat.apache.org/tomcat-5.0-doc/config/host.html" style="color:rgb(0, 102, 153);text-decoration:none;"><span>http://tomcat.apache.org/tomcat-5.0-doc/config/host.html</span></a></span></p>
<p style="margin:0cm 0cm 0pt;padding:0px;text-align:left;"><span>Apache</span><span>官方对</span><span>Tomcat</span><span>访问日志的配置介绍的并不详细，大家可以参考</span><span>Apache</span><span>（</span><span>web server</span><span>）的访问日志，两者有相当多相似的地方</span></p>
<p style="margin:0cm 0cm 0pt;padding:0px;text-align:left;"><span>                                                                                                                </span><span>本文转自</span><span>hilliate </span><span>博客</span></p>
<p style="margin:0cm 0cm 0pt;padding:0px;"><span><span style="font-size:small;font-family:Times New Roman;"> </span></span></p>
<p style="margin:0px;padding:0px;">
  </p></div>

  

  
  <ins></ins>
  

  <div style="display:block;">
    
    <div style="cursor:auto;display:inline-block;width:160px;height:32px;margin:0px;padding:27px 5px 0px 0px;color:rgb(51, 51, 51);text-align:right;float:right;background:none;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:32px;font-family:Arial, Helvetica, sans-serif;">分享到：
      <a href="#" style="color:rgb(0, 102, 153);text-decoration:none;background:transparent;" title="分享到新浪微博"><img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" height="16" style="border:0px;margin:0px 5px;" width="16"/></a>
      <a href="#" style="color:rgb(0, 102, 153);text-decoration:none;background:transparent;" title="分享到腾讯微博"><img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/Image [1].jpg" type="image/jpeg" data-filename="Image.jpg" height="16" style="border:0px;margin:0px 5px;" width="16"/></a>
    </div>
  <span style="display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

  <div style="right:20px;margin-bottom:15px;">
    <div style="float:right;text-align:right;padding-top:5px;">
      <a href="http://twb.iteye.com/blog/182122" style="color:rgb(0, 102, 153);text-decoration:none;padding:0px 15px;background-repeat:no-repeat;background-image:url(&quot;http://www.iteye.com/images/gray_west_arrow.gif&quot;);background-position:0% 50%;" title="Java虚拟机（JVM）参数配置说明">Java虚拟机（JVM）参数配置说明</a>
      |
      <a href="http://twb.iteye.com/blog/182084" style="color:rgb(0, 102, 153);text-decoration:none;padding:0px 15px;background-repeat:no-repeat;background-image:url(&quot;http://www.iteye.com/images/gray_east_arrow.gif&quot;);background-position:100% 50%;" title="JAVA系统中内存泄露测试方法的研究（转）">JAVA系统中内存泄露测试方法的研究（转）</a>
    </div>
  </div>
  <div style="padding:15px 0px 5px;">
    <ul style="margin:0px 0px 1.5em;padding:0px;">
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);">2008-04-12 14:49</li>
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);">浏览 74884</li>
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);"><a href="http://twb.iteye.com/blog/182100#comments" style="color:rgb(0, 102, 153);text-decoration:none;">评论(9)</a></li>
      
      
            
      <li style="padding:0px;margin:0px 10px 0px 0px;list-style:none;display:inline;float:left;padding-right:10px;border-right-width:1px;border-right-color:rgb(16, 138, 198);color:rgb(16, 138, 198);border-right-style:none;"><a href="http://www.iteye.com/wiki/blog/182100" style="color:rgb(0, 102, 153);text-decoration:none;padding-right:50px;background-image:url(&quot;http://www.iteye.com/images/icon_more.gif&quot;);background-position:100% 50%;background-repeat:no-repeat;" target="_blank">相关推荐</a></li>
    </ul>    
  </div>
  
		    
		
<div style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:gray;width:685px;">
	  <div style="display:block;">
	    <h5 style="line-height:1.3em;margin:0px 0px 0.25em;padding:0px;font-size:1.1em;color:rgb(51, 51, 51);font-weight:normal;font-family:微软雅黑;">参考知识库</h5>
	    
	    <dl style="margin:0px 0px 1.5em;line-height:1.4em;padding:18px 0px 0px;float:left;height:60px;overflow:hidden;">
	    
          <dd style="padding:0px;margin:0px;float:left;width:60px;height:60px;"><a href="http://lib.csdn.net/base/javase" style="color:rgb(0, 102, 153);text-decoration:none;display:block;" target="_blank"><img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/1453169124297_297.jpg" type="image/jpeg" data-filename="1453169124297_297.jpg" alt="" height="58" style="border:1px solid rgb(245, 245, 245);" width="58"/></a></dd>
          <dt style="margin:0.25em 0px;padding:0px;float:left;width:158px;margin-left:10px;padding-top:5px;">
              <a href="http://lib.csdn.net/base/javase" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank">Java SE知识库</a>
              <span style="display:block;color:rgb(153, 153, 153);font-size:14px;font-weight:normal;margin-top:12px;vertical-align:middle;">
                 <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">19783</em>  关注 <i style="font-style:normal;font-size:smaller;color:rgb(153, 153, 153);">|</i> <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">468</em>  收录                  
              </span>
          </dt>
      
	    </dl>
	    
	    <dl style="margin:0px 0px 1.5em;line-height:1.4em;padding:18px 0px 0px;float:left;height:60px;overflow:hidden;">
	    
          <dd style="padding:0px;margin:0px;float:left;width:60px;height:60px;"><a href="http://lib.csdn.net/base/reactnative" style="color:rgb(0, 102, 153);text-decoration:none;display:block;" target="_blank"><img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/1473751990490_490.jpg" type="image/jpeg" data-filename="1473751990490_490.jpg" alt="" height="58" style="border:1px solid rgb(245, 245, 245);" width="58"/></a></dd>
          <dt style="margin:0.25em 0px;padding:0px;float:left;width:158px;margin-left:10px;padding-top:5px;">
              <a href="http://lib.csdn.net/base/reactnative" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank">React Native知识库</a>
              <span style="display:block;color:rgb(153, 153, 153);font-size:14px;font-weight:normal;margin-top:12px;vertical-align:middle;">
                 <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">4610</em>  关注 <i style="font-style:normal;font-size:smaller;color:rgb(153, 153, 153);">|</i> <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">1096</em>  收录                  
              </span>
          </dt>
      
	    </dl>
	    
	    <dl style="margin:0px 0px 1.5em;line-height:1.4em;padding:18px 0px 0px;float:left;height:60px;overflow:hidden;">
	    
          <dd style="padding:0px;margin:0px;float:left;width:60px;height:60px;"><a href="http://lib.csdn.net/base/css3" style="color:rgb(0, 102, 153);text-decoration:none;display:block;" target="_blank"><img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/1478154582437_437.jpg" type="image/jpeg" data-filename="1478154582437_437.jpg" alt="" height="58" style="border:1px solid rgb(245, 245, 245);" width="58"/></a></dd>
          <dt style="margin:0.25em 0px;padding:0px;float:left;width:158px;margin-left:10px;padding-top:5px;">
              <a href="http://lib.csdn.net/base/css3" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank">CSS3知识库</a>
              <span style="display:block;color:rgb(153, 153, 153);font-size:14px;font-weight:normal;margin-top:12px;vertical-align:middle;">
                 <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">8399</em>  关注 <i style="font-style:normal;font-size:smaller;color:rgb(153, 153, 153);">|</i> <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">1693</em>  收录                  
              </span>
          </dt>
      
	    </dl>
	    
	    <dl style="margin:0px 0px 1.5em;line-height:1.4em;padding:18px 0px 0px;float:left;height:60px;overflow:hidden;">
	    
          <dd style="padding:0px;margin:0px;float:left;width:60px;height:60px;"><a href="http://lib.csdn.net/base/ai" style="color:rgb(0, 102, 153);text-decoration:none;display:block;" target="_blank"><img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/1479972981201_201.jpg" type="image/jpeg" data-filename="1479972981201_201.jpg" alt="" height="58" style="border:1px solid rgb(245, 245, 245);" width="58"/></a></dd>
          <dt style="margin:0.25em 0px;padding:0px;float:left;width:158px;margin-left:10px;padding-top:5px;">
              <a href="http://lib.csdn.net/base/ai" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank">人工智能知识库</a>
              <span style="display:block;color:rgb(153, 153, 153);font-size:14px;font-weight:normal;margin-top:12px;vertical-align:middle;">
                 <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">8262</em>  关注 <i style="font-style:normal;font-size:smaller;color:rgb(153, 153, 153);">|</i> <em style="font-style:normal;color:rgb(100, 177, 203);font-weight:normal;vertical-align:middle;">419</em>  收录                  
              </span>
          </dt>
      
	    </dl>
	    
	  <span style="display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
</div>
 		
      
  <div style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:gray;width:685px;">
    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px 0px 0.25em;padding:0px;color:black;">评论</h5>
    <a name="comments" style="color:rgb(0, 102, 153);text-decoration:none;"></a>
    <div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    9 楼
    <a href="http://1009828970.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="木本水源">木本水源</a>
    2016-06-16  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">嗯，介绍的很详细，thanks.</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    8 楼
    <a href="http://201412065148.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="different">different</a>
    2015-01-31  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">恩  介绍的很详细  thanks</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    7 楼
    <a href="http://gerrard-ok.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="gerrard_ok">gerrard_ok</a>
    2014-04-16  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">格式化日期<br/>%{yyyy-MM-dd HH:mm:ss}t<br/></div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    6 楼
    <a href="http://hq369.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="hq369">hq369</a>
    2012-12-14  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">我想不记录swf文件的访问日志有办法吗？</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    5 楼
    <a href="http://lection-yu.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="lection.yu">lection.yu</a>
    2012-11-08  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">User-Agent 等等 应该是直接输出header的头部信息。</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    4 楼
    <a href="http://wqq686.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="wqq686">wqq686</a>
    2010-08-15  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">User-Agent 应该是客户端浏览器吧</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    3 楼
    <a href="http://pignut-wang.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="pignut_wang">pignut_wang</a>
    2009-10-03  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">写的不错,很详细,学习了</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    2 楼
    <a href="http://sjblx.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="sjblx">sjblx</a>
    2009-03-14  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">请问为何记录的很多访问ip就是网站本身的ip啊</div>
</div>

<div>
  <div style="padding:3px;background-color:rgb(239, 250, 255);">
    1 楼
    <a href="http://yuezhiyin2000.iteye.com/" style="color:rgb(0, 102, 153);text-decoration:none;" target="_blank" title="yuezhiyin2000">yuezhiyin2000</a>
    2008-11-27  
    
    
  </div>
  <div style="padding:3px;margin-bottom:10px;">小哥写的很有意思,顶你下.</div>
</div>


    
    
  </div>

  <div style="margin-top:15px;padding:15px;border-top-width:1px;border-top-style:solid;border-top-color:gray;width:685px;">
    <h5 style="font-size:1.1em;line-height:1.3em;margin:0px 0px 0.25em;padding:0px;color:black;">发表评论</h5>
            <p style="margin:0px;padding:0px;text-align:center;margin-top:30px;margin-bottom:0px;"><a href="http://twb.iteye.com/login" style="color:rgb(0, 102, 153);text-decoration:none;background-color:white;"> <img src="Tomcat访问日志详细配置 - 田维宝博客 - ITeye技术网站_files/Image.png" type="image/png" data-filename="Image.png" height="32" style="border:0px;vertical-align:middle;margin-right:10px;" width="26"/></a><a href="http://twb.iteye.com/login" style="color:rgb(0, 102, 153);text-decoration:none;">  您还没有登录,请您登录后再发表评论 </a></p>
      </div>
</div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 