<html>
<head>
  <title>html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTML前端开发 - SegmentFault 思否</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="12040"/>
<h1>html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTML前端开发 - SegmentFault 思否</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/3/7 12:12</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://segmentfault.com/a/1190000005869372"><i>https://segmentfault.com/a/1190000005869372</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;font-family:sans-serif;text-size-adjust:100%;font-size:10px;-webkit-tap-highlight-color:transparent;"><div style="box-sizing:border-box;font-family:-apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size:14px;line-height:1.42858;color:rgb(51, 51, 51);background-color:rgb(255, 255, 255);-webkit-font-smoothing:antialiased;"><div style="box-sizing:border-box;">
            <div style="box-sizing:border-box;background-color:rgb(0, 154, 97);width:100%;position:relative;">
    <div style="box-sizing:border-box;margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px;background-image:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/banner-login/banner-bg.svg&quot;);background-position:right -20px;background-repeat:no-repeat;"><span style="display:table;"> </span>
        <div style="box-sizing:border-box;margin-left:-15px;margin-right:-15px;"><span style="display:table;"> </span>
            <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;">
                <h1 style="box-sizing:border-box;margin:0.67em 0px;font-family:inherit;font-weight:500;line-height:1.2;font-size:30px;color:rgb(255, 255, 255);margin-top:40px;margin-bottom:20px;">在 SegmentFault，学习技能、解决问题</h1>
                <p style="box-sizing:border-box;margin:0px 0px 10px;margin-bottom:40px;font-size:18px;color:rgb(255, 255, 255);">每个月，我们帮助 1000 万的开发者解决各种各样的技术问题。并助力他们在技术能力、职业生涯、影响力上获得提升。</p>
            </div>
            <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;">
                <div style="box-sizing:border-box;margin-top:65px;margin-bottom:40px;"><span style="display:table;"> </span>

                    
                    <a href="https://segmentfault.com/user/login" style="border:1px solid transparent;border-color:rgb(0, 129, 81);outline:0px;text-decoration:none;display:inline-block;box-shadow:rgba(0, 0, 0, 0.0470588) 0px 1px 1px;font-weight:normal;text-align:center;vertical-align:middle;cursor:pointer;box-sizing:border-box;white-space:nowrap;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px;user-select:none;margin-bottom:10px;color:rgb(0, 154, 97);background:rgb(255, 255, 255);margin-right:15px;">免费注册</a>
                    <a href="https://segmentfault.com/user/login" style="border:1px solid transparent;background:transparent;box-sizing:border-box;text-decoration:none;padding:10px 16px;outline:0px;font-size:18px;font-weight:normal;vertical-align:middle;cursor:pointer;background-image:none;color:rgb(255, 255, 255);white-space:nowrap;box-shadow:rgba(0, 0, 0, 0.0470588) 0px 1px 1px;text-align:center;line-height:1.33;border-radius:6px;user-select:none;background-color:rgb(0, 154, 97);display:inline-block;border-color:rgb(255, 255, 255);margin-bottom:10px;">立即登录</a>
                <span style="display:table;clear:both;"> </span></div>
            </div>
        <span style="display:table;clear:both;"> </span></div>
    <span style="display:table;clear:both;"> </span></div>
        <i style="font-style:normal;box-sizing:border-box;font-variant:normal;-webkit-font-smoothing:antialiased;text-rendering:auto;font-family:FontAwesome;line-height:1;display:inline-block;font-stretch:normal;font-weight:normal;top:15px;position:absolute;color:rgba(255, 255, 255, 0.247059);cursor:pointer;right:15px;font-size:18px;"><span style="font-size:18px;cursor:pointer;color:rgba(255, 255, 255, 0.247059);font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;"></span></i>
    </div>

        <div style="box-sizing:border-box;padding:30px 0px 0px;">
        <div style="box-sizing:border-box;margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px;"><span style="display:table;"> </span>
            <div style="box-sizing:border-box;padding-bottom:20px;border-bottom:1px solid rgb(224, 224, 224);">
                <div style="box-sizing:border-box;margin-left:-15px;margin-right:-15px;"><span style="display:table;"> </span>
                    <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;float:left;width:100%;">
                        <div style="box-sizing:border-box;color:rgb(153, 153, 153);margin-bottom:-5px;margin-left:0px;">

                            <h1 style="box-sizing:border-box;font-size:24px;margin:0px 0px 15px;font-family:inherit;font-weight:500;line-height:1.2;color:inherit;">
                                <a href="https://segmentfault.com/a/1190000005869372" style="box-sizing:border-box;background:transparent;outline:0px;color:rgb(51, 51, 51);text-decoration:none;"> html元素contenteditable属性如何定位光标和设置光标</a>
                            </h1>

                            <div style="box-sizing:border-box;"><span style="margin-left:0px;font-size:13px;height:22px;line-height:22px;padding:0px 6px;border-radius:11px;font-weight:normal;font-family:&quot;PingFang SC&quot;;margin-right:10px;"></span>
                                <ul style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;display:inline-block;list-style:none;padding:0px;font-size:0px;margin-right:10px;">
                                                                            <li style="box-sizing:border-box;padding:0px;font-size:13px;display:inline-block;margin-right:5px;margin-bottom:5px;">
                                            <a href="https://segmentfault.com/t/html5/blogs" style="padding:0px 6px;background:transparent;box-sizing:border-box;text-decoration:none;outline:0px;display:inline-block;color:rgb(1, 126, 102);background-color:rgba(1, 126, 102, 0.0784314);height:22px;line-height:22px;font-weight:normal;font-size:13px;text-align:center;">
                                                                                            <img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/1025005915-54cb538538eea_small.png" type="image/png" data-filename="1025005915-54cb538538eea_small.png" height="16" style="box-sizing:border-box;border:0px;vertical-align:middle;width:16px;height:16px;margin-right:5px;margin-top:-1px;" width="16"/>
                                                                                        html5
                                            </a>
                                        </li>
                                                                            <li style="box-sizing:border-box;padding:0px;font-size:13px;display:inline-block;margin-right:0px;margin-bottom:5px;">
                                            <a href="https://segmentfault.com/t/javascript/blogs" style="padding:0px 6px;background:transparent;box-sizing:border-box;text-decoration:none;outline:0px;display:inline-block;color:rgb(1, 126, 102);background-color:rgba(1, 126, 102, 0.0784314);height:22px;line-height:22px;font-weight:normal;font-size:13px;text-align:center;">
                                                                                        javascript
                                            </a>
                                        </li>
                                                                    </ul>
                                                                                                <div style="box-sizing:border-box;display:inline-block;">
                                    <a href="https://segmentfault.com/u/yinjiandexiaofengdee" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-right:5px;"><strong style="box-sizing:border-box;font-weight:bold;">吟渐的小风dee</strong></a>
                                    2016年07月04日发布
                                                                                                        </div>
                            <span style="margin-left:10px;font-size:13px;height:22px;line-height:22px;padding:0px 6px;border-radius:11px;font-weight:normal;font-family:&quot;PingFang SC&quot;;"></span></div>

                                                        
                        </div>
                    </div>
                    <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;">
                        <ul style="box-sizing:border-box;padding-left:0px;list-style:none;margin:0px;color:rgb(153, 153, 153);">
                            <li style="box-sizing:border-box;margin-top:0px;">
                                                            </li>
                            <li style="box-sizing:border-box;margin-top:10px;">
                                <strong style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:normal;">12.9k</strong> 次浏览
                            </li>
                        </ul>
                    </div>
                <span style="display:table;clear:both;"> </span></div>
            </div>
        <span style="display:table;clear:both;"> </span></div>
    </div>

    <div style="box-sizing:border-box;margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px;margin-top:30px;"><span style="display:table;"> </span>
        <div style="box-sizing:border-box;margin-left:-15px;margin-right:-15px;"><span style="display:table;"> </span>
            <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;float:left;width:100%;">

                
                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;"><span style="line-height:1.6;display:table;"> </span>
                    
<p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;">最近在山寨一款网页微信的产品，对于div用contenteditable属性做的编辑框有不少心得，希望可以帮到入坑的同学。</p>
<p style="box-sizing:border-box;margin:1.5em 0px;">废话不多说了，我们先来理解一下HTML的光标对象是如何工作的，后面我会贴完整的DEMO代码，不用急，先去理解，才能做出更加好的输入体验。</p>
<p style="box-sizing:border-box;margin:1.5em 0px;">在HTML里面，光标是一个对象，光标对象是只有当你选中某个元素的时候才会出现的。</p>
<p style="box-sizing:border-box;margin:1.5em 0px;">当我们去点击一个输入框的时候，实际上它会产生一个选中对象-selection（就是我们可以看到的文字变成蓝色的那个区域），selection在火狐浏览器可以直接用 window.getSelection()获取，在HTML里面，selection只有一个的，并且selection是一个区域，你可以想象成一个长方形，它是有开始和结束的</p>
<p style="box-sizing:border-box;margin:1.5em 0px;">当你点击一个输入框，或者你切换到别的输入框，selection是会跟着变化的。光标就是在selection里面，光标叫做range，是一个片段区域，和selection一样，有开始点，和结束点，当我们对文字按下左键向右拉的时候，就看到了文字变成蓝色，那个就是光标的开始和结束，当我们直接点一下的时候，光标在闪，其实只是开始和结束点重叠了。</p>
<p style="box-sizing:border-box;margin:1.5em 0px;">OK，现在我们来实际操作光标了。直接看完整的代码，然后看效果吧。</p>
<pre style="word-wrap:break-word;overflow-x:auto;border-radius:4px;box-sizing:border-box;display:block;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;word-break:break-all;line-height:1.45;margin:1.5em 0px;padding:1em;border:none;font-size:0.93em;max-height:35em;position:relative;background:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/blueprint.png&quot;) 0% 0% / 30px rgb(246, 246, 246), 0% 0% / 30px;overflow:auto;margin-top:0px;"><code style="box-sizing:border-box;font-family:&quot;Source Code Pro&quot;, Consolas, Menlo, Monaco, &quot;Courier New&quot;, monospace;padding:0px;color:inherit;border-radius:0px;font-size:1em;white-space:inherit;background:none;overflow-wrap:normal;"><span style="box-sizing:border-box;color:rgb(153, 153, 153);font-weight:bold;">&lt;!DOCTYPE html&gt;</span>
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">html</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">lang</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;en&quot;</span>&gt;</span>
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">head</span>&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">meta</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">charset</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;UTF-8&quot;</span>&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">title</span>&gt;</span><span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">title</span>&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">style</span>&gt;</span><span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(153, 0, 0);font-weight:bold;">#edit</span>{<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">height</span>:<span style="box-sizing:border-box;color:rgb(0, 128, 128);">500px</span>;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">width</span>:<span style="box-sizing:border-box;color:rgb(0, 128, 128);">500px</span>;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">border</span>:<span style="box-sizing:border-box;color:rgb(0, 128, 128);">1px</span> solid red;}</span><span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">style</span>&gt;</span>
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">head</span>&gt;</span>
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">body</span>&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">div</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">id</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;edit&quot;</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">contenteditable</span>&gt;</span><span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">div</span>&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">input</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">type</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;text&quot;</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">id</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;emojiInput&quot;</span>&gt;</span>
    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">button</span> <span style="box-sizing:border-box;color:rgb(0, 128, 128);">id</span>=<span style="box-sizing:border-box;color:rgb(221, 17, 68);">&quot;sendEmoji&quot;</span>&gt;</span>发送表情<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">button</span>&gt;</span>

    <span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">script</span>&gt;</span><span style="box-sizing:border-box;">
        <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> sendEmoji = <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.getElementById(<span style="box-sizing:border-box;color:rgb(221, 17, 68);">'sendEmoji'</span>)

        <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 定义最后光标对象</span>
        <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> lastEditRange;

        <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 编辑框点击事件</span>
        <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.getElementById(<span style="box-sizing:border-box;color:rgb(221, 17, 68);">'edit'</span>).onclick = <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">function</span>(<span style="box-sizing:border-box;"></span>) </span>{
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取选定对象</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> selection = getSelection()
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 设置最后光标对象</span>
            lastEditRange = selection.getRangeAt(<span style="box-sizing:border-box;color:rgb(0, 128, 128);">0</span>)
        }

        <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 编辑框按键弹起事件</span>
        <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.getElementById(<span style="box-sizing:border-box;color:rgb(221, 17, 68);">'edit'</span>).onkeyup = <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">function</span>(<span style="box-sizing:border-box;"></span>) </span>{
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取选定对象</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> selection = getSelection()
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 设置最后光标对象</span>
            lastEditRange = selection.getRangeAt(<span style="box-sizing:border-box;color:rgb(0, 128, 128);">0</span>)
        }

        <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 表情点击事件</span>
        <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.getElementById(<span style="box-sizing:border-box;color:rgb(221, 17, 68);">'sendEmoji'</span>).onclick = <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">function</span>(<span style="box-sizing:border-box;"></span>) </span>{
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取编辑框对象</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> edit = <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.getElementById(<span style="box-sizing:border-box;color:rgb(221, 17, 68);">'edit'</span>)
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取输入框对象</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> emojiInput = <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.getElementById(<span style="box-sizing:border-box;color:rgb(221, 17, 68);">'emojiInput'</span>)
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 编辑框设置焦点</span>
            edit.focus()
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取选定对象</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> selection = getSelection()
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 判断是否有最后光标对象存在</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">if</span> (lastEditRange) {
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 存在最后光标对象，选定对象清除所有光标并添加最后光标还原之前的状态</span>
                selection.removeAllRanges()
                selection.addRange(lastEditRange)
            }
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 判断选定对象范围是编辑框还是文本节点</span>
            <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">if</span> (selection.anchorNode.nodeName != <span style="box-sizing:border-box;color:rgb(221, 17, 68);">'#text'</span>) {
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 如果是编辑框范围。则创建表情文本节点进行插入</span>
                <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> emojiText = <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.createTextNode(emojiInput.value)
                
                <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">if</span> (edit.childNodes.length &gt; <span style="box-sizing:border-box;color:rgb(0, 128, 128);">0</span>) {
                    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 如果文本框的子元素大于0，则表示有其他元素，则按照位置插入表情节点</span>
                    <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">for</span> (<span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> i = <span style="box-sizing:border-box;color:rgb(0, 128, 128);">0</span>; i &lt; edit.childNodes.length; i++) {
                        <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">if</span> (i == selection.anchorOffset) {
                            edit.insertBefore(emojiText, edit.childNodes[i])
                        }
                    }
                } <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">else</span> {
                    <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 否则直接插入一个表情元素</span>
                    edit.appendChild(emojiText)
                }
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 创建新的光标对象</span>
                <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> range = <span style="box-sizing:border-box;color:rgb(0, 134, 179);">document</span>.createRange()
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 光标对象的范围界定为新建的表情节点</span>
                range.selectNodeContents(emojiText)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 光标位置定位在表情节点的最大长度</span>
                range.setStart(emojiText, emojiText.length)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 使光标开始和光标结束重叠</span>
                range.collapse(<span style="box-sizing:border-box;color:rgb(0, 128, 128);">true</span>)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 清除选定对象的所有光标对象</span>
                selection.removeAllRanges()
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 插入新的光标对象</span>
                selection.addRange(range)
            } <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">else</span> {
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 如果是文本节点则先获取光标对象</span>
                <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> range = selection.getRangeAt(<span style="box-sizing:border-box;color:rgb(0, 128, 128);">0</span>)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取光标对象的范围界定对象，一般就是textNode对象</span>
                <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> textNode = range.startContainer;
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 获取光标位置</span>
                <span style="box-sizing:border-box;color:rgb(51, 51, 51);font-weight:bold;">var</span> rangeStartOffset = range.startOffset;
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 文本节点在光标位置处插入新的表情内容</span>
                textNode.insertData(rangeStartOffset, emojiInput.value)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 光标移动到到原来的位置加上新内容的长度</span>
                range.setStart(textNode, rangeStartOffset + emojiInput.value.length)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 光标开始和光标结束重叠</span>
                range.collapse(<span style="box-sizing:border-box;color:rgb(0, 128, 128);">true</span>)
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 清除选定对象的所有光标对象</span>
                selection.removeAllRanges()
                <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 插入新的光标对象</span>
                selection.addRange(range)
            }
            <span style="box-sizing:border-box;font-style:italic;color:rgb(153, 153, 136);">// 无论如何都要记录最后光标对象</span>
            lastEditRange = selection.getRangeAt(<span style="box-sizing:border-box;color:rgb(0, 128, 128);">0</span>)
        }
    </span><span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">script</span>&gt;</span>
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">body</span>&gt;</span>
<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 128);font-weight:normal;">html</span>&gt;</span></code></pre>

                <span style="line-height:1.6;display:table;clear:both;"> </span></div>
                                                
                <div style="box-sizing:border-box;margin-top:10px;"><span style="display:table;"> </span>
                    <ul style="box-sizing:border-box;margin-top:0px;margin-bottom:10px;padding-left:0px;list-style:none;margin-left:-5px;float:left;"><li style="box-sizing:border-box;display:inline-block;padding-right:5px;padding-left:5px;"><a href="https://segmentfault.com/a/1190000005869372" style="box-sizing:border-box;background:transparent;text-decoration:none;outline:0px;color:rgb(153, 153, 153);font-size:13px;">2016年07月04日发布</a></li><li style="box-sizing:border-box;position:relative;display:inline-block;padding-left:5px;padding-right:5px;"><a href="#" style="box-sizing:border-box;background:transparent;text-decoration:none;outline:0px;color:rgb(153, 153, 153);font-size:13px;"><i style="font-stretch:normal;box-sizing:border-box;font-style:normal;font-variant:normal;font-weight:normal;display:inline-block;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i></a></li></ul>
                    <div style="box-sizing:border-box;float:right;">
                        <div style="box-sizing:border-box;margin-bottom:20px;"><div style="box-sizing:border-box;float:left;color:rgb(153, 153, 153);font-size:13px;display:block;"><ul style="box-sizing:border-box;list-style:none;display:inline;margin:0px;padding:0px;vertical-align:text-bottom;"><li style="box-sizing:border-box;display:inline-block;margin-right:5px;"><a href="#" style="text-transform:capitalize;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;box-sizing:border-box;background-image:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/social-icons/icon-sn.svg&quot;);background-size:auto 56px;vertical-align:middle;background-position:-56px -28px;display:inline-block;height:28px;background-repeat:no-repeat;width:28px;overflow:hidden;text-indent:110%;white-space:nowrap;" title="">新浪微博</a></li><li style="box-sizing:border-box;display:inline-block;margin-right:5px;"><a href="#" style="text-transform:capitalize;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;box-sizing:border-box;background-image:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/social-icons/icon-sn.svg&quot;);background-size:auto 56px;vertical-align:middle;background-position:-252px -28px;display:inline-block;height:28px;background-repeat:no-repeat;width:28px;overflow:hidden;text-indent:110%;white-space:nowrap;" title="">微信</a></li><li style="box-sizing:border-box;display:inline-block;margin-right:5px;"><a href="#" style="text-transform:capitalize;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;box-sizing:border-box;background-image:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/social-icons/icon-sn.svg&quot;);background-size:auto 56px;vertical-align:middle;background-position:-112px -28px;display:inline-block;height:28px;background-repeat:no-repeat;width:28px;overflow:hidden;text-indent:110%;white-space:nowrap;" title="">Twitter</a></li><li style="box-sizing:border-box;display:inline-block;margin-right:5px;"><a href="#" style="text-transform:capitalize;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;box-sizing:border-box;background-image:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/social-icons/icon-sn.svg&quot;);background-size:auto 56px;vertical-align:middle;background-position:-140px -28px;display:inline-block;height:28px;background-repeat:no-repeat;width:28px;overflow:hidden;text-indent:110%;white-space:nowrap;" title="">Facebook</a></li></ul></div><a style="background-image:none;background:transparent;box-sizing:border-box;text-decoration:none;white-space:nowrap;outline:0px;padding:0px;font-weight:normal;vertical-align:middle;cursor:pointer;color:rgb(255, 255, 255);border:none;margin-bottom:0px;text-align:center;font-size:12px;line-height:1.5;border-radius:3px;user-select:none;box-shadow:none;display:inline-block;" type="button"><span style="box-sizing:border-box;background-position:-280px -28px;display:inline-block;background-image:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/social-icons/icon-sn.svg&quot;);background-repeat:no-repeat;width:28px;height:28px;vertical-align:middle;background-size:auto 56px;background-color:transparent;" title=""></span></a></div>


                    </div>
                <span style="display:table;clear:both;"> </span></div>
                <div style="box-sizing:border-box;text-align:center;margin-top:10px;"></div>
                                                <div style="box-sizing:border-box;background:url(&quot;https://static.segmentfault.com/v-5a9d0d47/global/css/../img/ad_bg.svg&quot;);max-height:90px;display:flex;justify-content:center;margin-top:20px;"></div>
                

                                    <div style="box-sizing:border-box;border-top:1px solid rgb(221, 221, 221);margin-top:40px;margin-bottom:30px;padding-top:30px;">
                        <div style="box-sizing:border-box;margin-left:-15px;margin-right:-15px;"><span style="display:table;"> </span>
                            <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;">
                                                                    <h4 style="box-sizing:border-box;font-family:inherit;font-weight:500;line-height:1.2;color:inherit;margin-bottom:10px;font-size:18px;margin-top:0px;">你可能感兴趣的文章</h4>
                                    <ul style="box-sizing:border-box;margin-top:0px;margin-bottom:10px;padding-left:0px;list-style:none;">
                                                                                    <li style="box-sizing:border-box;margin-bottom:8px;">
                                                <a href="https://segmentfault.com/a/1190000011745520" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-right:6px;word-break:break-word;" title="使用contenteditable+div模拟textarea文本域实现高度自适应">使用contenteditable+div模拟textarea文本域实现高度自适应</a>
                                                <small style="box-sizing:border-box;color:rgb(119, 119, 119);font-size:13px;display:inline-block;">
                                                    534
                                                    浏览
                                                </small>
                                            </li>
                                                                                    <li style="box-sizing:border-box;margin-bottom:8px;">
                                                <a href="https://segmentfault.com/a/1190000010251116" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-right:6px;word-break:break-word;" title="HTML5关于 contenteditable 介绍">HTML5关于 contenteditable 介绍</a>
                                                <small style="box-sizing:border-box;color:rgb(119, 119, 119);font-size:13px;display:inline-block;">
                                                    2 收藏，384
                                                    浏览
                                                </small>
                                            </li>
                                                                                    <li style="box-sizing:border-box;margin-bottom:8px;">
                                                <a href="https://segmentfault.com/a/1190000012419902" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-right:6px;word-break:break-word;" title="HTML5全局属性汇总">HTML5全局属性汇总</a>
                                                <small style="box-sizing:border-box;color:rgb(119, 119, 119);font-size:13px;display:inline-block;">
                                                    44 收藏，410
                                                    浏览
                                                </small>
                                            </li>
                                                                            </ul>
                                                            </div>
                            <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;">
                                                            </div>
                        <span style="display:table;clear:both;"> </span></div>

                    </div>
                                

                <h2 style="box-sizing:border-box;font-family:inherit;font-weight:500;line-height:1.2;color:inherit;margin-top:10px;margin-bottom:10px;font-size:18px;padding-top:20px;border-top:2px solid rgb(204, 204, 204);"></h2>
                
        <div style="box-sizing:border-box;margin-top:-5px;">
                    <div style="box-sizing:border-box;margin-bottom:10px;"><span style="display:table;"> </span>
                <strong style="box-sizing:border-box;font-weight:bold;display:block;font-size:16px;float:left;margin-right:10px;">10 条评论</strong>

                                                    <div style="box-sizing:border-box;position:relative;display:inline-block;vertical-align:middle;float:right;">
                        <a href="#" style="font-size:12px;background:transparent;box-sizing:border-box;text-decoration:none;border-radius:3px;display:inline-block;font-weight:normal;text-align:center;vertical-align:middle;cursor:pointer;user-select:none;border:1px solid transparent;white-space:nowrap;margin-bottom:0px;border-color:rgb(173, 173, 173);color:rgb(51, 51, 51);padding:1px 5px;background-image:none;outline:0px;box-shadow:rgba(0, 0, 0, 0.121569) 0px 3px 5px inset;background-color:rgb(230, 230, 230);line-height:1.5;position:relative;float:left;z-index:2;margin-left:0px;border-bottom-right-radius:0px;border-top-right-radius:0px;">默认排序</a>
                        <a href="#" style="padding:1px 5px;background:transparent;outline:0px;text-decoration:none;box-sizing:border-box;border-radius:3px;margin-bottom:0px;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;display:inline-block;color:rgb(51, 51, 51);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 1px 1px;font-weight:normal;user-select:none;background-color:rgb(255, 255, 255);border-color:rgb(204, 204, 204);position:relative;float:left;line-height:1.5;font-size:12px;margin-left:-1px;border-bottom-left-radius:0px;border-top-left-radius:0px;">时间排序</a>
                    </div>
                            <span style="display:table;clear:both;"> </span></div>
                <div style="border-right-color:initial;box-sizing:border-box;border-bottom-color:initial;border-width:1px 0px 0px;border-bottom-style:initial;border-left-style:initial;background:rgb(255, 255, 255);border-right-style:initial;border-left-color:initial;border-image:initial;box-shadow:none;border-top-style:solid;border-top-color:rgba(0, 0, 0, 0.0901961);">
                                <div style="box-sizing:border-box;">
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/anfendexin" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/user-64.png" type="image/png" data-filename="user-64.png" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/anfendexin" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">卟安分的芯</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  2016年11月23日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">楼主，请问：用div做编辑器，怎么获取并设置编辑器中选中部分的样式，十万火急，求赐教~~</p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                


            </div>
        <span style="display:block;clear:both;"></span></div>
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/monkeyfigaro" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/1349208230-56a1a401eea2e_big64.jpg" type="image/jpeg" data-filename="1349208230-56a1a401eea2e_big64.jpg" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/monkeyfigaro" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">MonkeyFigaro</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  2017年01月20日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">非常感谢～</p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                


            </div>
        <span style="display:block;clear:both;"></span></div>
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/277709" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/user-64 [1].png" type="image/png" data-filename="user-64.png" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/277709" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">方可</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  2017年07月12日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">遇到了range.startContainer 不是 textNode[/笑哭]</p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                <div style="box-sizing:border-box;margin-top:10px;font-size:13px;background-color:rgb(250, 250, 250);padding:0px 10px;color:rgb(102, 102, 102);">

                    
                        <div style="box-sizing:border-box;padding-bottom:10px;padding-top:10px;border-bottom:1px dashed rgba(0, 0, 0, 0.0901961);word-break:break-word;">
                            <span style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;float:left;position:absolute;">
                                <span style="box-sizing:border-box;margin-right:20px;">
                                    <span style="box-sizing:border-box;color:rgb(158, 158, 158);visibility:hidden;">
                                        0
                                    </span>
                                    <i style="font-weight:normal;box-sizing:border-box;font-stretch:normal;-webkit-font-smoothing:antialiased;font-style:normal;font-variant:normal;text-rendering:auto;display:inline-block;line-height:1;font-family:FontAwesome;font-size:inherit;visibility:hidden;margin-left:5px;"><span style="visibility:hidden;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                                </span>
                            </span>

                            <div style="box-sizing:border-box;margin-left:40px;">
                                <div style="box-sizing:border-box;display:inline-block;"><p style="box-sizing:border-box;margin:0px 0px 10px;margin-bottom:5px;">这个可以分两种情况 , 根据父节点循环判定来算出offset就可以了 , 不知道有没有更好的办法</p></div>
                                <div style="box-sizing:border-box;">
                                    <div style="box-sizing:border-box;position:relative;margin-bottom:0px;">
                                        
                                    </div>
                                </div>
                                <div style="box-sizing:border-box;display:inline-block;">
                                    

                                    <span style="box-sizing:border-box;visibility:hidden;float:right;margin-left:15px;">
                                                                                                                                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报">
                                            <span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span>
                                        </a>
                                    </span>

                                    <span style="box-sizing:border-box;display:inline-block;color:rgb(153, 153, 153);">
                                        <span style="box-sizing:border-box;"> — </span>
                                        <a href="https://segmentfault.com/u/deepkolos" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">
                                            <strong style="box-sizing:border-box;font-weight:bold;">deepkolos</strong>
                                        </a> 
                                         
                                        <span style="box-sizing:border-box;">  ·  2017年07月25日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div style="box-sizing:border-box;padding-bottom:10px;padding-top:10px;border-bottom:none;word-break:break-word;">
                        <a href="#" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        <span style="display:block;clear:both;"></span></div>
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/deepkolos" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/2770158088-595f62e864aeb_big64.jpg" type="image/jpeg" data-filename="2770158088-595f62e864aeb_big64.jpg" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/deepkolos" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">deepkolos</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  2017年07月25日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">刚到一个比较好的解决方案了<br style="box-sizing:border-box;"/><a href="https://stackoverflow.com/questions/2388164/set-focus-on-div-contenteditable-element" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;border-bottom:1px solid rgba(0, 154, 97, 0.247059);padding-bottom:1px;" target="_blank">https://stackoverflow.com/que...</a></p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                


            </div>
        <span style="display:block;clear:both;"></span></div>
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/woshinanfangdahan" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/3413739824-5a63203d03ca5_big64.png" type="image/png" data-filename="3413739824-5a63203d03ca5_big64.png" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/woshinanfangdahan" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">我是南方大汉</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  2017年09月12日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">楼主,我看了下你这插入的都是文本，能插入表情图片吗</p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                


            </div>
        <span style="display:block;clear:both;"></span></div>
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/yezi_58ba6b6073a7b" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/1880468728-58ba6c3c642f8_big64.jpg" type="image/jpeg" data-filename="1880468728-58ba6c3c642f8_big64.jpg" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/yezi_58ba6b6073a7b" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">叶子</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  1月24日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">edit.childNodes我在谷歌浏览器中测试，这个地方edit中没有childNodes，而edit[0]中有childNodes</p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                <div style="box-sizing:border-box;margin-top:10px;font-size:13px;background-color:rgb(250, 250, 250);padding:0px 10px;color:rgb(102, 102, 102);">

                    
                        <div style="box-sizing:border-box;padding-bottom:10px;padding-top:10px;border-bottom:1px dashed rgba(0, 0, 0, 0.0901961);word-break:break-word;">
                            <span style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;float:left;position:absolute;">
                                <span style="box-sizing:border-box;margin-right:20px;">
                                    <span style="box-sizing:border-box;color:rgb(158, 158, 158);visibility:hidden;">
                                        0
                                    </span>
                                    <i style="font-weight:normal;box-sizing:border-box;font-stretch:normal;-webkit-font-smoothing:antialiased;font-style:normal;font-variant:normal;text-rendering:auto;display:inline-block;line-height:1;font-family:FontAwesome;font-size:inherit;visibility:hidden;margin-left:5px;"><span style="visibility:hidden;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                                </span>
                            </span>

                            <div style="box-sizing:border-box;margin-left:40px;">
                                <div style="box-sizing:border-box;display:inline-block;"><p style="box-sizing:border-box;margin:0px 0px 10px;margin-bottom:5px;">发现了问题所在，如果edit使用jquery拿到的，那么childNodes在edit[0]中；如果是原生js拿到的，那么在edit里。好坑</p></div>
                                <div style="box-sizing:border-box;">
                                    <div style="box-sizing:border-box;position:relative;margin-bottom:0px;">
                                        
                                    </div>
                                </div>
                                <div style="box-sizing:border-box;display:inline-block;">
                                    

                                    <span style="box-sizing:border-box;visibility:hidden;float:right;margin-left:15px;">
                                                                                                                                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报">
                                            <span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span>
                                        </a>
                                    </span>

                                    <span style="box-sizing:border-box;display:inline-block;color:rgb(153, 153, 153);">
                                        <span style="box-sizing:border-box;"> — </span>
                                        <a href="https://segmentfault.com/u/yezi_58ba6b6073a7b" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">
                                            <strong style="box-sizing:border-box;font-weight:bold;">叶子</strong>
                                        </a> 
                                         
                                        <span style="box-sizing:border-box;">  ·  1月24日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div style="box-sizing:border-box;padding-bottom:10px;padding-top:10px;border-bottom:1px dashed rgba(0, 0, 0, 0.0901961);word-break:break-word;">
                            <span style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;float:left;position:absolute;">
                                <span style="box-sizing:border-box;margin-right:20px;">
                                    <span style="box-sizing:border-box;color:rgb(158, 158, 158);visibility:hidden;">
                                        0
                                    </span>
                                    <i style="font-weight:normal;box-sizing:border-box;font-stretch:normal;-webkit-font-smoothing:antialiased;font-style:normal;font-variant:normal;text-rendering:auto;display:inline-block;line-height:1;font-family:FontAwesome;font-size:inherit;visibility:hidden;margin-left:5px;"><span style="visibility:hidden;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                                </span>
                            </span>

                            <div style="box-sizing:border-box;margin-left:40px;">
                                <div style="box-sizing:border-box;display:inline-block;"><p style="box-sizing:border-box;margin:0px 0px 10px;margin-bottom:5px;">老铁你去了解下jquery对象以及Dom对象你就知道了</p></div>
                                <div style="box-sizing:border-box;">
                                    <div style="box-sizing:border-box;position:relative;margin-bottom:0px;">
                                        
                                    </div>
                                </div>
                                <div style="box-sizing:border-box;display:inline-block;">
                                    

                                    <span style="box-sizing:border-box;visibility:hidden;float:right;margin-left:15px;">
                                                                                                                                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报">
                                            <span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span>
                                        </a>
                                    </span>

                                    <span style="box-sizing:border-box;display:inline-block;color:rgb(153, 153, 153);">
                                        <span style="box-sizing:border-box;"> — </span>
                                        <a href="https://segmentfault.com/u/zi_5a6ae2f6e6224" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">
                                            <strong style="box-sizing:border-box;font-weight:bold;">橘子</strong>
                                        </a> 
                                         
                                        <span style="box-sizing:border-box;">  ·  1月26日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div style="box-sizing:border-box;padding-bottom:10px;padding-top:10px;border-bottom:none;word-break:break-word;">
                        <a href="#" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        <span style="display:block;clear:both;"></span></div>
                <div style="box-sizing:border-box;padding:15px 20px;border-bottom:1px solid rgba(0, 0, 0, 0.0901961);padding-left:0px;padding-right:0px;">
            <div style="box-sizing:border-box;float:left;">
                <a href="https://segmentfault.com/u/whatfuck" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank"><img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/user-64 [2].png" type="image/png" data-filename="user-64.png" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/></a>
            </div>
            <div style="box-sizing:border-box;padding-left:47px;">
                <div style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;margin-bottom:10px;">
                    <div style="box-sizing:border-box;visibility:hidden;float:right;">
                                                <a href="https://segmentfault.com/a/1190000005869372#911" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;margin-left:10px;" title="举报"><span style="box-sizing:border-box;position:relative;top:1px;display:inline-block;font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;"><span style="font-family:&quot;Glyphicons Halflings&quot;;font-style:normal;font-weight:normal;line-height:1;"></span></span></a>
                                            </div>
                    <strong style="box-sizing:border-box;font-weight:bold;"><a href="https://segmentfault.com/u/whatfuck" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;" target="_blank">whatfuck</a></strong>
                    
                    <span style="box-sizing:border-box;cursor:default;">  ·  1月31日</span>
                </div>

                <div style="box-sizing:border-box;line-height:1.6;word-wrap:break-word;margin-bottom:10px;"><span style="line-height:1.6;display:table;"> </span><p style="box-sizing:border-box;margin:1.5em 0px;margin-top:0px;margin-bottom:0px;">selection 这个知识点，以及removeAllRanges 帮到了我，谢谢</p><span style="line-height:1.6;display:table;clear:both;"> </span></div>

                <div style="box-sizing:border-box;">
                    <div style="box-sizing:border-box;margin-bottom:15px;position:relative;">
                        
                    </div>
                </div>

                <p style="box-sizing:border-box;margin:0px;color:rgb(153, 153, 153);font-size:13px;">
                    <span style="box-sizing:border-box;">
                        <i style="font-stretch:normal;box-sizing:border-box;display:inline-block;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;margin-right:4px;"><span style="font-style:normal;font-variant:normal;font-weight:normal;line-height:1;font-family:FontAwesome;font-size:inherit;"></span></i>
                        <span style="box-sizing:border-box;">赞</span>
                        <span style="box-sizing:border-box;color:rgb(0, 154, 97);"></span>
                    </span>
                    
                    <span style="box-sizing:border-box;margin-left:15px;">回复</span>

                    
                </p>

                


            </div>
        <span style="display:block;clear:both;"></span></div>
            </div>
    
        
    

                                    <div style="box-sizing:border-box;background:rgb(250, 250, 250);box-shadow:rgba(0, 0, 0, 0.0901961) 0px 1px 0px 0px;border-radius:2px 2px 0px 0px;padding:15px 20px;border-top:1px solid rgba(0, 0, 0, 0.0901961);margin-top:-1px;">
                <div style="box-sizing:border-box;float:left;">
                    <img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/user-128.png" type="image/png" data-filename="user-128.png" alt="" height="32" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:32px;height:32px;" width="32"/>
                </div>
                <div style="box-sizing:border-box;padding-left:47px;">
                    <div style="box-sizing:border-box;">
                        <div style="box-sizing:border-box;position:relative;margin-bottom:0px;">
                            
                            <div style="box-sizing:border-box;text-align:right;margin-top:15px;">
                                
                                
                            </div>
                        </div>
                    </div>
                </div>
            <span style="display:block;clear:both;"></span></div>
                                                        </div>
    </div>


                                    
                
            </div>


            <div style="box-sizing:border-box;position:relative;min-height:1px;padding-left:15px;padding-right:15px;float:left;width:100%;">
                
                
                
                                
                <div style="box-sizing:border-box;margin-bottom:25px;"></div>
                
                <div style="box-sizing:border-box;margin:0px 0px 25px;border-top:1px solid rgb(238, 238, 238);border:1px solid rgb(221, 221, 221);padding:15px;box-shadow:rgba(0, 0, 0, 0.0470588) 0px 1px 1px 0px;border-radius:3px;padding-top:30px;">
                    <div style="box-sizing:border-box;border-bottom:1px solid rgb(238, 238, 238);padding-bottom:15px;">
                                                    
                        
                        <div style="box-sizing:border-box;">
                            <a href="https://segmentfault.com/u/yinjiandexiaofengdee" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;display:inline-block;">
                                <img src="html元素contenteditable属性如何定位光标和设置光标 - 很有价值的HTM_files/user-64 [3].png" type="image/png" data-filename="user-64.png" alt="吟渐的小风dee" height="40" style="box-sizing:border-box;border:0px;vertical-align:middle;border-radius:50%;width:40px;height:40px;float:left;margin-right:10px;" width="40"/>
                            </a>
                            <a href="https://segmentfault.com/u/yinjiandexiaofengdee" style="display:inline-block;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;box-sizing:border-box;text-overflow:ellipsis;width:90px;overflow:hidden;white-space:nowrap;line-height:1;">
                                <strong style="box-sizing:border-box;font-weight:bold;">吟渐的小风dee</strong>
                            </a>
                            <p style="box-sizing:border-box;margin:0px 0px 10px;font-size:13px;color:rgb(153, 153, 153);margin-bottom:0px;">
                                <span style="box-sizing:border-box;">141 声望</span>

                            </p>


                        </div>


                    </div>
                                        <div style="box-sizing:border-box;">
                        <p style="box-sizing:border-box;margin:0px 0px 10px;font-size:13px;color:rgb(153, 153, 153);margin-top:15px;margin-bottom:5px;">发布于专栏</p>

                        <h4 style="box-sizing:border-box;font-family:inherit;font-weight:500;line-height:1.2;color:inherit;margin-top:10px;margin-bottom:10px;font-size:16px;"><a href="https://segmentfault.com/blog/fengdeebb" style="box-sizing:border-box;background:transparent;color:rgb(0, 154, 97);text-decoration:none;outline:0px;word-break:break-all;">很有价值的HTML前端开发</a></h4>
                        <p style="box-sizing:border-box;margin:0px 0px 10px;font-size:14px;color:rgb(102, 102, 102);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-bottom:15px;">很有价值的前端问题</p>

                        <p style="box-sizing:border-box;margin:0px 0px 10px;">
                            <span style="box-sizing:border-box;font-size:13px;color:rgb(153, 153, 153);">1 人关注</span>
                            
                                                                    
                                
                                                    </p>

                    </div>
                    

                </div>
                
                
                                <div style="box-sizing:border-box;margin-bottom:25px;position:relative;top:0px;display:block;"></div>
 
                

                
            </div>
        <span style="display:table;clear:both;"> </span></div>
    <span style="display:table;clear:both;"> </span></div>
</div></div></div></div><br/></div></span>
</div></body></html> 