<html>
<head>
  <title>mysql时间相减的问题(bug) - MKing's Blog - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7851"/>
<h1>mysql时间相减的问题(bug) - MKing's Blog - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/11/6 16:54</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/yzsind/article/details/8831429"><i>http://blog.csdn.net/yzsind/article/details/8831429</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="background-image:url(http://static.blog.csdn.net/skin/default/images/body_bg.gif);color:rgb(51, 51, 51);text-align:center;font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background-position:0px 20px;background-repeat:repeat no-repeat;"><div style="background-image:url(http://static.blog.csdn.net/skin/default/images/head_bg.jpg);background-position:50% 0%;background-repeat:no-repeat no-repeat;"><div style="overflow:hidden;background-color:rgb(255, 255, 255);border-top-left-radius:8px;border-top-right-radius:8px;border-bottom-right-radius:8px;border-bottom-left-radius:8px;text-align:left;"><div style="overflow:hidden;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;"><div><div><div style="font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:26px;font-family:Arial;">
<h2 align="center" style="margin:0px;padding:0px;">mysql时间相减的问题(bug)</h2><p>    今天看到宁青同学的一条<a href="http://photo.weibo.com/1838626247/wbphotos/large/photo_id/3569531425284619?refer=weibofeedv5" style="color:rgb(51, 102, 153);text-decoration:none;" target="_blank">微博</a>，提到mysql日期相减的错误结果，以前没有怎么注意，于是测试了一下，发现确实很坑爹，很容易踩雷，于是整理博客提醒一下大家。<br/>先看一下错误的现象如下，第1条正确，第2，3条的t2-t1不正确：</p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;padding:3px 8px 10px 10px;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-style:normal;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[sql]</b> <a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);" title="view plain">view plain</a><a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);" title="copy">copy</a><div style="position:absolute;left:547px;top:513px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1" style="padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);margin:0px 0px 1px 45px;"><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">select</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> t1,t2,t2-t1 </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">from</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| t1                  | t2                  | t2-t1 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 16:59:43 |    10 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 17:00:33 |  4100 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 17:59:35 | 10002 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">3 <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">rows</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">in</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">set</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li></ol></div><p><br/>全部测试脚本如下：</p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;padding:3px 8px 10px 10px;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-style:normal;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[sql]</b> <a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);" title="view plain">view plain</a><a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);" title="copy">copy</a><div style="position:absolute;left:547px;top:796px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1" style="padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);margin:0px 0px 1px 45px;"><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">--创建表</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">CREATE</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">TABLE</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest (  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  t1 datetime,  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  t2 datetime  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">Query OK, 0 <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">rows</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> affected  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">--插入测试记录</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">insert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">into</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest(t1,t2) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">values</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'2013-04-21 16:59:33'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">,</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'2013-04-21 16:59:43'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">Query OK, 1 row affected  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">insert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">into</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest(t1,t2) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">values</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'2013-04-21 16:59:33'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">,</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'2013-04-21 17:00:33'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">Query OK, 1 row affected  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">insert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">into</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest(t1,t2) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">values</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'2013-04-21 16:59:33'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">,</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'2013-04-21 17:59:35'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">Query OK, 1 row affected  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">--验证结果</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">select</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> t1,t2,t2-t1 </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">from</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| t1                  | t2                  | t2-t1 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 16:59:43 |    10 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 17:00:33 |  4100 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 17:59:35 | 10002 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">3 <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">rows</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">in</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">set</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li></ol></div><p><br/>实际是mysql的时间相减是做了一个隐式转换操作，将时间转换为整数，但并不是用unix_timestamp转换，而是直接把年月日时分秒拼起来，如2013-04-21 16:59:33 直接转换为20130421165933，由于时间不是十进制，所以最后得到的结果没有意义，这也是导致上面出现坑爹的结果。</p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;padding:3px 8px 10px 10px;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-style:normal;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[sql]</b> <a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);" title="view plain">view plain</a><a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);" title="copy">copy</a><div style="position:absolute;left:547px;top:1419px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1" style="padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);margin:0px 0px 1px 45px;"><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">select</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> t1,  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       t2,  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(255, 20, 147);">convert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(t1, UNSIGNED </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">INTEGER</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) ct1,  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(255, 20, 147);">convert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(t2, UNSIGNED </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">INTEGER</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) ct2,  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       t2-t1,  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(255, 20, 147);">convert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(t2, UNSIGNED </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">INTEGER</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) -</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(255, 20, 147);">convert</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(t1, UNSIGNED </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">INTEGER</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) diff0  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">from</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest;   </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">-------------------+-------------------+--------------+--------------+-----+-----+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">|t1                 |t2                 |ct1           |ct2           |t2-t1|diff0|  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">-------------------+-------------------+--------------+--------------+-----+-----+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">|2013-04-21 16:59:33|2013-04-21 16:59:43|20130421165933|20130421165943|   10|   10|  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">|2013-04-21 16:59:33|2013-04-21 17:00:33|20130421165933|20130421170033| 4100| 4100|  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">|2013-04-21 16:59:33|2013-04-21 17:59:35|20130421165933|20130421175935|10002|10002|  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">-------------------+-------------------+--------------+--------------+-----+-----+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">3 <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">rows</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">in</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">set</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li></ol></div><p><br/>要得到正确的时间相减秒值，有以下3种方法：<br/>1、time_to_sec(timediff(t2, t1)),<br/>2、timestampdiff(second, t1, t2),<br/>3、unix_timestamp(t2) -unix_timestamp(t1)<br/></p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;padding:3px 8px 10px 10px;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-style:normal;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[sql]</b> <a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);" title="view plain">view plain</a><a href="http://blog.csdn.net/yzsind/article/details/8831429#" style="background-color:inherit;color:rgb(160, 160, 160);background-position:0% 0%;border:none;padding:1px;margin:0px;font-size:9px;text-decoration:none;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-repeat:no-repeat no-repeat;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);" title="copy">copy</a><div style="position:absolute;left:547px;top:1888px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></div></div><ol start="1" style="padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);margin:0px 0px 1px 45px;"><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">--测试脚本</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">mysql&gt; <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">select</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> t1,  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       t2,  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       t2-t1,  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       time_to_sec(timediff(t2, t1)) diff1,  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       timestampdiff(<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">second</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, t1, t2) diff2,  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       unix_timestamp(t2) -unix_timestamp(t1) diff3  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">from</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> mytest;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+-------+-------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| t1                  | t2                  | t2-t1 | diff1 | diff2 | diff3 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+-------+-------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 16:59:43 |    10 |    10 |    10 |    10 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 17:00:33 |  4100 |    60 |    60 |    60 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">| 2013-04-21 16:59:33 | 2013-04-21 17:59:35 | 10002 |  3602 |  3602 |  3602 |  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;background-color:rgb(255, 255, 255);color:inherit;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+<span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">---------------------+---------------------+-------+-------+-------+-------+</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">3 <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">rows</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">in</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">set</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li></ol></div><p><br/>这个问题2003年就有人在mysql4.0的版本时<a href="http://bugs.mysql.com/bug.php?id=882" style="color:rgb(51, 102, 153);text-decoration:none;" target="_blank">反馈</a>，但mysql官方并不认为是bug，因为他们认为mysql并不支持时间直接相减操作，应该用专用函数处理，所以一直没有修正。但我认为这个很容易导致使用错误，要么就直接报错，要么显示正确的结果。<br/></p><p>我的新浪微博 <a href="http://weibo.com/yzsind" style="color:rgb(51, 102, 153);text-decoration:none;" target="_blank">http://weibo.com/yzsind</a></p>    
        <div style="padding-top:20px;">         
            <p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>
</div></div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 