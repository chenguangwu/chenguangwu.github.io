<html>
<head>
  <title>Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="11840"/>
<h1>Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/8/2 10:56</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.cnblogs.com/xd502djj/archive/2011/05/03/2035599.html"><i>http://www.cnblogs.com/xd502djj/archive/2011/05/03/2035599.html</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px"><div><div style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;line-height:1.5;background:url(http://www.cnblogs.com/skins/StylePink/images/bg_footer.gif) 100% 100% no-repeat;"><div style="background:transparent;"><div style="background:transparent;"><div><div><div><div style="font-size:14px;overflow:hidden;word-break:break-all;background:url(http://www.cnblogs.com/skins/StylePink/images/bg_post.gif) 100% 0% no-repeat;"><div style="word-break:break-word;line-height:1.8;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:5501px;"><p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:175px;"><span style="font-weight:bold;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">1.uptime命令</span><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>输出:16:11:40 up 59 days, 4:21, 2 users, load average: 0.00, 0.01, 0.00<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><span style="font-weight:bold;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">2.查看/proc/uptime文件计算系统启动时间</span><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>cat /proc/uptime<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>输出: 5113396.94 575949.85<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>第一数字即是系统已运行的时间5113396.94 秒，运用系统工具date即可算出系统启动时间</p>
<dl style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:50px;"><dt style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;">代码: <a href="http://bbs.freesinno.com/viewtopic.php?t=66" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">全选</a> </dt><dd style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:984px;height:25px;"><code style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-family:NSimsun;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">date -d &quot;$(awk -F. '{print $1}' /proc/uptime) second ago&quot; +&quot;%Y-%m-%d %H:%M:%S&quot;</span></code></dd></dl>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:100px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>输出: 2008-11-09 11:50:31<br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><span style="font-weight:bold;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">3.查看/proc/uptime文件计算系统运行时间</span></p>
<dl style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:75px;"><dt style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;">代码: <a href="http://bbs.freesinno.com/viewtopic.php?t=66" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">全选</a> </dt><dd style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:984px;height:50px;"><code style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-family:NSimsun;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">cat /proc/uptime| awk -F. '{run_days=$1 / 86400;run_hour=($1 % 86400)/3600;run_minute=($1 % 3600)/60;run_second=$1 % 60;printf(&quot;系统已运行：%d天%d时%d分%d秒&quot;,run_days,run_hour,run_minute,run_second)}'</span></code></dd></dl>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:50px;"><br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>输出:系统已运行：59天4时13分9秒</p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;">下面的摘自 <a href="http://www.cnblogs.com/kerrycode/p/3759395.html" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">http://www.cnblogs.com/kerrycode/p/3759395.html</a> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">1：<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> who<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 命令查看</span></span></strong></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">      who -b 查看最后一次系统启动的时间。</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">      who -r 查看当前系统运行时间</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">[root@DB-Server ~]# who -b</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">         system boot May 11 09:27</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:135px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621007132801.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621014788699.png" type="image/png" data-filename="291621014788699.png" alt="clipboard" border="0" height="135" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:135px;" title="clipboard" width="604"/></a></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:108px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621029636913.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621045098641.png" type="image/png" data-filename="291621045098641.png" alt="clipboard[1]" border="0" height="108" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:108px;" title="clipboard[1]" width="604"/></a></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">2： last  reboot</strong></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">如下所示last reboot可以看到Linux系统历史启动的时间。 重启一下操作系统后，然后</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">[root@DB-Server ~]# last reboot</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">reboot</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> system<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> boot<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 2.6.9-42.ELsmp<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> Thu<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> May<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 29 15:25 (00:07)</span></span></span></span></span></span></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">reboot system boot 2.6.9-42.ELsmp Sun May 11 09:27 (18+05:55)</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">wtmp begins Mon May 5 16:18:57 2014</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:168px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621061348111.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621085883695.png" type="image/png" data-filename="291621085883695.png" alt="clipboard[2]" border="0" height="168" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:168px;" title="clipboard[2]" width="604"/></a></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">如果只需要查看最后一次Linux系统启动的时间</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">[root@DB-Server ~]# last reboot | head -1</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">reboot</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> system<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> boot<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 2.6.9-42.ELsmp<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> Thu<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> May<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 29 15:25 (00:08) </span></span></span></span></span></span></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">3：TOP命令查看</strong></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">    如下截图所示，up后表示系统到目前运行了多久时间。反过来推算系统重启时间</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:240px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621108536335.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621114479220.png" type="image/png" data-filename="291621114479220.png" alt="clipboard[3]" border="0" height="232" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:232px;" title="clipboard[3]" width="604"/></a></span><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">4：w  命令查看</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">4： w命令查看</strong></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">如下截图所示，up后表示系统到目前运行了多久时间。反过来推算系统重启时间</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:177px;"><code style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621129475962.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621151346562.png" type="image/png" data-filename="291621151346562.png" alt="clipboard[4]" border="0" height="177" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:177px;" title="clipboard[4]" width="604"/></a></span></code></pre>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">5：uptime 命令查看</strong></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:129px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621165258102.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621186197730.png" type="image/png" data-filename="291621186197730.png" alt="clipboard[5]" border="0" height="129" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:129px;" title="clipboard[5]" width="604"/></a></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">6： 查看/proc/uptime</strong></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">[root@DB-Server ~]# cat /proc/uptime</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">1415.59 1401.42</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">[root@DB-Server ~]# date -d &quot;`cut -f1 -d. /proc/uptime` seconds ago&quot;</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">Thu May 29 15:24:57 CST 2014</span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">[root@DB-Server ~]# date -d &quot;$(awk -F. '{print $1}' /proc/uptime) second ago&quot; +&quot;%Y-%m-%d %H:%M:%S&quot; </span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:50px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> <br style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>2014-05-29 15:24:57</span></span></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:149px;"><span style="font-family:宋体;color:#000000;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="http://images.cnitblog.com/blog/73542/201405/291621202283971.png" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/291621211976042.png" type="image/png" data-filename="291621211976042.png" alt="clipboard[6]" border="0" height="149" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:604px;height:149px;" title="clipboard[6]" width="604"/></a></span></pre>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> 下面的是程序的方式 ，在程序开发的时候会比较有用。摘自<a href="http://www.cnblogs.com/Anker/p/3527609.html" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">http://www.cnblogs.com/Anker/p/3527609.html</a></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"> </p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">1、前言</strong></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:50px;">　　时间对操作系统来说非常重要，从内核级到应用层，时间的表达方式及精度各部相同。linux内核里面用一个名为jiffes的常量来计算时间戳。应用层有time、getdaytime等函数。今天需要在应用程序获取系统的启动时间，百度了一下，通过sysinfo中的uptime可以计算出系统的启动时间。</p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">2、sysinfo结构</strong></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;">　　sysinfo结构保持了系统启动后的信息，主要包括启动到现在的时间，可用内存空间、共享内存空间、进程的数目等。man<span style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> sysinfo得到结果如下所示：</span></p>
<div style="font-size:12px;border:1px solid rgb(204, 204, 204);overflow:auto;margin:0px;color:rgb(0, 0, 0);font-family:'Courier New';padding:5px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:1012px;height:352px;"><div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode.gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div>
<div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [1].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div>
<pre style="border:0px none rgb(0, 0, 0);word-wrap:break-word;width:1012px;box-shadow:none;margin-top:0px;margin-bottom:0px;white-space:pre-wrap;background-color:rgba(0, 0, 0, 0);background-image:none;font-size:12px;font-family:'Courier New';height:252px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 1 struct sysinfo {
 2                long uptime;             /* Seconds since boot */
 3                unsigned long loads[3];  /* 1, 5, and 15 minute load averages */
 4                unsigned long totalram;  /* Total usable main memory size */
 5                unsigned long freeram;   /* Available memory size */
 6                unsigned long sharedram; /* Amount of shared memory */
 7                unsigned long bufferram; /* Memory used by buffers */
 8                unsigned long totalswap; /* Total swap space size */
 9                unsigned long freeswap;  /* swap space still available */
10                unsigned short procs;    /* Number of current processes */
11                char _f[22];             /* Pads structure to 64 bytes */
12            };</strong></pre>
<div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [2].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div>
<div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [3].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">3、获取系统启动时间</strong></p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;">　　通过sysinfo获取系统启动到现在的秒数，用当前时间减去这个秒数即系统的启动时间。程序如下所示：</p>
<div style="font-size:12px;border:1px solid rgb(204, 204, 204);overflow:auto;margin:0px;color:rgb(0, 0, 0);font-family:'Courier New';padding:5px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:1012px;height:856px;"><div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [4].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div>
<div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [5].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div>
<pre style="border:0px none rgb(0, 0, 0);word-wrap:break-word;width:1012px;box-shadow:none;margin-top:0px;margin-bottom:0px;white-space:pre-wrap;background-color:rgba(0, 0, 0, 0);background-image:none;font-size:12px;font-family:'Courier New';height:756px;"><strong style="border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"> 1 #include &lt;stdio.h&gt;
 2 #include &lt;sys/sysinfo.h&gt;
 3 #include &lt;time.h&gt;
 4 #include &lt;errno.h&gt;
 5 
 6 static int print_system_boot_time()
 7 {
 8     struct sysinfo info;
 9     time_t cur_time = 0;
10     time_t boot_time = 0;
11     struct tm *ptm = NULL;
12     if (sysinfo(&amp;info)) {
13     fprintf(stderr, &quot;Failed to get sysinfo, errno:%u, reason:%s\n&quot;,
14         errno, strerror(errno));
15     return -1;
16     }
17     time(&amp;cur_time);
18     if (cur_time &gt; info.uptime) {
19     boot_time = cur_time - info.uptime;
20     }
21     else {
22     boot_time = info.uptime - cur_time;
23     }
24     ptm = gmtime(&amp;boot_time);
25     printf(&quot;System boot time: %d-%-d-%d %d:%d:%d\n&quot;, ptm-&gt;tm_year + 1900,
26         ptm-&gt;tm_mon + 1, ptm-&gt;tm_mday, ptm-&gt;tm_hour, ptm-&gt;tm_min, ptm-&gt;tm_sec);
27    return 0; 
28 }
29 
30 int main()
31 {
32     if (print_system_boot_time() != 0) {
33     return -1;
34     }
35     return 0;
36 }</strong></pre>
<div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [6].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div>
<div style="background-color:rgb(245, 245, 245);margin:0px;border:0px none rgb(0, 0, 0);background-image:none;box-shadow:none;width:1012px;height:25px;"><span style="padding-right:5px;font-family:'Courier New';font-size:12px;line-height:1.5;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><a href="#" style="color:rgb(51, 51, 51);text-decoration:none;border:0px none rgb(255, 51, 102);background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;" title="复制代码"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/copycode [7].gif" type="image/gif" data-filename="copycode.gif" alt="复制代码" height="20" style="border:0px none rgb(255, 51, 102);max-width:900px;background-color:rgb(245, 245, 245);background-image:none;box-shadow:none;width:20px;height:20px;" width="20"/></a></span></div></div>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:25px;">测试结果如下所：</p>
<p style="margin:10px auto;text-indent:0px;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:1024px;height:57px;"><img src="Linux下如何查看系统启动时间和运行时间 - 茄子_2008 - 博客园_files/202253480780.png" type="image/png" data-filename="202253480780.png" alt="" height="57" style="border:0px none rgb(0, 0, 0);max-width:900px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:501px;height:57px;" width="501"/></p></div></div></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 