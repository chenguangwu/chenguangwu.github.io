<html>
<head>
  <title>关于mybatis中llike模糊查询中#和$的使用 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="4977"/>
<h1>关于mybatis中llike模糊查询中#和$的使用 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/6/1 17:39</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://blog.csdn.net/u010398771/article/details/70768280"><i>https://blog.csdn.net/u010398771/article/details/70768280</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;background:url(https://csdnimg.cn/release/phoenix/themes/skin-yellow/images/bg.png) repeat;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;color:rgb(51, 51, 51);"><div style="outline:0px;box-sizing:content-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;">
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:16px;">
			<span style="border-radius:50%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;font-size:12px;outline:0px;box-sizing:inherit;border:1px solid rgb(244, 206, 208);color:rgb(202, 12, 22);margin-right:8px;margin-top:4px;float:left;">原</span>		<h1 style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:24px;word-break:break-all;">关于mybatis中llike模糊查询中#和$的使用</h1>
	</div>
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:14px;border-bottom:1px solid rgb(227, 227, 227);">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;color:rgb(133, 133, 133);display:flex;">
												<span style="box-sizing:inherit;outline:0px;margin-right:14px;">2017年04月25日 22:55:58</span>
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-left:auto;float:right;">
				<span style="box-sizing:inherit;outline:0px;margin-right:14px;">阅读数：28193</span>
											</div>
		</div>
	</div>
	<div style="box-sizing:inherit;outline:0px;display:block;position:relative;padding-top:16px;">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;word-break:break-all;">
                    
            <div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;word-break:break-all;">
                
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">在mybatis中经常要写到like 查询,以前从来没有遇到什么问题,突然遇到一个问题,找了好长时间没找到,最后找到了,是关于#和$的使用的,总结如下:<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">name like  表达式    and    falg=#{falg}</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">本次示例中共两个条件,一个是name  like  表达式, 还有flag相等,这个是使用#{}占位符,没有任何问题,关键问题就是 表达式的书写.下面来研究下表达式的书写:</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">如果写成'%#{name}%' ,就会报错<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#004080;">Parameter index out of range (2&gt; number of parameters, which is 1). </span>这个错误,就是参数的问题,所以就查阅了一下资料,然后结合自己的实践,得到总结如下:</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#004080;">本次使用 mysql 5.5.27和mybatis3.2.7进行测试</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"> </p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">1.</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">表达式</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">: name like<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">&quot;%&quot;#{name}&quot;%&quot;</span></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;  </span>Preparing: select * from bbs_brand WHERE namelike<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">&quot;%&quot;?&quot;%&quot;</span>and falg=? limit 0 , 10</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;Parameters: </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">(String), 1(Integer)</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">能够查询出来</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">没有问题</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">这是使用了占位符来占位</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">写成</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">SQL</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">就是</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">:
 name like &quot;%&quot;'</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">'&quot;%&quot;</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">没有问题</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"> </span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">2.</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">表达式</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">: name like </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">'%${name}%'</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">Preparing:select count(0) from (select * from bbs_brand WHERE name like<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">'%</span></span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">%'</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">
 and falg=?) as total</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">Parameters: 1(Integer)</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">使用</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">$</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">进行字符串的拼接</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">直接把传入的值</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">拼接上去了</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">没有任何问题</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"> </span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">3. </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">表达式</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">: name like<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">concat(concat('%',#{username}),'%')</span></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;  </span>Preparing: select count(0) from (select *from bbs_brand WHERE name like</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"> </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">concat(concat('%',?),'%')</span> and falg=?) as total</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;Parameters: </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">(String), 1(Integer)</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">这是使用了</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">cancat</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">进行字符串的连接</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">同时使用了</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">#</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">进行占位</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">转换成</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">SQL</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">就是</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">: name like CONCAT(CONCAT('%','</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">'),'%')</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"> </span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">3. </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">表达式</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">:name like </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">CONCAT('%','${name}','%')</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;  </span>Preparing: select count(0) from (select *from bbs_brand WHERE name like<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">CONCAT('%','</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">','%')</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">
 and falg=?) astotal</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;Parameters: 1(Integer)</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">对上面的表达式进行了简化</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">更方便了</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"> </span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">4. </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">表达式</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">:name like<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;"> </span>'%'||#{name}||'%'</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">这个不能满足要求</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">直接把数据库中的所有数据查询出来了</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">不符合我的要求</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">,</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">在</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">mysql</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">中</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">||</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">代表是</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">or</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;background:#FFFF00;">的意思</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;  </span>Preparing: select count(0) from (select *from bbs_brand WHERE name like<span style="outline:0px;box-sizing:border-box;word-break:break-all;background:#FFFF00;">'%'||?||'%'</span> and falg=?) as total</p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">==&gt;Parameters: </span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">莲</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">(String), 1(Integer)</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">关于$和#使用的第二个问题:</span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"></span></p>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">接口中方法:void deleteBrandByIds(@Param(&quot;ids&quot;)String  ids);<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
xml中:&lt;!-- brand delete  --&gt;
<blockquote dir="ltr" style="display:block;word-break:break-all;outline:0px;padding:0px;margin:0px 0px 24px;box-sizing:border-box;font-size:16px;line-height:26px;font-weight:400;color:rgb(79, 79, 79);margin-right:0px;"><span style="font-size:16px;line-height:26px;font-weight:400;color:rgb(79, 79, 79);"></span>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">&lt;delete id=&quot;deleteBrandByIds&quot;&gt;<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
         &lt;!-- update bbs_brand set is_display=0 where id IN <strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;">(#{ids})</strong> --&gt;</div>
<span style="font-size:16px;line-height:26px;font-weight:400;color:rgb(79, 79, 79);"></span></blockquote>
<div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;text-indent:2em;">update bbs_brand set is_display=0 where id IN<strong style="outline:0px;box-sizing:border-box;font-weight:700;word-break:break-all;"> (${ids})<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
这里只能够使用$ 进行字符串的拼接,而不是#.<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
当我们传入的字符串是1,3,5,7的时候,用#只能删除id为1的品牌,其他的就不能删除了,这是因为,使用了#,就是一个占位符了,经过编译后是<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
where id in(?)   加入字符串后是 where id in('1,3,5,7') 这种,在SQL中就只会删除一个,我们来看SQL的执行效果<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></strong></div>
<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></div>
也是只是删除一条记录的,
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">所以如果想使用#,请在xml中使用动态的SQL,,传递的参数使用List&lt;String&gt;来进行循环遍历.<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;">https://item.taobao.com/item.htm?spm=a1z10.1-c.w4004-18045781879.2.33c5236bZlPDUM&amp;id=569353717228<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
深入理解Java虚拟机（jvm性能调优+内存模型+虚拟机原理）   很不错的虚拟机视频教程.<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></p>
<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:#000000;"><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></span></p>
            </div>
                <span style="display:block;clear:both;"></span></div>
				
        	</div>
	
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:16px;margin-top:36px;border-bottom:1px solid rgb(227, 227, 227);">
				<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;color:rgb(153, 153, 153);">
			版权声明：本文为博主原创文章,欢迎大家讨论,未经博主允许不得转载.			https://blog.csdn.net/u010398771/article/details/70768280		</div>
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:8px;font-size:12px;margin-top:18px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">文章标签：</span>
						<a href="http://so.csdn.net/so/search/s.do?q=mybatis&amp;t=blog" style="color:rgb(77, 77, 77);cursor:pointer;text-decoration:none;outline:0px;box-sizing:inherit;display:inline-block;word-break:break-all;border:1px solid rgb(204, 204, 204);border-radius:100px;padding:0px 8px;text-align:center;line-height:24px;min-width:24px;height:24px;margin-right:8px;" target="_blank">mybatis						</a><a href="http://so.csdn.net/so/search/s.do?q=#&amp;t=blog" style="color:rgb(77, 77, 77);cursor:pointer;text-decoration:none;outline:0px;box-sizing:inherit;display:inline-block;word-break:break-all;border:1px solid rgb(204, 204, 204);border-radius:100px;padding:0px 8px;text-align:center;line-height:24px;min-width:24px;height:24px;margin-right:8px;" target="_blank">#						</a>
		</div>
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;margin-bottom:0px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">个人分类：</span>
						<a href="https://blog.csdn.net/u010398771/article/category/7532750" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">mybatis						</a>
		</div>
					</div>
	
	
		</div></span></div></div></div></div>
</div>
</span>
</div></body></html> 