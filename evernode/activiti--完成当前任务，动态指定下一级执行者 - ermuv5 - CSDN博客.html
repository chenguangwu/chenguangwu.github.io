<html>
<head>
  <title>activiti--完成当前任务，动态指定下一级执行者 - ermuv5 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10321"/>
<h1>activiti--完成当前任务，动态指定下一级执行者 - ermuv5 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/1/25 16:28</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://blog.csdn.net/lovemenghaibin/article/details/50988971"><i>https://blog.csdn.net/lovemenghaibin/article/details/50988971</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;outline:0px;text-size-adjust:100%;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;color:rgba(0, 0, 0, 0.75);font-variant-ligatures:common-ligatures;line-height:1.625;-webkit-font-smoothing:antialiased;tab-size:4;"><div style="-webkit-font-smoothing:antialiased;min-width:1200px;box-sizing:inherit;outline:0px;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size:14px;line-height:1.625;background-color:rgb(245, 246, 247);color:rgba(0, 0, 0, 0.75);font-variant-ligatures:common-ligatures;tab-size:4;"><div style="box-sizing:border-box;outline:0px;"><span style="box-sizing:inherit;outline:0px;"><div style="background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.05) 0px 2px 4px 0px;box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;"><div style="overflow-wrap:break-word;box-sizing:inherit;outline:0px;"><div style="overflow-wrap:break-word;box-sizing:inherit;outline:0px;word-break:break-word;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;">
							
							
							<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;">最近在做一个工作流审批的项目，类似与申请一个请假，但是在完成任务的时候需要动态指定下一级人物，在最开始了解的时候，书上都是直接根据taskId来完成，后来终于实现了这个动态指定下一级处理人的功能。 <br style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;"/>
我们的项目是这么一个流程 <br style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;"/>
<img src="activiti--完成当前任务，动态指定下一级执行者 - ermuv5 - CSDN博客_files/20160326212552799.png" type="image/png" data-filename="20160326212552799.png" alt="工作流" height="222" style="overflow-wrap:break-word;cursor:zoom-in;box-sizing:border-box;outline:0px;border-style:none;margin:24px 0px;max-width:100%;" title="" width="632"/> <br style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;"/>
那么例如我是一个提交申请的人，例如是一个标准的请假，那么我需要完成当前的人物，还需要动态的指定下一级的是谁来审批，可是有一个前提，那就是我是不知道是谁来完成我的审批，我只需要直接提交申请的就可以。那如果我们是对工作流信息进行审批的人呢，今天我们就看一下activiti的TaskListener。</p>



<h1 style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:8px 0px 16px;font-size:28px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(79, 79, 79);font-weight:700;line-height:36px;"><a name="t0" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;"></a>TaskListener</h1>

<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;">TaskListener,他类似与C#中委托的功能，他能准确的再你执行完成当人物的方法时去调用该接口中你需要执行的一个方法notify。而我就是在这个方法里边去指定的他的下一级是谁。下边我以学术审批的功能来将一下我是如何实现这个的。</p>

<h1 style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:8px 0px 16px;font-size:28px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(79, 79, 79);font-weight:700;line-height:36px;"><a name="t1" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;"></a>代码实现</h1>



<h2 style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:8px 0px 16px;font-size:24px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(79, 79, 79);font-weight:700;line-height:32px;"><a name="t2" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;"></a>添加Listener</h2>

<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;"><img src="activiti--完成当前任务，动态指定下一级执行者 - ermuv5 - CSDN博客_files/20160326213546457.png" type="image/png" data-filename="20160326213546457.png" alt="添加" height="447" style="overflow-wrap:break-word;cursor:zoom-in;box-sizing:border-box;outline:0px;border-style:none;margin:24px 0px;max-width:100%;" title="" width="944"/> <br style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;"/>
单机new按钮 <br style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;"/>
<img src="activiti--完成当前任务，动态指定下一级执行者 - ermuv5 - CSDN博客_files/20160326213643437.png" type="image/png" data-filename="20160326213643437.png" alt="添加2" height="184" style="overflow-wrap:break-word;cursor:zoom-in;box-sizing:border-box;outline:0px;border-style:none;margin:24px 0px;max-width:100%;" title="" width="829"/> <br style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;"/>
选择create，单机Select class，然后选择我们实现了TaskListener的类就可以了。</p>

<h2 style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:8px 0px 16px;font-size:24px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(79, 79, 79);font-weight:700;line-height:32px;"><a name="t3" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;"></a>代码</h2>

<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;">既然是完成，那么我们就直接来一个完成的代码</p>



<pre style="overflow-wrap:break-word;position:relative;overflow:auto hidden;box-sizing:border-box;outline:0px;padding:8px 16px 6px 56px;margin:0px 0px 24px;font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;background-color:rgb(246, 248, 250);border:none;font-size:14px;line-height:22px;color:rgb(0, 0, 0);margin-bottom:24px;"><code style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;background-color:rgb(246, 248, 250);display:block;padding:0px;color:rgb(79, 79, 79);font-size:14px;line-height:22px;overflow-x:auto;white-space:pre;border-radius:4px;text-size-adjust:none;background:rgb(250, 250, 250);">    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(155, 133, 157);font-size:inherit;">@Request<a href="https://www.baidu.com/s?wd=Map&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;font-size:inherit;" target="_blank">Map</a>ping</span>(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;/completeByTeacher&quot;</span>)
    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">public</span> String <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">throwApply</span>(HttpServletRequest request,
            HttpServletResponse response) {
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 1.获取页面上要处理的任务ID，按钮信息，评论信息</span>
         String userId = request.getParameter(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;usercode&quot;</span>);
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">//String userId = &quot;456&quot;;</span>
        String strTaskId = request.getParameter(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;taskId&quot;</span>);
        String isapprove = request.getParameter(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;msg&quot;</span>);
        String comment = request.getParameter(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;comment&quot;</span>);
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// String strTaskId = &quot;11209&quot;;</span>
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 将获取的任务id的字符串转换成数组</span>
        String[] taskIds = strTaskId.split(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;,&quot;</span>);

        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">try</span> {
            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.循环完成任務</span>
            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">for</span> (String taskId : taskIds) {
                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// String taskId=&quot;3212&quot;;</span>

                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.1根据人物ID查询流程实力ID</span>
                Task task = processEngine.getTaskService().createTaskQuery()
                        .taskId(taskId).singleResult();
                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 获取流程实例ID</span>
                String processInstance = task.getProcessInstanceId();
                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.2根据流程实例ID，人物ID，评论的消息，保存教师或者学术对与该学生申请的评论信息</span>
                processEngine.getTaskService().addComment(taskId,
                        processInstance, comment);

                EngineController engineController = <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">new</span> EngineController();
                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.3查询当前任务后边的连线名称</span>
                List&lt;String&gt; list = findOutComeListByTaskId(taskId);
                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">if</span> (list.size() &gt; <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 102, 102);font-size:inherit;">0</span> &amp;&amp; list != <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">null</span>) {
                    Map&lt;String, Object&gt; map = <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">new</span> HashMap&lt;String, Object&gt;();
                    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 如果是批准操作，则根据连线名称和当前的任务名称，完成操作。</span>
                    map.put(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;outcome&quot;</span>, isapprove);
                    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.4如果又连线名称，则根据连线和任务ID完成人物</span>
                    engineController.compalete(taskId, map);
                } <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">else</span> {
                    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.4如果只有任务id，连线没有名称，则直接完成当前任务,并修改用户的当前状态。</span>
                    intershipBean.updateUserInfoByID(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;itoo_intership&quot;</span>, userId,
                            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;1&quot;</span>);
                    processEngine.getTaskService().complete(taskId);

                }
            }
        } <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">catch</span> (Exception e) {
            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 报错</span>
            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">return</span> <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;redirect:/queryTaksByRole&quot;</span>;
        }
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">return</span> <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;redirect:/queryTaksByRole&quot;</span>;

    }</code><ul style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:8px 0px;margin:0px;list-style:none;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;position:absolute;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;font-size:16px;"><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">1</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">2</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">3</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">4</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">5</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">6</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">7</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">8</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">9</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">10</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">11</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">12</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">13</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">14</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">15</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">16</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">17</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">18</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">19</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">20</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">21</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">22</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">23</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">24</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">25</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">26</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">27</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">28</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">29</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">30</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">31</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">32</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">33</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">34</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">35</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">36</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">37</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">38</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">39</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">40</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">41</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">42</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">43</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">44</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">45</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">46</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">47</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">48</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">49</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">50</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">51</li></ul></pre>

<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;">上边是我的完成人物，但是我需要根据前台我选择的是通过或者驳回，来执行，那么我就需要判断我的这个任务之后的连线，很明显我的是一个通过和驳回，那么获取前台按钮的名称就可以了。然后去执行，那么我们的方法如下：</p>



<pre style="overflow-wrap:break-word;position:relative;overflow:auto hidden;box-sizing:border-box;outline:0px;padding:8px 16px 6px 56px;margin:0px 0px 24px;font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;background-color:rgb(246, 248, 250);border:none;font-size:14px;line-height:22px;color:rgb(0, 0, 0);margin-bottom:24px;"><code style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;background-color:rgb(246, 248, 250);display:block;padding:0px;color:rgb(79, 79, 79);font-size:14px;line-height:22px;overflow-x:auto;white-space:pre;border-radius:4px;text-size-adjust:none;background:rgb(250, 250, 250);"><span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 一直任务ID，查询processDefinitionEntity对象，从而获取</span>
    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 当前任务完成之后的连线名称，并设置到List&lt;String&gt;对象中</span>
    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">public</span> List&lt;String&gt; <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">findOutComeListByTaskId</span>(String taskId) {
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 返回连线的名称集合</span>
        List&lt;String&gt; list = <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">new</span> ArrayList&lt;String&gt;();

        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 1.使用任务ID查询任务对象</span>
        Task task = processEngine.getTaskService().createTaskQuery()
                .taskId(taskId).singleResult();
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 2.获取流程定义ID</span>
        String processDefinitionId = task.getProcessDefinitionId();
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 3.查询流程定义（ProcessDefinitionEntity）的实体对象</span>
        ProcessDefinitionEntity processDefinitionEntity = (ProcessDefinitionEntity) processEngine
                .getRepositoryService().getProcessDefinition(
                        processDefinitionId);
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 使用任务对象Task获取流程实例ID</span>
        String processInstanceId = task.getProcessInstanceId();
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 使用历程实例ID，查询正在执行的对象表，返回流程实例对象</span>
        ProcessInstance pi = processEngine.getRuntimeService()
                .createProcessInstanceQuery()
                .processInstanceId(processInstanceId).singleResult();

        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 4.获取当前的活动</span>
        ActivityImpl activityImpl = processDefinitionEntity.findActivity(pi
                .getActivityId());

        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">// 5.获取当前活动完成之后连线的名称</span>
        List&lt;PvmTransition&gt; pvmList = activityImpl.getOutgoingTransitions();
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">if</span> (pvmList != <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">null</span> &amp;&amp; pvmList.size() &gt; <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 102, 102);font-size:inherit;">0</span>) {
            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">for</span> (PvmTransition pvm : pvmList) {
                String name = (String) pvm.getProperty(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;name&quot;</span>);
                <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">if</span> (name != <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">null</span>) {
                    list.add(name);
                }
            }
        }
        <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">return</span> list;
    }</code><ul style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:8px 0px;margin:0px;list-style:none;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;position:absolute;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;font-size:16px;"><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">1</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">2</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">3</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">4</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">5</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">6</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">7</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">8</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">9</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">10</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">11</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">12</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">13</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">14</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">15</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">16</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">17</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">18</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">19</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">20</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">21</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">22</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">23</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">24</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">25</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">26</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">27</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">28</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">29</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">30</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">31</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">32</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">33</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">34</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">35</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">36</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">37</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">38</li></ul></pre>

<h2 style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:8px 0px 16px;font-size:24px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(79, 79, 79);font-weight:700;line-height:32px;"><a name="t4" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;"></a>Listener的实现类</h2>



<pre style="overflow-wrap:break-word;position:relative;overflow:auto hidden;box-sizing:border-box;outline:0px;padding:8px 16px 6px 56px;margin:0px 0px 24px;font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;background-color:rgb(246, 248, 250);border:none;font-size:14px;line-height:22px;color:rgb(0, 0, 0);margin-bottom:24px;"><code style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;background-color:rgb(246, 248, 250);display:block;padding:0px;color:rgb(79, 79, 79);font-size:14px;line-height:22px;overflow-x:auto;white-space:pre;border-radius:4px;text-size-adjust:none;background:rgb(250, 250, 250);"><span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;">/**用来指定任务的办理人*/</span>
    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(155, 133, 157);font-size:inherit;">@Override</span>
    <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">public</span> <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">void</span> <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">notify</span>(DelegateTask delegateTask) {
            <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(136, 0, 0);font-size:inherit;font-style:italic;">//如果任务的个数大于1的话，则ID为RoleID</span>
                String sql = <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;select * From tb_relation where intershipid='&quot;</span> + processDefId + <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;' and childCode='&quot;</span> + lastassignee + <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;'&quot;</span>;

                Dbhelper dbCourseCurrentadd = <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">new</span> Dbhelper();
                 dbCourseCurrentadd.setSql(sql.toString());      
                 List&lt;Map&lt;String,Object&gt;&gt; listmap =  dbCourseCurrentadd.findItemById();

                 <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">if</span>(listmap.size() &gt; <span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 102, 102);font-size:inherit;">0</span> &amp;&amp; listmap!=<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 0, 136);font-size:inherit;">null</span>){
                     Map&lt;String, Object&gt; m = listmap.get(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 102, 102);font-size:inherit;">0</span>);    
                     nextLevel = (String) m.get(<span style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(0, 153, 0);font-size:inherit;">&quot;fatherCode&quot;</span>);
                 }
    }
</code><ul style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:8px 0px;margin:0px;list-style:none;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;position:absolute;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;font-size:16px;"><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">1</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">2</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">3</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">4</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">5</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">6</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">7</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">8</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">9</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">10</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">11</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">12</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">13</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">14</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">15</li><li style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px 8px;margin:0px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;list-style:none;font-size:inherit;list-style-type:disc;color:rgb(153, 153, 153);">16</li></ul></pre>

<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;">需要说明的是DelegateTask这个参数中又流程实例的ID，我们可以根据这个ID，找到我们是做的哪一个审批，然后去查询相应的下一级办理人。因为我又一个tb_relation的表来存储下一级，所以直接查询就可以了。</p>



<h1 style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:8px 0px 16px;font-size:28px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color:rgb(79, 79, 79);font-weight:700;line-height:36px;"><a name="t5" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;"></a>小结</h1>

<p style="overflow-wrap:break-word;box-sizing:border-box;outline:0px;padding:0px;margin:0px 0px 16px;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;">当然我们完全可以不用TaskListener的方法来实现，只是这样的话，我们是不是就可以直接达到服用，这个流程可以用这个类，其他的流程也是直接添加一下Listener，然后就不用管这里的逻辑了，能更好的实现<a href="https://www.baidu.com/s?wd=%E8%A7%A3%E8%80%A6&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" style="overflow-wrap:break-word;color:rgb(78, 161, 219);box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;font-family:&quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;background-color:transparent;" target="_blank">解耦</a>。</p>            </div></div></div></div></span></div></div></div></div><br/></div></span>
</div></body></html> 