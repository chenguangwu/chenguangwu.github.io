<html>
<head>
  <title>MyBatis3整合Spring3、SpringMVC3 - hoojo - 博客园</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7199"/>
<h1>MyBatis3整合Spring3、SpringMVC3 - hoojo - 博客园</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/9/14 23:10</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html"><i>http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;word-wrap:break-word;line-height:1.5;background-image:url(http://www.cnblogs.com/skins/sea/images/back.gif);"><div><div><div style="color:rgb(75, 75, 75);font-size:13px;background-color:rgb(255, 255, 255);">
	<h1 style="font-size:14.7px;font-weight:bold;margin-bottom:10px;"><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html" style="text-decoration:none;color:rgb(26, 139, 200);">MyBatis3整合Spring3、SpringMVC3</a></h1>
	<div style="margin-bottom:20px;word-break:break-word;"><p style="line-height:1.5;margin:10px auto;text-indent:0px;">开发环境： </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">System：Windows </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">WebBrowser：IE6+、Firefox3+ </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">JavaEE Server：tomcat5.0.2.8、tomcat6 </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">IDE：eclipse、MyEclipse 8 </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">Database：MySQL </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">开发依赖库： </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">JavaEE5、Spring 3.0.5、Mybatis 3.0.4、myBatis-spring-1.0、junit4.8.2 </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">Email：hoojo_@126.com </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">Blog：<a href="http://blog.csdn.net/IBM_hoojo" style="color:rgb(26, 139, 200);text-decoration:none;">http://blog.csdn.net/IBM_hoojo</a> </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;"><a href="http://hoojo.cnblogs.com/" style="color:rgb(26, 139, 200);text-decoration:none;">http://hoojo.cnblogs.com/</a></p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">百度文库：<a href="http://wenku.baidu.com/view/34559702a6c30c2259019e4e.html" style="color:rgb(26, 139, 200);text-decoration:none;" target="_blank">http://wenku.baidu.com/view/34559702a6c30c2259019e4e.html</a></p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">1、 首先新建一个WebProject 命名为MyBatisForSpring，新建项目时，使用JavaEE5的lib库。然后手动添加需要的jar包，所需jar包如下： </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;"><a href="http://images.cnblogs.com/cnblogs_com/hoojo/201104/201104141757363746.jpg" style="color:rgb(26, 139, 200);text-decoration:none;"><img src="MyBatis3整合Spring3、SpringMVC3 - hoojo - 博客园_files/201104141757414590.jpg" type="image/jpeg" data-filename="201104141757414590.jpg" alt="clip_image002" border="0" height="244" style="border:0px;border-right-width:0px;display:inline;border-top-width:0px;border-bottom-width:0px;border-left-width:0px;" title="clip_image002" width="223"/></a> </p> <p style="line-height:1.5;margin:10px auto;text-indent:0px;">2、 添加spring的监听及springMVC的核心Servlet，web.xml内容，内容如下： </p> <div> <div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">&lt;!-- 加载Spring容器配置 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">listener</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">listener-class</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>org.springframework.web.context.ContextLoaderListener<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">listener-class</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">listener</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">&lt;!-- 设置Spring容器加载配置文件路径 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">context-param</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">param-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>contextConfigLocation<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">param-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">param-value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>classpath*:applicationContext-*.xml<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">param-value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">context-param</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">&lt;!-- 配置Spring核心控制器 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">servlet</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">servlet-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>dispatcher<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">servlet-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">servlet-class</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">servlet-class</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">init-param</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">param-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>contextConfigLocation<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">param-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">param-value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>/WEB-INF/dispatcher.xml<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">param-value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">init-param</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">load-on-startup</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>1<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">load-on-startup</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">servlet</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">servlet-mapping</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">servlet-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>dispatcher<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">servlet-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">url-pattern</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>*.do<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">url-pattern</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">servlet-mapping</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">&lt;!-- 解决工程编码过滤器 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">filter</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">filter-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>characterEncodingFilter<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">filter-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">filter-class</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">filter-class</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">init-param</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">param-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>encoding<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">param-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">param-value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>UTF-8<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">param-value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">init-param</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">filter</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">filter-mapping</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">filter-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>characterEncodingFilter<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">filter-name</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">url-pattern</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>/*<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">url-pattern</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">filter-mapping</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">3、 在WEB-INF目录中添加dispatcher.xml，内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;?</span><span style="line-height:1.5;color:#800000;">xml</span> <span style="line-height:1.5;color:#ff0000;">version</span><span style="line-height:1.5;color:#0000ff;">=&quot;1.0&quot;</span> <span style="line-height:1.5;color:#ff0000;">encoding</span><span style="line-height:1.5;color:#0000ff;">=&quot;UTF-8&quot;</span>?<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">beans</span> <span style="line-height:1.5;color:#ff0000;">xmlns</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:context</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/context&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:xsi</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xsi:schemaLocation</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans </span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/context</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 注解探测器 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">context:component-scan</span> <span style="line-height:1.5;color:#ff0000;">base-package</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!--  annotation默认的方法映射适配器 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;handlerMapping&quot;</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot;</span> <span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;handlerAdapter&quot;</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;</span> <span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">beans</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">4、 在src目录下添加applicationContext-common.xml，内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;?</span><span style="line-height:1.5;color:#800000;">xml</span> <span style="line-height:1.5;color:#ff0000;">version</span><span style="line-height:1.5;color:#0000ff;">=&quot;1.0&quot;</span> <span style="line-height:1.5;color:#ff0000;">encoding</span><span style="line-height:1.5;color:#0000ff;">=&quot;UTF-8&quot;</span>?<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">beans</span> <span style="line-height:1.5;color:#ff0000;">xmlns</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:aop</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/aop&quot;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:tx</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/tx&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:xsi</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xsi:schemaLocation</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans </span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/aop </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/tx  </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd &quot;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 配置DataSource数据源 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;dataSource&quot;</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;driverClassName&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.mysql.jdbc.Driver&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;url&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;jdbc:mysql://10.0.0.131:3306/ash2&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;username&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;dev&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;password&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;dev&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">bean</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 配置SqlSessionFactoryBean --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;sqlSessionFactory&quot;</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;dataSource&quot;</span> <span style="line-height:1.5;color:#ff0000;">ref</span><span style="line-height:1.5;color:#0000ff;">=&quot;dataSource&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;configLocation&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;classpath:mybatis.xml&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#008000;">&lt;!-- mapper和resultmap配置路径 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;mapperLocations&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">list</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">                <span style="line-height:1.5;color:#008000;">&lt;!-- 表示在com.hoo.resultmap包或以下所有目录中，以-resultmap.xml结尾所有文件 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">                <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>classpath:com/hoo/resultmap/**/*-resultmap.xml<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">                <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>classpath:com/hoo/entity/*-resultmap.xml<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">                <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>classpath:com/hoo/mapper/**/*-mapper.xml<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">value</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">list</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">property</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">bean</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 单独配置一个Mapper； 这种模式就是得给每个mapper接口配置一个bean --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">    &lt;bean id=&quot;accountMapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt; </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">        &lt;property name=&quot;mapperInterface&quot; value=&quot;com.hoo.mapper.AccountMapper&quot; /&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">        &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt; </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">    &lt;/bean&gt; </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">    </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">    &lt;bean id=&quot;companyMapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt; </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">        &lt;property name=&quot;mapperInterface&quot; value=&quot;com.hoo.mapper.CompanyMapper&quot; /&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">        &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt; </span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">    &lt;/bean&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     --&gt;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 通过扫描的模式，扫描目录在com/hoo/mapper目录下，所有的mapper都继承SqlMapper接口的接口， 这样一个bean就可以了 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;basePackage&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.mapper&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;markerInterface&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.mapper.SqlMapper&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">bean</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">beans</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">上面的配置最先配置的是DataSource，这里采用的是jdbc的DataSource； </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">然后是SqlSessionFactoryBean，这个配置比较关键。SqlSessionFactoryBean需要注入DataSource数据源，其次还要设置configLocation也就是mybatis的xml配置文件路径，完成一些关于mybatis的配置，如settings、mappers、plugin等； </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">如果使用mapperCannerConfigurer模式，需要设置扫描根路径也就是你的mybatis的mapper接口所在包路径；凡是markerInterface这个接口的子接口都参与到这个扫描，也就是说所有的mapper接口继承这个SqlMapper。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">如果你不使用自己的transaction事务，就使用MapperScannerConfigurer来完成SqlSession的打开、关闭和事务的回滚操作。在此期间，出现数据库操作的如何异常都会被转换成DataAccessException，这个异常是一个抽象的类，继承RuntimeException； </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">5、 SqlMapper内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.mapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt;所有的Mapper继承这个接口</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-12 下午04:00:31</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file SqlMapper.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.mapper</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> SqlMapper {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">6、 实体类和ResultMap.xml </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.entity;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.io.Serializable;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.persistence.Entity;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@Entity</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> Account <span style="line-height:1.5;color:#0000ff;">implements</span> Serializable {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> <span style="line-height:1.5;color:#0000ff;">static</span> <span style="line-height:1.5;color:#0000ff;">final</span> <span style="line-height:1.5;color:#0000ff;">long</span> serialVersionUID = -7970848646314840509L;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> Integer accountId;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> Integer status;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> String username;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> String password;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> String salt;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> String email;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> Integer roleId;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">//getter、setter</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Override</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> String toString() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#0000ff;">this</span>.accountId + <span style="line-height:1.5;color:#006080;">&quot;#&quot;</span> + <span style="line-height:1.5;color:#0000ff;">this</span>.status + <span style="line-height:1.5;color:#006080;">&quot;#&quot;</span> + <span style="line-height:1.5;color:#0000ff;">this</span>.username +  <span style="line-height:1.5;color:#006080;">&quot;#&quot;</span> + </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">this</span>.password +  <span style="line-height:1.5;color:#006080;">&quot;#&quot;</span> + <span style="line-height:1.5;color:#0000ff;">this</span>.email +  <span style="line-height:1.5;color:#006080;">&quot;#&quot;</span> + <span style="line-height:1.5;color:#0000ff;">this</span>.salt + <span style="line-height:1.5;color:#006080;">&quot;#&quot;</span> + <span style="line-height:1.5;color:#0000ff;">this</span>.roleId;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">account-resultmap.xml </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;?</span><span style="line-height:1.5;color:#800000;">xml</span> <span style="line-height:1.5;color:#ff0000;">version</span><span style="line-height:1.5;color:#0000ff;">=&quot;1.0&quot;</span> <span style="line-height:1.5;color:#ff0000;">encoding</span><span style="line-height:1.5;color:#0000ff;">=&quot;UTF-8&quot;</span>?<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;!</span><span style="line-height:1.5;color:#800000;">DOCTYPE</span> <span style="line-height:1.5;color:#ff0000;">mapper</span> <span style="line-height:1.5;color:#ff0000;">PUBLIC</span> <span style="line-height:1.5;color:#0000ff;">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">mapper</span> <span style="line-height:1.5;color:#ff0000;">namespace</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountMap&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">resultMap</span> <span style="line-height:1.5;color:#ff0000;">type</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.entity.Account&quot;</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountResultMap&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">id</span> <span style="line-height:1.5;color:#ff0000;">property</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountId&quot;</span> <span style="line-height:1.5;color:#ff0000;">column</span><span style="line-height:1.5;color:#0000ff;">=&quot;account_id&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">result</span> <span style="line-height:1.5;color:#ff0000;">property</span><span style="line-height:1.5;color:#0000ff;">=&quot;username&quot;</span> <span style="line-height:1.5;color:#ff0000;">column</span><span style="line-height:1.5;color:#0000ff;">=&quot;username&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">result</span> <span style="line-height:1.5;color:#ff0000;">property</span><span style="line-height:1.5;color:#0000ff;">=&quot;password&quot;</span> <span style="line-height:1.5;color:#ff0000;">column</span><span style="line-height:1.5;color:#0000ff;">=&quot;password&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">result</span> <span style="line-height:1.5;color:#ff0000;">property</span><span style="line-height:1.5;color:#0000ff;">=&quot;status&quot;</span> <span style="line-height:1.5;color:#ff0000;">column</span><span style="line-height:1.5;color:#0000ff;">=&quot;status&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">resultMap</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">mapper</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">7、 在src目录中添加applicationContext-beans.xml内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;?</span><span style="line-height:1.5;color:#800000;">xml</span> <span style="line-height:1.5;color:#ff0000;">version</span><span style="line-height:1.5;color:#0000ff;">=&quot;1.0&quot;</span> <span style="line-height:1.5;color:#ff0000;">encoding</span><span style="line-height:1.5;color:#0000ff;">=&quot;UTF-8&quot;</span>?<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">beans</span> <span style="line-height:1.5;color:#ff0000;">xmlns</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:context</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/context&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xmlns:xsi</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#ff0000;">xsi:schemaLocation</span><span style="line-height:1.5;color:#0000ff;">=&quot;http://www.springframework.org/schema/beans </span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/context</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 注解探测器 ， 在JUnit测试的时候需要--&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">context:component-scan</span> <span style="line-height:1.5;color:#ff0000;">base-package</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">beans</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">这里配置bean对象，一些不能用annotation注解的对象就可以配置在这里 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">8、 在src目录中添加mybatis.xml，内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;?</span><span style="line-height:1.5;color:#800000;">xml</span> <span style="line-height:1.5;color:#ff0000;">version</span><span style="line-height:1.5;color:#0000ff;">=&quot;1.0&quot;</span> <span style="line-height:1.5;color:#ff0000;">encoding</span><span style="line-height:1.5;color:#0000ff;">=&quot;UTF-8&quot;</span> ?<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;!</span><span style="line-height:1.5;color:#800000;">DOCTYPE</span> <span style="line-height:1.5;color:#ff0000;">configuration</span> <span style="line-height:1.5;color:#ff0000;">PUBLIC</span> <span style="line-height:1.5;color:#0000ff;">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span> <span style="line-height:1.5;color:#0000ff;">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">configuration</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 别名 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">typeAliases</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">typeAlias</span> <span style="line-height:1.5;color:#ff0000;">type</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.entity.Account&quot;</span> <span style="line-height:1.5;color:#ff0000;">alias</span><span style="line-height:1.5;color:#0000ff;">=&quot;account&quot;</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">typeAliases</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">configuration</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">在这个文件放置一些全局性的配置，如handler、objectFactory、plugin、以及mappers的映射路径（由于在applicationContext-common中的SqlSessionFactoryBean有配置mapper的location，这里就不需要配置）等 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">9、 AccountMapper接口，内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.mapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.apache.ibatis.annotations.Select;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.entity.Account;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt;继承SqlMapper，MyBatis数据操作接口；此接口无需实现类</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2010-12-21 下午05:21:20</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountMapper.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.mapper</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatis</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> AccountMapper <span style="line-height:1.5;color:#0000ff;">extends</span> SqlMapper {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;Account&gt; getAllAccount();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> Account getAccount();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> Account getAccountById(String id);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> Account getAccountByNames(String spring);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Select(<span style="line-height:1.5;color:#006080;">&quot;select * from account where username = #{name}&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> Account getAccountByName(String name);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> addAccount(Account account);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> editAccount(Account account);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> removeAccount(<span style="line-height:1.5;color:#0000ff;">int</span> id);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">这个接口我们不需要实现，由mybatis帮助我们实现，我们通过mapper文件配置sql语句即可完成接口的实现。然后这个接口需要继承SqlMapper接口，不然在其他地方就不能从Spring容器中拿到这个mapper接口，也就是说当我们注入这个接口的时候将会失败。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">当然，你不继承这个接口也可以。那就是你需要给买个mapper配置一个bean。配置方法如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountMapper&quot;</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;mapperInterface&quot;</span> <span style="line-height:1.5;color:#ff0000;">value</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.mapper.AccountMapper&quot;</span> <span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;sqlSessionFactory&quot;</span> <span style="line-height:1.5;color:#ff0000;">ref</span><span style="line-height:1.5;color:#0000ff;">=&quot;sqlSessionFactory&quot;</span> <span style="line-height:1.5;color:#0000ff;">/&gt;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">bean</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">这里的MapperFactoryBean可以帮助我们完成Session的打开、关闭等操作 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">10、 在com.hoo.mapper也就是在AccountMapper接口的同一个包下，添加account-mapper.xml，内容如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;?</span><span style="line-height:1.5;color:#800000;">xml</span> <span style="line-height:1.5;color:#ff0000;">version</span><span style="line-height:1.5;color:#0000ff;">=&quot;1.0&quot;</span> <span style="line-height:1.5;color:#ff0000;">encoding</span><span style="line-height:1.5;color:#0000ff;">=&quot;UTF-8&quot;</span>?<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;!</span><span style="line-height:1.5;color:#800000;">DOCTYPE</span> <span style="line-height:1.5;color:#ff0000;">mapper</span> <span style="line-height:1.5;color:#ff0000;">PUBLIC</span> <span style="line-height:1.5;color:#0000ff;">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">&lt;!-- namespace和定义的Mapper接口对应，并实现其中的方法 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">mapper</span> <span style="line-height:1.5;color:#ff0000;">namespace</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.mapper.AccountMapper&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- id和mapper接口中的方法名对应，resultType使用mybatis.xml中的别名 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">select</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;getAccount&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultType</span><span style="line-height:1.5;color:#0000ff;">=&quot;account&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;!</span>[CDATA[</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            select * from account limit 1</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        ]]<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">select</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">select</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;getAllAccount&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultType</span><span style="line-height:1.5;color:#0000ff;">=&quot;list&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultMap</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountResultMap&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;!</span>[CDATA[</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            select * from account</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        ]]<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">select</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- accountResultMap是account-resultmap.xml中定义的resultmap --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">select</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;getAccountById&quot;</span> <span style="line-height:1.5;color:#ff0000;">parameterType</span><span style="line-height:1.5;color:#0000ff;">=&quot;string&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultType</span><span style="line-height:1.5;color:#0000ff;">=&quot;com.hoo.entity.Account&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultMap</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountResultMap&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;!</span>[CDATA[</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            select * from account where account_id = #{id}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        ]]<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">select</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- accountMap.accountResultMap是account-resultmap.xml中定义的resultmap，通过namespace.id找到 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">select</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;getAccountByNames&quot;</span> <span style="line-height:1.5;color:#ff0000;">parameterType</span><span style="line-height:1.5;color:#0000ff;">=&quot;string&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultMap</span><span style="line-height:1.5;color:#0000ff;">=&quot;accountMap.accountResultMap&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;!</span>[CDATA[</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            select * from account where username = #{name}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        ]]<span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">select</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">sql</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;user_name_pwd&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        username, password</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">sql</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 自动生成id策略 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">insert</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;addAccount&quot;</span> <span style="line-height:1.5;color:#ff0000;">useGeneratedKeys</span><span style="line-height:1.5;color:#0000ff;">=&quot;true&quot;</span> <span style="line-height:1.5;color:#ff0000;">keyProperty</span><span style="line-height:1.5;color:#0000ff;">=&quot;account_id&quot;</span> <span style="line-height:1.5;color:#ff0000;">parameterType</span><span style="line-height:1.5;color:#0000ff;">=&quot;account&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        insert into account(account_id, status, username, password)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        values(#{accountId}, #{status}, #{username}, #{password})</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">insert</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">&lt;!-- 根据selectKey语句生成主键 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">insert</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;addAccount4Key&quot;</span> <span style="line-height:1.5;color:#ff0000;">parameterType</span><span style="line-height:1.5;color:#0000ff;">=&quot;account&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">selectKey</span> <span style="line-height:1.5;color:#ff0000;">keyProperty</span><span style="line-height:1.5;color:#0000ff;">=&quot;account_id&quot;</span> <span style="line-height:1.5;color:#ff0000;">order</span><span style="line-height:1.5;color:#0000ff;">=&quot;BEFORE&quot;</span> <span style="line-height:1.5;color:#ff0000;">resultType</span><span style="line-height:1.5;color:#0000ff;">=&quot;int&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            select cast(random() * 10000 as Integer) a from #Tab</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">selectKey</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        insert into account(account_id, status, username, password)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        values(#{accountId}, #{status}, #{username}, #{password})</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">insert</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">update</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;editAccount&quot;</span> <span style="line-height:1.5;color:#ff0000;">parameterType</span><span style="line-height:1.5;color:#0000ff;">=&quot;account&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        update account set</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        status = #{status},</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        username = #{username},</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        password = #{password}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        where account_id = #{accountId}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">update</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">delete</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;removeAccount&quot;</span> <span style="line-height:1.5;color:#ff0000;">parameterType</span><span style="line-height:1.5;color:#0000ff;">=&quot;int&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        delete from account where account_id = #{id}</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">delete</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">mapper</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">上面的namespace和定义接口类路径对应，所有的sql语句，如select、insert、delete、update的id和方法名称对应。关于更多MyBatis内容的讲解，这里就不赘述的。这里只完成整合！如果你不懂可以去阅读其他关于MyBatis的资料。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">11、 为了测试发布，这里使用junit和spring官方提供的spring-test.jar，完成spring框架整合的测试，代码如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.mapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.inject.Inject;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.test.context.ContextConfiguration;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.test.context.junit38.AbstractJUnit38SpringContextTests;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.entity.Account;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; AccountMapper JUnit测试类</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-12 下午04:21:50</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountMapperTest.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.mapper</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@ContextConfiguration(<span style="line-height:1.5;color:#006080;">&quot;classpath:applicationContext-*.xml&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> AccountMapperTest <span style="line-height:1.5;color:#0000ff;">extends</span> AbstractJUnit38SpringContextTests {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">//@Named(&quot;accountMapper&quot;)</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> AccountMapper mapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testGetAccount() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(mapper.getAccount());</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testGetAccountById() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(mapper.getAccountById(<span style="line-height:1.5;color:#006080;">&quot;28&quot;</span>));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testGetAccountByName() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(mapper.getAccountByName(<span style="line-height:1.5;color:#006080;">&quot;user&quot;</span>));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testGetAccountByNames() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(mapper.getAccountByNames(<span style="line-height:1.5;color:#006080;">&quot;user&quot;</span>));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testAdd() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        Account account = <span style="line-height:1.5;color:#0000ff;">new</span> Account();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        account.setEmail(<span style="line-height:1.5;color:#006080;">&quot;temp@155.com&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        account.setPassword(<span style="line-height:1.5;color:#006080;">&quot;abc&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        account.setRoleId(1);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        account.setSalt(<span style="line-height:1.5;color:#006080;">&quot;ss&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        account.setStatus(0);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        account.setUsername(<span style="line-height:1.5;color:#006080;">&quot;Jack&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        mapper.addAccount(account);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testEditAccount() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        Account acc = mapper.getAccountByNames(<span style="line-height:1.5;color:#006080;">&quot;Jack&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(acc);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        acc.setUsername(<span style="line-height:1.5;color:#006080;">&quot;Zhangsan&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        acc.setPassword(<span style="line-height:1.5;color:#006080;">&quot;123123&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        mapper.editAccount(acc);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(mapper.getAccountById(acc.getAccountId() + <span style="line-height:1.5;color:#006080;">&quot;&quot;</span>));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testRemoveAccount() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        Account acc = mapper.getAccountByNames(<span style="line-height:1.5;color:#006080;">&quot;Jack&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        mapper.removeAccount(acc.getAccountId());</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(mapper.getAccountByNames(<span style="line-height:1.5;color:#006080;">&quot;Jack&quot;</span>));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testAccountList() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        List&lt;Account&gt; acc = mapper.getAllAccount();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(acc.size());</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(acc);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">这里的注入并没有使用@Autowired、@Resource、@Qualifier注入，而是使用@Inject、@Named注入方式，Inject注入是JSR330的标准注入方式；而不局限于某个产品，使用于多个产品的使用，推荐使用这种方式；运行后，没有发现问题，就可以继续后续的编码工作了。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">12、 定义AccountDao接口及实现代码，代码如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.dao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.dao.DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; Account数据库操作dao接口</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 上午10:21:38</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountDao.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.dao</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> AccountDao&lt;T&gt; {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * &lt;b&gt;function:&lt;/b&gt; 添加Account对象信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @createDate 2011-4-13 上午11:50:05</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @param entity Account</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @return boolean 是否成功</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @throws DataAccessException</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> addAccount(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * &lt;b&gt;function:&lt;/b&gt; 根据id对到Account信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @createDate 2011-4-13 上午11:50:45</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @param id 编号id</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @return Account</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @throws DataAccessException</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T getAccount(Integer id) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * &lt;b&gt;function:&lt;/b&gt; 查询所有Account信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @createDate 2011-4-13 上午11:51:45</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @param id 编号id</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @return Account</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @throws DataAccessException</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getList() <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">接口实现 </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.dao.impl;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.inject.Inject;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.dao.DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.stereotype.Repository;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.dao.AccountDao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.entity.Account;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.mapper.AccountMapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; Account数据库操作dao</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 上午10:25:02</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountDaoImpl.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.dao.impl</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@SuppressWarnings(<span style="line-height:1.5;color:#006080;">&quot;unchecked&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@Repository</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> AccountDaoImpl&lt;T <span style="line-height:1.5;color:#0000ff;">extends</span> Account&gt; <span style="line-height:1.5;color:#0000ff;">implements</span> AccountDao&lt;T&gt; {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> AccountMapper mapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> addAccount(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            mapper.addAccount(entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = true;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (DataAccessException e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T getAccount(Integer id) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        T entity = null;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            entity = (T) mapper.getAccountById(String.valueOf(id));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (DataAccessException e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> entity;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getList() <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> (List&lt;T&gt;) mapper.getAllAccount();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">13、 服务层AccountBiz接口及实现代码 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">接口： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.biz;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.dao.DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; biz层Account接口</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 上午11:33:04</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountBiz.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.biz</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> AccountBiz&lt;T&gt; {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * &lt;b&gt;function:&lt;/b&gt; 添加Account对象信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @createDate 2011-4-13 上午11:50:05</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @param entity Account</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @return boolean 是否成功</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @throws DataAccessException</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> addAccount(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * &lt;b&gt;function:&lt;/b&gt; 根据id对到Account信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @createDate 2011-4-13 上午11:50:45</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @param id 编号id</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @return Account</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @throws DataAccessException</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T getAccount(Integer id) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * &lt;b&gt;function:&lt;/b&gt; 查询所有Account信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @createDate 2011-4-13 上午11:51:45</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @param id 编号id</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @return Account</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @throws DataAccessException</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getList() <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">实现代码： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.biz.impl;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.inject.Inject;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.dao.DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.stereotype.Service;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.biz.AccountBiz;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.dao.AccountDao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.entity.Account;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.exception.BizException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; Account Biz接口实现</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 上午11:34:39</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountBizImpl.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.biz.impl</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">//@Component</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@Service</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> AccountBizImpl&lt;T <span style="line-height:1.5;color:#0000ff;">extends</span> Account&gt; <span style="line-height:1.5;color:#0000ff;">implements</span> AccountBiz&lt;T&gt; {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> AccountDao&lt;T&gt; dao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> addAccount(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">if</span> (entity == null) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> <span style="line-height:1.5;color:#0000ff;">new</span> BizException(Account.<span style="line-height:1.5;color:#0000ff;">class</span>.getName() + <span style="line-height:1.5;color:#006080;">&quot;对象参数信息为Empty！&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> dao.addAccount(entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T getAccount(Integer id) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> dao.getAccount(id);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getList() <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> dao.getList();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">上面用到了一个自定义的异常信息，代码如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.exception;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.dao.DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt;自定义Biz层异常信息</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 上午11:42:19</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file BizException.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.exception</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> BizException <span style="line-height:1.5;color:#0000ff;">extends</span> DataAccessException {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     * @author Hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">     */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> <span style="line-height:1.5;color:#0000ff;">static</span> <span style="line-height:1.5;color:#0000ff;">final</span> <span style="line-height:1.5;color:#0000ff;">long</span> serialVersionUID = 1L;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> BizException(String msg) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">super</span>(msg);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> BizException(String msg, Throwable cause) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">super</span>(msg, cause);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">这里只是简单的继承，如果还有其他的异常业务或需求可以进行具体的实现 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">14、 springMVC的控制器，AccountController代码如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.controller;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.inject.Inject;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.servlet.http.HttpServletRequest;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.stereotype.Controller;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.ui.Model;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.web.bind.annotation.RequestMapping;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.biz.AccountBiz;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.entity.Account;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; Account控制器</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 上午10:18:02</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file AccountController.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.controller</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@Controller</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@RequestMapping(<span style="line-height:1.5;color:#006080;">&quot;/account&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> AccountController {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> AccountBiz&lt;Account&gt; biz;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @RequestMapping(<span style="line-height:1.5;color:#006080;">&quot;/add&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> String add(Account acc) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(acc);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        biz.addAccount(acc);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#006080;">&quot;redirect:/account/list.do&quot;</span>;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @RequestMapping(<span style="line-height:1.5;color:#006080;">&quot;/get&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> String get(Integer id, Model model) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(<span style="line-height:1.5;color:#006080;">&quot;##ID:&quot;</span> + id);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        model.addAttribute(biz.getAccount(id));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#006080;">&quot;/show.jsp&quot;</span>;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @RequestMapping(<span style="line-height:1.5;color:#006080;">&quot;/list&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> String list(Model model) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        model.addAttribute(<span style="line-height:1.5;color:#006080;">&quot;list&quot;</span>, biz.getList());</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#006080;">&quot;/list.jsp&quot;</span>;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @ExceptionHandler(Exception.<span style="line-height:1.5;color:#0000ff;">class</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> String exception(Exception e, HttpServletRequest request) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#008000;">//e.printStackTrace();</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        request.setAttribute(<span style="line-height:1.5;color:#006080;">&quot;exception&quot;</span>, e);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#006080;">&quot;/error.jsp&quot;</span>;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">15、 基本页面代码 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">index.jsp </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%</span><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   1:</span>  </pre>

<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   2:</span> String path = request.getContextPath();</pre>

<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   3:</span> String basePath = request.getScheme()+<span style="line-height:1.5;color:#006080;">&quot;://&quot;</span>+request.getServerName()+<span style="line-height:1.5;color:#006080;">&quot;:&quot;</span>+request.getServerPort()+path+<span style="line-height:1.5;color:#006080;">&quot;/&quot;</span>;</pre>
<span style="line-height:1.5;background-color:#ffff00;">%&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;!</span><span style="line-height:1.5;color:#800000;">DOCTYPE</span> <span style="line-height:1.5;color:#ff0000;">HTML</span> <span style="line-height:1.5;color:#ff0000;">PUBLIC</span> <span style="line-height:1.5;color:#0000ff;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">base</span> <span style="line-height:1.5;color:#ff0000;">href</span><span style="line-height:1.5;color:#0000ff;">=&quot;&lt;%=basePath%&gt;&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>MyBatis 整合  Spring 3.0.5<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;pragma&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;cache-control&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;expires&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;0&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;keywords&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;keyword1,keyword2,keyword3&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;description&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;This is my page&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">          <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">h3</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>MyBatis 3.0.4  整合  Spring 3.0.5<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">h3</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">a</span> <span style="line-height:1.5;color:#ff0000;">href</span><span style="line-height:1.5;color:#0000ff;">=&quot;account/list.do&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>查询所有<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">a</span><span style="line-height:1.5;color:#0000ff;">&gt;&lt;</span><span style="line-height:1.5;color:#800000;">br</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">a</span> <span style="line-height:1.5;color:#ff0000;">href</span><span style="line-height:1.5;color:#0000ff;">=&quot;account/add.do?username=abcdef&amp;password=123132&amp;status=2&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>添加<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">a</span><span style="line-height:1.5;color:#0000ff;">&gt;&lt;</span><span style="line-height:1.5;color:#800000;">br</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">a</span> <span style="line-height:1.5;color:#ff0000;">href</span><span style="line-height:1.5;color:#0000ff;">=&quot;account/get.do?id=25&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>查询<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">a</span><span style="line-height:1.5;color:#0000ff;">&gt;&lt;</span><span style="line-height:1.5;color:#800000;">br</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">List.jsp </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%</span><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   1:</span>  </pre>

<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   2:</span> String path = request.getContextPath();</pre>

<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   3:</span> String basePath = request.getScheme()+<span style="line-height:1.5;color:#006080;">&quot;://&quot;</span>+request.getServerName()+<span style="line-height:1.5;color:#006080;">&quot;:&quot;</span>+request.getServerPort()+path+<span style="line-height:1.5;color:#006080;">&quot;/&quot;</span>;</pre>
<span style="line-height:1.5;background-color:#ffff00;">%&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;!</span><span style="line-height:1.5;color:#800000;">DOCTYPE</span> <span style="line-height:1.5;color:#ff0000;">HTML</span> <span style="line-height:1.5;color:#ff0000;">PUBLIC</span> <span style="line-height:1.5;color:#0000ff;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">base</span> <span style="line-height:1.5;color:#ff0000;">href</span><span style="line-height:1.5;color:#0000ff;">=&quot;&lt;%=basePath%&gt;&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>all Account Result<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;pragma&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;cache-control&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;expires&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;0&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;keywords&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;keyword1,keyword2,keyword3&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;description&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;This is my page&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">c:forEach</span> <span style="line-height:1.5;color:#ff0000;">items</span><span style="line-height:1.5;color:#0000ff;">=&quot;${list}&quot;</span> <span style="line-height:1.5;color:#ff0000;">var</span><span style="line-height:1.5;color:#0000ff;">=&quot;data&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            id: ${data.accountId }---name: ${data.username }---password: ${data.password }<span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">hr</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">c:forEach</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">show.jsp </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;">&lt;%</span><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   1:</span>  </pre>

<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   2:</span> String path = request.getContextPath();</pre>

<pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#606060;">   3:</span> String basePath = request.getScheme()+<span style="line-height:1.5;color:#006080;">&quot;://&quot;</span>+request.getServerName()+<span style="line-height:1.5;color:#006080;">&quot;:&quot;</span>+request.getServerPort()+path+<span style="line-height:1.5;color:#006080;">&quot;/&quot;</span>;</pre>
<span style="line-height:1.5;background-color:#ffff00;">%&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;!</span><span style="line-height:1.5;color:#800000;">DOCTYPE</span> <span style="line-height:1.5;color:#ff0000;">HTML</span> <span style="line-height:1.5;color:#ff0000;">PUBLIC</span> <span style="line-height:1.5;color:#0000ff;">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">base</span> <span style="line-height:1.5;color:#ff0000;">href</span><span style="line-height:1.5;color:#0000ff;">=&quot;&lt;%=basePath%&gt;&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>show Account<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;pragma&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;cache-control&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;expires&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;0&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;keywords&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;keyword1,keyword2,keyword3&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http-equiv</span><span style="line-height:1.5;color:#0000ff;">=&quot;description&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span><span style="line-height:1.5;color:#0000ff;">=&quot;This is my page&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        ${account }<span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">br</span><span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        ${account.username }#${account.accountId }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">error.jsp</p><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;background-color:#ffff00;color:black;">&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;</span>
<span style="line-height:1.5;background-color:#ffff00;color:black;">&lt;%</span>
String path = request.getContextPath();
String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;
<span style="line-height:1.5;background-color:#ffff00;color:black;">%&gt;</span>

<span style="line-height:1.5;color:#0000ff;">&lt;</span>!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;<span style="line-height:1.5;color:#0000ff;">&gt;</span>
<span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">base</span> <span style="line-height:1.5;color:#ff0000;">href</span>=<span style="line-height:1.5;color:#0000ff;">&quot;&lt;%=basePath%&gt;&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>Error Page<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">title</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http</span>-<span style="line-height:1.5;color:#ff0000;">equiv</span>=<span style="line-height:1.5;color:#0000ff;">&quot;pragma&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span>=<span style="line-height:1.5;color:#0000ff;">&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http</span>-<span style="line-height:1.5;color:#ff0000;">equiv</span>=<span style="line-height:1.5;color:#0000ff;">&quot;cache-control&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span>=<span style="line-height:1.5;color:#0000ff;">&quot;no-cache&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http</span>-<span style="line-height:1.5;color:#ff0000;">equiv</span>=<span style="line-height:1.5;color:#0000ff;">&quot;expires&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span>=<span style="line-height:1.5;color:#0000ff;">&quot;0&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>    
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http</span>-<span style="line-height:1.5;color:#ff0000;">equiv</span>=<span style="line-height:1.5;color:#0000ff;">&quot;keywords&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span>=<span style="line-height:1.5;color:#0000ff;">&quot;keyword1,keyword2,keyword3&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">meta</span> <span style="line-height:1.5;color:#ff0000;">http</span>-<span style="line-height:1.5;color:#ff0000;">equiv</span>=<span style="line-height:1.5;color:#0000ff;">&quot;description&quot;</span> <span style="line-height:1.5;color:#ff0000;">content</span>=<span style="line-height:1.5;color:#0000ff;">&quot;This is my page&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">head</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
  
  <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">H2</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>Exception: ${exception }<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">H2</span><span style="line-height:1.5;color:#0000ff;">&gt;</span> 
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">a</span> <span style="line-height:1.5;color:#ff0000;">href</span>=<span style="line-height:1.5;color:#0000ff;">&quot;javascript:document.getElementById('show').style.display = 'block';void(0);&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
        详细信息
    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">a</span><span style="line-height:1.5;color:#0000ff;">&gt;</span> 
    <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">div</span> <span style="line-height:1.5;color:#ff0000;">id</span>=<span style="line-height:1.5;color:#0000ff;">&quot;show&quot;</span> <span style="line-height:1.5;color:#ff0000;">style</span>=<span style="line-height:1.5;color:#0000ff;">&quot;color: red; display: none;&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
        <span style="line-height:1.5;background-color:#ffff00;color:black;">&lt;%</span> Exception ex = (Exception)request.getAttribute(&quot;exception&quot;); <span style="line-height:1.5;background-color:#ffff00;color:black;">%&gt;</span> 
        
        <span style="line-height:1.5;background-color:#ffff00;color:black;">&lt;%</span> ex.printStackTrace(new java.io.PrintWriter(out)); <span style="line-height:1.5;background-color:#ffff00;color:black;">%&gt;</span>
    <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">div</span><span style="line-height:1.5;color:#0000ff;">&gt;</span> 
  <span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">body</span><span style="line-height:1.5;color:#0000ff;">&gt;</span>
<span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">html</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">16、 以上就基本上完成了整个Spring+SpringMVC+MyBatis的整合了。如果你想添加事务管理，得在applicationContext-common.xml中加入如下配置： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">&lt;!-- 配置事务管理器，注意这里的dataSource和SqlSessionFactoryBean的dataSource要一致，不然事务就没有作用了 --&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">bean</span> <span style="line-height:1.5;color:#ff0000;">id</span><span style="line-height:1.5;color:#0000ff;">=&quot;transactionManager&quot;</span> <span style="line-height:1.5;color:#ff0000;">class</span><span style="line-height:1.5;color:#0000ff;">=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">&lt;</span><span style="line-height:1.5;color:#800000;">property</span> <span style="line-height:1.5;color:#ff0000;">name</span><span style="line-height:1.5;color:#0000ff;">=&quot;dataSource&quot;</span> <span style="line-height:1.5;color:#ff0000;">ref</span><span style="line-height:1.5;color:#0000ff;">=&quot;dataSource&quot;</span> <span style="line-height:1.5;color:#0000ff;">/&gt;</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">&lt;/</span><span style="line-height:1.5;color:#800000;">bean</span><span style="line-height:1.5;color:#0000ff;">&gt;</span></pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">同时还需要加入aspectjweaver.jar这个jar包； </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">注意的是：Jdbc的TransactionManager不支持事务隔离级别，我在整个地方加入其它的TransactionManager，增加对transaction的隔离级别都尝试失败！ </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">也许可以用于jpa、jdo、jta这方面的东西。不知道大家对MyBatis的事务是怎么处理的？ </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">17、 对Dao进行扩展封装，运用SqlSessionDaoSupport进行模板的扩展或运用： </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">BaseDao代码如下： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.dao;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"> </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"> </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt;</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-12 下午04:18:09</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @file IBaseDao.java</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.dao</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @param &lt;T&gt;</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> BaseDao&lt;T&gt; {</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"> </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> add(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> edit(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> remove(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> T get(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getAll(String classMethod) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">实现类代码：</p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.dao.impl;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.ArrayList;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.inject.Inject;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.apache.ibatis.session.SqlSessionFactory;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.stereotype.Repository;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.dao.BaseDao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; 运用SqlSessionDaoSupport封装Dao常用增删改方法，可以进行扩展</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-13 下午06:33:37</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file BaseDaoImpl.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.dao.impl</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@Repository</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@SuppressWarnings({ <span style="line-height:1.5;color:#006080;">&quot;unchecked&quot;</span>, <span style="line-height:1.5;color:#006080;">&quot;unused&quot;</span> })</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> BaseDaoImpl&lt;T <span style="line-height:1.5;color:#0000ff;">extends</span> Object&gt; <span style="line-height:1.5;color:#0000ff;">extends</span> SqlSessionDaoSupport <span style="line-height:1.5;color:#0000ff;">implements</span> BaseDao&lt;T&gt; {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> SqlSessionFactory sqlSessionFactory;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> add(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = <span style="line-height:1.5;color:#0000ff;">this</span>.getSqlSession().insert(classMethod, entity) &gt; 0 ? true : false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> edit(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = <span style="line-height:1.5;color:#0000ff;">this</span>.getSqlSession().update(classMethod, entity) &gt; 0 ? true : false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T get(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        T result = null;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            result = (T) <span style="line-height:1.5;color:#0000ff;">this</span>.getSqlSession().selectOne(classMethod, entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> result;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getAll(String classMethod) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        List&lt;T&gt; result = <span style="line-height:1.5;color:#0000ff;">new</span> ArrayList&lt;T&gt;();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            result = <span style="line-height:1.5;color:#0000ff;">this</span>.getSqlSession().selectList(classMethod);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> result;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> remove(String classMethod, T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = <span style="line-height:1.5;color:#0000ff;">this</span>.getSqlSession().delete(classMethod, entity) &gt; 0 ? true : false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">值得说明的是，这个类继承了SqlSessionDaoSupport，它需要我们帮助它注入SqlSessionFactory或是SqlSessionTemplate，如果两者都被注入将忽略SqlSessionFactory属性，使用SqlSessionTemplate模板。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">继承SqlSessionDaoSupport后，可以拿到SqlSession完成数据库的操作； </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">18、 对Dao进行扩展封装，运用SqlSessionTemplate进行模板的扩展或运用： </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">首先看看这个组件中运用的一个Mapper的基类接口： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.mapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.dao.DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt; BaseSqlMapper继承SqlMapper，对Mapper进行接口封装，提供常用的增删改查组件；</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * 也可以对该接口进行扩展和封装</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-14 上午11:36:41</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file BaseSqlMapper.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.mapper</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> BaseSqlMapper&lt;T&gt; <span style="line-height:1.5;color:#0000ff;">extends</span> SqlMapper {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> add(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> edit(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> remvoe(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T get(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getList(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> DataAccessException;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">该接口继承SqlMapper接口，但是该接口没有MyBatis的mapper实现。需要我们自己的业务mapper继承这个接口，完成上面的方法的实现。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">看看继承SqlSessionTemplate的BaseMapperDao代码： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.dao;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"> </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.mapper.BaseSqlMapper;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"> </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt;</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-14 上午11:30:09</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @file BaseMapperDao.java</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.dao</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">interface</span> BaseMapperDao&lt;T&gt; {</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    @SuppressWarnings(<span style="line-height:1.5;color:#006080;">&quot;unchecked&quot;</span>)</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> setMapperClass(Class&lt;? <span style="line-height:1.5;color:#0000ff;">extends</span> BaseSqlMapper&gt; mapperClass);</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> add(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> edit(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> remove(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> T get(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    </pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getAll() <span style="line-height:1.5;color:#0000ff;">throws</span> Exception;</pre><pre style="padding-left:0px;margin-top:0px;white-space:pre-wrap;word-wrap:break-word;border-bottom-style:none;text-align:left;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:white;margin:0em;margin-bottom:0px;width:100%;padding-right:0px;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;">}</pre></div></div>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">package</span> com.hoo.dao.impl;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> java.util.List;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> javax.inject.Inject;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.apache.ibatis.session.SqlSessionFactory;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.mybatis.spring.SqlSessionTemplate;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> org.springframework.stereotype.Repository;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.dao.BaseMapperDao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">import</span> com.hoo.mapper.BaseSqlMapper;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;">/**</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * &lt;b&gt;function:&lt;/b&gt;运用SqlSessionTemplate封装Dao常用增删改方法，可以进行扩展</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @author hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @createDate 2011-4-14 下午12:22:07</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @file BaseMapperDaoImpl.java</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @package com.hoo.dao.impl</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @project MyBatisForSpring</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @email hoojo_@126.com</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> * @version 1.0</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#008000;"> */</span></pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@SuppressWarnings(<span style="line-height:1.5;color:#006080;">&quot;unchecked&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@Repository</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> BaseMapperDaoImpl&lt;T&gt; <span style="line-height:1.5;color:#0000ff;">extends</span> SqlSessionTemplate <span style="line-height:1.5;color:#0000ff;">implements</span> BaseMapperDao&lt;T&gt; {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> BaseMapperDaoImpl(SqlSessionFactory sqlSessionFactory) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">super</span>(sqlSessionFactory);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> Class&lt;? <span style="line-height:1.5;color:#0000ff;">extends</span> BaseSqlMapper&gt; mapperClass;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> setMapperClass(Class&lt;? <span style="line-height:1.5;color:#0000ff;">extends</span> BaseSqlMapper&gt; mapperClass) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">this</span>.mapperClass = mapperClass;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> BaseSqlMapper&lt;T&gt; getMapper() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#0000ff;">this</span>.getMapper(mapperClass);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> add(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">this</span>.getMapper().add(entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = true;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> edit(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">this</span>.getMapper().edit(entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = true;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> T get(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#0000ff;">this</span>.getMapper().get(entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> List&lt;T&gt; getAll() <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> <span style="line-height:1.5;color:#0000ff;">this</span>.getMapper().getList(null);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"> </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">boolean</span> remove(T entity) <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">boolean</span> flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">try</span> {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">this</span>.getMapper().remvoe(entity);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = true;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        } <span style="line-height:1.5;color:#0000ff;">catch</span> (Exception e) {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            flag = false;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">            <span style="line-height:1.5;color:#0000ff;">throw</span> e;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        <span style="line-height:1.5;color:#0000ff;">return</span> flag;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">上面这个类继承了SqlSessionTemplate，这个类需要提供一个构造函数。这里提供的是SqlSessionFactory的构造函数，通过该函数注入SqlSessionFactory即可完成数据库操作； </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">例外的是这个类还有一个关键属性mapperClass，这个class需要是BaseSqlMapper接口或是子接口，然后通过SqlSessionTemplate模板获得当前设置的Class的Mapper对象，完成数据库操作。 </p>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">该类的测试代码： </p>
<div>
<div style="padding-right:0px;border-bottom-style:none;padding-bottom:0px;line-height:12pt;border-right-style:none;background-color:#f4f4f4;padding-left:0px;width:100%;text-align:left;font-family:'Courier New', courier, monospace;direction:ltr;border-top-style:none;color:black;font-size:10pt;border-left-style:none;overflow:visible;padding-top:0px;"><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">@ContextConfiguration(<span style="line-height:1.5;color:#006080;">&quot;classpath:applicationContext-*.xml&quot;</span>)</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;"><span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">class</span> BaseMapperDaoImplTest <span style="line-height:1.5;color:#0000ff;">extends</span> AbstractJUnit38SpringContextTests {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    @Inject</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">private</span> BaseMapperDao&lt;Company&gt; dao;</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> init() {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        dao.setMapperClass(CompanyMapper.<span style="line-height:1.5;color:#0000ff;">class</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testGet() <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        init();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        Company c = <span style="line-height:1.5;color:#0000ff;">new</span> Company();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        c.setCompanyId(4);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(dao.get(c));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    </pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    <span style="line-height:1.5;color:#0000ff;">public</span> <span style="line-height:1.5;color:#0000ff;">void</span> testAdd() <span style="line-height:1.5;color:#0000ff;">throws</span> Exception {</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        init();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        Company c = <span style="line-height:1.5;color:#0000ff;">new</span> Company();</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        c.setAddress(<span style="line-height:1.5;color:#006080;">&quot;北京中关村&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        c.setName(<span style="line-height:1.5;color:#006080;">&quot;beijin&quot;</span>);</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">        System.out.println(dao.add(c));</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">    }</pre><pre style="margin-top:0px;margin-bottom:0px;white-space:pre-wrap;word-wrap:break-word;">}</pre></div></div>
<p style="line-height:1.5;margin:10px auto;text-indent:0px;">一般情况下，你可以在一个Dao中注入BaseMapperDao，紧跟着需要设置MapperClass。只有设置了MapperClass后，BaseMapperDao才能获取对应mapper，完成相关的数据库操作。当然你可以在这个Dao中将SqlSessionTemplate、SqlSession暴露出来，当BaseMapperDao的方法不够用，可以进行扩展。</p></div><div style="display:block;">
<br/>


<a href="http://hoojo.cnblogs.com/" style="color:rgb(26, 139, 200);text-decoration:none;">版权所有，转载请注明出处</a>
<a href="http://hoojo.cnblogs.com/" style="color:rgb(26, 139, 200);text-decoration:none;">本文出自：

</a><br/>

 

<a href="http://hoojo.cnblogs.com/" style="color:rgb(26, 139, 200);text-decoration:none;"><img src="MyBatis3整合Spring3、SpringMVC3 - hoojo - 博客园_files/lg-share-cn.gif" type="image/gif" data-filename="lg-share-cn.gif" alt="分享道" height="21" style="border:0;" width="125"/>版权所有，欢迎转载，转载请注明出处，谢谢</a>


 




<div style="position:fixed;right:40px;bottom:30px;">			
	<div style="background-image:none;float:left;height:20px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;background:url(http://static.cnblogs.com/images/upup.gif) no-repeat;width:46px;color:#FFFFFF;background-color:#E33100;border:medium none;font-size:9pt;font-weight:bold;text-decoration:none;text-shadow:0 -1px 1px rgba(0, 0, 0, 0.25);">
        <span style="line-height:1.5;font-size:9pt;color:#ffffff;font-family:Verdana;">赞</span> 		
	</div>			
</div>

<div style="position:fixed;right:100px;bottom:30px;">			
	<div style="background:url(http://static.cnblogs.com/images/upup.gif) no-repeat;float:left;height:20px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;width:46px;background-image:none;color:#FFFFFF;background-color:#2DAEBF;border:medium none;font-weight:bold;text-decoration:none;text-shadow:0 -1px 1px rgba(0, 0, 0, 0.25);">
        <span style="line-height:1.5;font-size:14px;color:rgb(7, 93, 179);font-family:Verdana;"><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html#top" style="color:#FFFFFF;text-decoration:none;font-size:9pt;">Top↑</a></span> 		
	</div>			
</div>

<div style="position:fixed;right:20px;bottom:0;">			
	<div style="background:url(http://static.cnblogs.com/images/upup.gif) no-repeat;float:left;height:20px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;width:46px;background-image:none;color:#FFFFFF;background-color:#FFB515;border:medium none;font-weight:bold;text-decoration:none;text-shadow:0 -1px 1px rgba(0, 0, 0, 0.25);">
        <span style="line-height:1.5;font-size:9pt;color:#FFFFFF;font-family:Verdana;">收藏</span> 		
	</div>			
</div>


<div style="position:fixed;right:80px;bottom:0;">			
	<div style="background:url(http://static.cnblogs.com/images/upup.gif) no-repeat;float:left;height:20px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;width:46px;background-image:none;color:#FFFFFF;background-color:green;border:medium none;font-weight:bold;text-decoration:none;text-shadow:0 -1px 1px rgba(0, 0, 0, 0.25);">
        <span style="line-height:1.5;font-size:9pt;color:#ffffff;font-family:Verdana;">关注</span> 		
	</div>			
</div>

<div style="position:fixed;right:140px;bottom:0;">			
	<div style="background:url(http://static.cnblogs.com/images/upup.gif) no-repeat;float:left;height:20px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;width:46px;background-image:none;color:#FFFFFF;background-color:#AFD788;border:medium none;font-weight:bold;text-decoration:none;text-shadow:0 -1px 1px rgba(0, 0, 0, 0.25);">
        <span style="line-height:1.5;font-size:9pt;color:#000000;font-family:Verdana;">评论</span> 		
	</div>			
</div></div>
<div style="clear:both;"></div>
<div style="margin-top:20px;">
<div style="margin-bottom:10px;">分类: <a href="http://www.cnblogs.com/hoojo/category/276244.html" style="color:rgb(26, 139, 200);text-decoration:none;">JavaEE</a>, <a href="http://www.cnblogs.com/hoojo/category/276257.html" style="color:rgb(26, 139, 200);text-decoration:none;">Spring</a>, <a href="http://www.cnblogs.com/hoojo/category/276269.html" style="color:rgb(26, 139, 200);text-decoration:none;">FrameWork Integration</a>, <a href="http://www.cnblogs.com/hoojo/category/294148.html" style="color:rgb(26, 139, 200);text-decoration:none;">MyBatis</a></div>
<div style="margin-top:0px;">标签: <a href="http://www.cnblogs.com/hoojo/tag/Spring/" style="color:rgb(26, 139, 200);text-decoration:none;">Spring</a>, <a href="http://www.cnblogs.com/hoojo/tag/JavaEE/" style="color:rgb(26, 139, 200);text-decoration:none;">JavaEE</a>, <a href="http://www.cnblogs.com/hoojo/tag/%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/" style="color:rgb(26, 139, 200);text-decoration:none;">框架整合</a>, <a href="http://www.cnblogs.com/hoojo/tag/MyBatis/" style="color:rgb(26, 139, 200);text-decoration:none;">MyBatis</a></div>
<div><div style="padding:10px 5px;margin-bottom:10px;margin-top:10px;border:1px dashed silver;font-size:9pt;width:430px;">
绿色通道：
<a href="#" style="border-radius:10px;background-color:rgb(45, 174, 191);display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;text-decoration:none;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;font-size:9pt;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D) repeat-x;border:none;color:rgb(255, 255, 255);">好文要顶</a>
<a href="#" style="border-radius:10px;background-color:rgb(227, 49, 0);display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;text-decoration:none;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;font-size:9pt;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D) repeat-x;border:none;color:rgb(255, 255, 255);">关注我</a>
<a href="#" style="border-radius:10px;background-color:rgb(255, 181, 21);display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;text-decoration:none;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;font-size:9pt;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D) repeat-x;border:none;color:rgb(255, 255, 255);">收藏该文</a><a href="http://msg.cnblogs.com/send/hoojo" style="border-radius:10px;background-color:rgb(238, 238, 238);display:inline-block;padding:3px 8px;font-weight:bold;cursor:pointer;margin-right:10px;text-decoration:none;-webkit-box-shadow:rgba(0, 0, 0, 0.498039) 0px 1px 3px;text-shadow:rgba(0, 0, 0, 0.247059) 0px -1px 1px;font-size:9pt;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNo8zjsOxCAMBFB/KEAUFFR0Cbng3nQPw68ArZdAlOZppPFIBhH5EAB8b+Tlt9MYQ6i1BuqFaq1CKSVcxZ2Acs6406KUgpt5/LCKuVgz5BDCSb13ZO99ZOdcZGvt4mJjzMVKqcha68iIePB86GAiOv8CDADlIUQBs7MD3wAAAABJRU5ErkJggg%3D%3D) repeat-x;border:none;color:rgb(255, 255, 255);" target="_blank">与我联系</a>
<a href="#" style="margin-right:10px;color:rgb(255, 255, 255);display:inline-block;padding:3px 2px;font-weight:bold;cursor:pointer;text-decoration:none;border-radius:10px;-webkit-box-shadow:none;text-shadow:none;font-size:9pt;background:none;border:none;" title="分享至新浪微博"><img src="MyBatis3整合Spring3、SpringMVC3 - hoojo - 博客园_files/icon_weibo_24.png" type="image/png" data-filename="icon_weibo_24.png" height="24" style="border:none;vertical-align:middle;margin-left:5px;box-shadow:none;" width="24"/></a>
</div>
<div style="float:left;width:280px;margin-top:0px;margin-bottom:10px;color:rgb(0, 0, 0);margin-left:0px;font-size:12px;">
<div style="float:left;line-height:18px;">
<a href="http://home.cnblogs.com/u/hoojo/" style="color:rgb(26, 139, 200);text-decoration:none;" target="_blank"><img src="MyBatis3整合Spring3、SpringMVC3 - hoojo - 博客园_files/u151517.jpg" type="image/jpeg" data-filename="u151517.jpg" height="48" style="border:0px;vertical-align:top;float:left;margin-right:5px;padding-top:5px;padding-left:2px;" width="48"/></a>
<div style="float:left;line-height:18px;">
<a href="http://home.cnblogs.com/u/hoojo/" style="color:rgb(26, 139, 200);text-decoration:none;">hoojo</a><br/>
<a href="http://home.cnblogs.com/u/hoojo/followees" style="color:rgb(26, 139, 200);text-decoration:none;">关注 - 1</a><br/>
<a href="http://home.cnblogs.com/u/hoojo/followers" style="color:rgb(26, 139, 200);text-decoration:none;">粉丝 - 1086</a>
</div>
</div>
<div style="clear:both;"></div>
<div></div>
<div>
    <a href="#" style="color:rgb(26, 139, 200);text-decoration:none;">+加关注</a>
</div>
</div>
<div style="float:right;margin-bottom:10px;margin-right:30px;font-size:12px;width:125px;text-align:center;margin-top:10px;">										
    <div style="float:left;width:46px;height:52px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;background:url(http://static.cnblogs.com/images/upup.gif) no-repeat;">
        <span style="font-size:14px;color:rgb(7, 93, 179);font-family:Verdana;line-height:1.5em;">13</span>
    </div>
	<div style="float:right;margin-left:20px;width:46px;height:52px;text-align:center;cursor:pointer;margin-top:2px;padding-top:5px;background:url(http://static.cnblogs.com/images/downdown.gif) no-repeat;"> 
		<span style="font-size:14px;color:rgb(7, 93, 179);font-family:Verdana;line-height:1.5em;">0</span>
	</div>
	<div style="clear:both;"></div>	
	<div style="margin-top:5px;margin-left:0px;font-size:12px;color:gray;">
    (请您对文章做出评价)
    </div>	
</div>
</div>
<div style="clear:both;"></div>
<div style="line-height:1.8;font-size:12px;"><a href="http://www.cnblogs.com/hoojo/archive/2011/03/30/1999587.html" style="color:rgb(26, 139, 200);text-decoration:none;">« </a> 上一篇：<a href="http://www.cnblogs.com/hoojo/archive/2011/03/30/1999587.html" style="color:rgb(26, 139, 200);text-decoration:none;" title="发布于2011-03-30 11:52">CXF WebService 开发文档-目录索引</a><br/><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2017447.html" style="color:rgb(26, 139, 200);text-decoration:none;">» </a> 下一篇：<a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2017447.html" style="color:rgb(26, 139, 200);text-decoration:none;" title="发布于2011-04-15 18:14">MyBatis3整合Spring3的Transaction事务处理</a><br/></div>
</div>


	<div style="color:rgb(48, 48, 48);margin-top:10px;text-align:right;">posted on <span style="line-height:1.5;">2011-04-15 10:06</span> <a href="http://www.cnblogs.com/hoojo/" style="color:rgb(26, 139, 200);text-decoration:none;">hoojo</a> 阅读(<span style="line-height:1.5;">44235</span>) 评论(<span style="line-height:1.5;">82</span>)  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=2016324" rel="nofollow" style="color:rgb(26, 139, 200);text-decoration:none;">编辑</a> <a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html#" style="color:rgb(26, 139, 200);text-decoration:none;">收藏</a></div>
</div></div></div></div></div></div><br/></span>
</div></body></html> 