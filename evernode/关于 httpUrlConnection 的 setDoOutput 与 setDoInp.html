<html>
<head>
  <title>关于 httpUrlConnection 的 setDoOutput 与 setDoInput - 潇儒瀚 - ITeye技术网站</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7854"/>
<h1>关于 httpUrlConnection 的 setDoOutput 与 setDoInput - 潇儒瀚 - ITeye技术网站</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/11/5 11:34</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://2320098003-qq-com.iteye.com/blog/1434536"><i>http://2320098003-qq-com.iteye.com/blog/1434536</i></a></td></tr>
</table>
</div>
<br/>

<div>
<span><br/><div style="font-size: 16px"><div style="text-align:center;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:12px;color:black;background-color:white;"><div style="background-color:rgb(239, 250, 255);text-align:center;"><div style="text-align:left;"><div style="overflow:hidden;background-color:white;"><div style="background-color:white;"><div style="font-size:14px;"><p style="margin:0px;padding:0px;"></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">httpUrlConnection.setDoOutput(true）</span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">httpUrlConnection.setDoInput(true)</span></span></p><p style="margin:0px;padding:0px;"></p><p style="margin:0px;padding:0px;"> </p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">这两个方法在develope的<span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">httpUrlConnection方法中</span></span>找不到的。</span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">一般情况是：</span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">          HttpURLConnection conn = (HttpURLConnection)url.openConnection();</span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">          url.openConnection()得到的是URLConnection对象，次类有setDoOutput(）和setDoInput()</span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"> </p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="background-color:#888888;color:#3366ff;">-                                                                              -</span></span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"> </p><p style="margin:0px;padding:0px;"></p><ol style="font-size:1em;margin:0px 0px 1px 45px;padding:0px;background-color:#ffffff;color:#5c5c5c;border-style:none;"><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">httpUrlConnection.setDoOutput(</span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">true</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">);以后就可以使用conn.getOutputStream().write()  </span></span></li><li style="border-right-style:none;font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;background-color:#f8f8f8;padding-left:10px !important;padding-right:3px !important;border-top-style:none;color:#5c5c5c;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">httpUrlConnection.setDoInput(<span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">true</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">);以后就可以使用conn.getInputStream().read();  </span></span></li><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">  </span></li><li style="border-right-style:none;font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;background-color:#f8f8f8;padding-left:10px !important;padding-right:3px !important;border-top-style:none;color:#5c5c5c;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">get请求用不到conn.getOutputStream()，因为参数直接追加在地址后面，因此默认是<span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">false</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">。  </span></span></li><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">post请求（比如：文件上传）需要往服务区传输大量的数据，这些数据是放在http的body里面的，因此需要在建立连接以后，往服务端写数据。  </span></li><li style="border-right-style:none;font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;background-color:#f8f8f8;padding-left:10px !important;padding-right:3px !important;border-top-style:none;color:#5c5c5c;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">  </span></li><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">因为总是使用conn.getInputStream()获取服务端的响应，因此默认值是<span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">true</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">。  </span></span></li></ol><p style="margin:0px;padding:0px;"></p><p style="margin:0px;padding:0px;"> </p><p style="margin:0px;padding:0px;"></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="background-color:#888888;color:#3366ff;">-                                                                              -</span></span></span></p><p style="border-right-style:none;margin:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;padding:0px;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"> </p><p style="margin:0px;padding:0px;"></p><p style="margin:0px;padding:0px;"> </p><p style="margin:0px;padding:0px;"></p><ol style="font-size:1em;margin:0px 0px 1px 45px;padding:0px;background-color:#ffffff;color:#5c5c5c;border-style:none;"><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">public</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> </span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">void</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> setDoInput(</span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">boolean</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> doinput)将此 URLConnection 的 doInput 字段的值设置为指定的值。    </span></span></li><li style="border-right-style:none;font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;background-color:#f8f8f8;padding-left:10px !important;padding-right:3px !important;border-top-style:none;color:#5c5c5c;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">URL 连接可用于输入和/或输出。如果打算使用 URL 连接进行输入，则将 DoInput 标志设置为 <span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">true</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">；如果不打算使用，则设置为 </span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">false</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">。默认值为 </span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">true</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">。  </span></span></li><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">public</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> </span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">void</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> setDoOutput(</span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">boolean</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> dooutput)将此 URLConnection 的 doOutput 字段的值设置为指定的值。    </span></span></li><li style="border-right-style:none;font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;background-color:#f8f8f8;padding-left:10px !important;padding-right:3px !important;border-top-style:none;color:#5c5c5c;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">URL 连接可用于输入和/或输出。如果打算使用 URL 连接进行输出，则将 DoOutput 标志设置为 <span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">true</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">；如果不打算使用，则设置为 </span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">false</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">。默认值为 </span><span style="margin:0px;color:#006699;font-weight:bold;border-style:none;padding:0px;">false</span><span style="margin:0px;color:#000000;border-style:none;padding:0px;">。    </span></span></li><li style="font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;border-right-style:none;background-color:#ffffff;padding-left:10px !important;padding-right:3px !important;border-top-style:none;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;">  </span></li><li style="border-right-style:none;font-size:1em;padding:0px;border-bottom-style:none;border-left:#6ce26c 3px solid;padding-bottom:0px !important;margin:0px;background-color:#f8f8f8;padding-left:10px !important;padding-right:3px !important;border-top-style:none;color:#5c5c5c;padding-top:0px !important;"><span style="margin:0px;color:#000000;border-style:none;padding:0px;"> </span></li></ol><p style="margin:0px;padding:0px;"></p><p style="margin:0px;padding:0px;"> </p></div></div></div></div></div></div></div><br/></span>
</div></body></html> 