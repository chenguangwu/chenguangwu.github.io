<html>
<head>
  <title>Spring Boot 应用可视化监控 | Spring For All</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5910"/>
<h1>Spring Boot 应用可视化监控 | Spring For All</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/12/8 16:09</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.spring4all.com/article/265"><i>http://www.spring4all.com/article/265</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;font-family:sans-serif;text-size-adjust:100%;font-size:14px;"><div style="box-sizing:inherit;overflow-x:hidden;min-width:320px;background:rgb(255, 255, 255);font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;font-size:14px;line-height:1.4285em;color:rgba(0, 0, 0, 0.870588);background-color:#f3f3f3;"><div style="box-sizing:inherit;"><div style="box-sizing:inherit;"><div style="box-sizing:inherit;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:stretch;align-items:stretch;"><div style="box-sizing:inherit;vertical-align:top;"><div style="box-sizing:inherit;background:rgb(255, 255, 255);box-shadow:rgba(34, 36, 38, 0.14902) 0px 1px 2px 0px;border-radius:0.285714rem;font-size:1rem;"><h3 style="font-size:1.28571rem;box-sizing:inherit;border:none;line-height:1.28571em;font-weight:700;padding:0px;font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;text-transform:none;margin-top:-0.142857em;padding-bottom:0.214286rem;border-bottom:2px solid rgb(219, 40, 40);color:rgb(219, 40, 40);"><i style="height:1em;box-sizing:inherit;font-family:Icons;backface-visibility:hidden;-webkit-font-smoothing:antialiased;speak:none;text-align:center;margin:0px 0.25rem 0px 0px;width:1.18em;text-decoration:inherit;font-weight:400;font-style:normal;font-size:1.5em;display:table-cell;vertical-align:middle;padding-top:0.142857em;opacity:1;margin-bottom:0px;"><span style="font-size:1.5em;font-family:Icons;font-style:normal;font-weight:400;text-align:center;background:0px 0px !important;"></span></i> <div style="box-sizing:inherit;display:table-cell;vertical-align:middle;padding-left:0.75rem;">Spring Boot 应用可视化监控</div></h3> <div style="line-height:1.6;box-sizing:inherit;padding:0px;overflow:auto;font-family:&quot;Microsoft YaHei&quot;, Helvetica, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Monaco, monospace, Tahoma, STXihei, 华文细黑, STHeiti, &quot;Helvetica Neue&quot;, &quot;Droid Sans&quot;, &quot;wenquanyi micro hei&quot;, FreeSans, Arimo, Arial, SimSun, 宋体, Heiti, 黑体, sans-serif;font-size:14px;text-size-adjust:100%;word-wrap:break-word;text-align:left;color:rgb(51, 51, 51);width:100%;background-color:rgb(255, 255, 255);"><h2 style="font-size:1.75em;box-sizing:border-box;font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;padding:0px;font-weight:bold;line-height:1.225;margin-bottom:16px;position:relative;padding-bottom:0.3em;border-bottom:1px solid rgb(238, 238, 238);margin-top:0px;"><a name="图文简介" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;"></a>图文简介</h2><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240.png" type="image/png" data-filename="1240.png" alt="逻辑关系" height="584" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [1].png" type="image/png" data-filename="1240.png" alt="效果演示" height="402" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<h2 style="font-size:1.75em;box-sizing:border-box;font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;padding:0px;font-weight:bold;line-height:1.225;margin-top:1em;margin-bottom:16px;position:relative;padding-bottom:0.3em;border-bottom:1px solid rgb(238, 238, 238);"><a name="快速开始" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;"></a>快速开始</h2><h4 style="font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;padding:0px;box-sizing:border-box;line-height:1.4;font-weight:bold;font-size:1.25em;margin-top:1em;margin-bottom:16px;position:relative;"><a name="1、Spring Boot 应用暴露监控指标【版本 1.5.7.RELEASE】" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;"></a>1、Spring Boot 应用暴露监控指标【版本 1.5.7.RELEASE】</h4><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">首先，添加依赖如下依赖：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;io.prometheus&lt;/groupId&gt;
            &lt;artifactId&gt;simpleclient_spring_boot&lt;/artifactId&gt;
            &lt;version&gt;0.0.26&lt;/version&gt;
        &lt;/dependency&gt;
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">然后，在启动类 <code style="box-sizing:border-box;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;padding:3px;margin:0px;border-radius:3px;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);margin-left:5px;margin-right:4px;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span>Application.java<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span></code> 添加如下注解：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>@SpringBootApplication
@EnablePrometheusEndpoint
@EnableSpringBootMetricsCollector
public class Application {

    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }

}
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">最后，配置默认的登录账号和密码，在 <code style="box-sizing:border-box;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;padding:3px;margin:0px;border-radius:3px;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);margin-left:5px;margin-right:4px;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span>application.yml<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span></code> 中：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>security:
  user:
    name: user
    password: pwd
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><blockquote style="font-size:14px;box-sizing:border-box;padding:0px 15px;color:rgb(102, 102, 102);border-left:4px solid rgb(221, 221, 221);margin:0px;font-style:italic;margin-top:0px;margin-bottom:16px;padding-left:20px;margin-left:0px;">
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:0px;">提示：不建议配置 <code style="box-sizing:border-box;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;padding:3px;margin:0px;border-radius:3px;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);margin-left:5px;margin-right:4px;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span>management.security.enabled: false<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span></code></p>
</blockquote>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">启动应用程序后，会看到如下一系列的 <code style="box-sizing:border-box;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;padding:3px;margin:0px;border-radius:3px;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);margin-left:5px;margin-right:4px;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span>Mappings<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span></code></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [2].png" type="image/png" data-filename="1240.png" alt="Mappings" height="444" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">利用账号密码访问 <a href="http://localhost:8080/application/prometheus" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">http://localhost:8080/application/prometheus</a> ，可以看到 Prometheus 格式的指标数据<br style="box-sizing:border-box;"/><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [3].png" type="image/png" data-filename="1240.png" alt="指标数据" height="435" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<h4 style="font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;padding:0px;box-sizing:border-box;line-height:1.4;font-weight:bold;font-size:1.25em;margin-top:1em;margin-bottom:16px;position:relative;"><a name="2、Prometheus 采集 Spring Boot 指标数据" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;"></a>2、Prometheus 采集 Spring Boot 指标数据</h4><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">首先，获取 Prometheus 的 Docker 镜像：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>$ docker pull prom/prometheus
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">然后，编写配置文件 <code style="box-sizing:border-box;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;padding:3px;margin:0px;border-radius:3px;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);margin-left:5px;margin-right:4px;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span>prometheus.yml<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:14px;letter-spacing:-0.2em;"> </span></code> ：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>global:
  scrape_interval: 10s
  scrape_timeout: 10s
  evaluation_interval: 10m
scrape_configs:
  - job_name: spring-boot
    scrape_interval: 5s
    scrape_timeout: 5s
    metrics_path: /application/prometheus
    scheme: http
    basic_auth:
      username: user
      password: pwd
    static_configs:
      - targets:
        - 127.0.0.1:8080  #此处填写 Spring Boot 应用的 IP + 端口号
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">接着，启动 Prometheus :</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>$ docker run -d \
--name prometheus \
-p 9090:9090 \
-m 500M \
-v &quot;$(pwd)/prometheus.yml&quot;:/prometheus.yml \
-v &quot;$(pwd)/data&quot;:/data \
prom/prometheus \
-config.file=/prometheus.yml \
-log.level=info
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">最后，访问 <a href="http://localhost:9090/targets" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">http://localhost:9090/targets</a> , 检查 Spring Boot 采集状态是否正常。</p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [4].png" type="image/png" data-filename="1240.png" alt="采集状态" height="160" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<h4 style="font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;padding:0px;box-sizing:border-box;line-height:1.4;font-weight:bold;font-size:1.25em;margin-top:1em;margin-bottom:16px;position:relative;"><a name="3、Grafana 可视化监控数据" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;"></a>3、Grafana 可视化监控数据</h4><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">首先，获取 Grafana 的 Docker 镜像：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>$ docker pull grafana/grafana
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">然后，启动 Grafana：</p>
<pre style="font-weight:normal;box-sizing:border-box;font-stretch:normal;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;margin-top:0px;margin-bottom:16px;font-style:normal;font-variant:normal;overflow:auto;font-size:85%;line-height:1.6;padding:10px;border-radius:3px;word-wrap:normal;border:1px solid rgb(221, 221, 221);background:rgb(246, 246, 246);"><code style="background:transparent;box-sizing:border-box;border:0px;font-size:100%;margin:0px;border-radius:3px;word-break:normal;white-space:pre;font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;padding:0px;display:inline;max-width:initial;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;"><span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span>$ docker run --name grafana -d -p 3000:3000 grafana/grafana
<span style="font-family:&quot;YaHei Consolas Hybrid&quot;, Consolas, &quot;Meiryo UI&quot;, &quot;Malgun Gothic&quot;, &quot;Segoe UI&quot;, &quot;Trebuchet MS&quot;, Helvetica, monospace, monospace;font-size:100%;white-space:pre;line-height:inherit;letter-spacing:-0.2em;"></span></code></pre><p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">接着，访问 <a href="http://localhost:3000/" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">http://localhost:3000/</a> 配置 Prometheus 数据源：</p>
<blockquote style="font-size:14px;box-sizing:border-box;padding:0px 15px;color:rgb(102, 102, 102);border-left:4px solid rgb(221, 221, 221);margin:0px;font-style:italic;margin-top:0px;margin-bottom:16px;padding-left:20px;margin-left:0px;">
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:0px;">Grafana 登录账号 admin 密码 admin</p>
</blockquote>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [5].png" type="image/png" data-filename="1240.png" alt="配置 DataSource" height="439" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">最后，配置单个指标的可视化监控面板：</p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [6].png" type="image/png" data-filename="1240.png" alt="选择 Graph" height="237" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [7].png" type="image/png" data-filename="1240.png" alt="编辑" height="205" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [8].png" type="image/png" data-filename="1240.png" alt="配置需要监控的指标" height="409" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">提示，此处不能任意填写，只能填已有的指标点，具体的可以在 Prometheus 的首页看到，即 <a href="http://localhost:9090/graph" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">http://localhost:9090/graph</a></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [9].png" type="image/png" data-filename="1240.png" alt="指标" height="407" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;">多配置几个指标之后，即可有如下效果：</p>
<p style="margin:0px 0px 1em;line-height:1.4285em;box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><img src="Spring Boot 应用可视化监控  Spring For All_files/1240 [10].png" type="image/png" data-filename="1240.png" alt="Grafana 监控界面" height="426" style="box-sizing:border-box;border:0px;max-width:100%;" width="808"/></p>
<h2 style="font-size:1.75em;box-sizing:border-box;font-family:Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif;margin:calc(2rem - 0.142857em) 0px 1rem;padding:0px;font-weight:bold;line-height:1.225;margin-top:1em;margin-bottom:16px;position:relative;padding-bottom:0.3em;border-bottom:1px solid rgb(238, 238, 238);"><a name="参考文档" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;"></a>参考文档</h2><ul style="box-sizing:border-box;padding:0px;margin-top:0px;padding-left:2em;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://prometheus.io/docs/introduction/overview/" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">prometheus 官方文档</a></li><li style="box-sizing:border-box;"><a href="http://docs.grafana.org/installation/docker/" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">Grafana Docker 安装</a></li><li style="box-sizing:border-box;"><a href="http://projects.spring.io/spring-boot/" style="box-sizing:border-box;background:transparent;color:rgb(65, 131, 196);text-decoration:none;">Spring Boot 官方文档</a></li></ul>
</div></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 