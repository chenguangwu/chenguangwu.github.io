<html>
<head>
  <title>超实用的 Nginx 极简教程，覆盖了常用场景</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="11740"/>
<h1>超实用的 Nginx 极简教程，覆盖了常用场景</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/2/27 9:18</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2019/2/27 9:20</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://mp.weixin.qq.com/s/vHkxYfpuiAteMNSrpNWdsw"><i>https://mp.weixin.qq.com/s/vHkxYfpuiAteMNSrpNWdsw</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="text-size-adjust:100%;line-height:1.6;-webkit-appearance:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div style="font-family:-apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color:rgb(51, 51, 51);background-color:rgb(255, 255, 255);letter-spacing:0.034em;line-height:1.6;font-size:initial;-webkit-appearance:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div><div style="overflow-wrap:break-word;"><div style="background-color:rgb(255, 255, 255);"><div><div><div style="overflow:hidden;color:rgb(51, 51, 51);font-size:17px;overflow-wrap:break-word;text-align:justify;">
                    

                    

                    
                    
                    <div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;white-space:normal;color:rgb(51, 51, 51);font-family:-apple-system-font, system-ui, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:0.544px;text-align:justify;background-color:rgb(255, 255, 255);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;color:rgb(0, 0, 0);font-size:16px;text-align:center;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(127, 127, 127);font-size:14px;line-height:1.75em;">点击上方“</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:14px;line-height:1.75em;color:rgb(0, 176, 240);">芋道源码</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(127, 127, 127);font-size:14px;line-height:1.75em;">”，选择“<a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486188&amp;idx=3&amp;sn=f160d91ea23e5113e6077c500a2e30c4&amp;chksm=fa49755dcd3efc4bf4f566fbbbf74c191d0b79f2d3222fd211bc52d80b5ef127f52b1158ed71&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;" target="_blank">设为星标</a>”</span></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;font-size:16px;color:rgb(62, 62, 62);text-align:center;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(127, 127, 127);font-size:14px;">做积极的人，而不是积极废人！</span></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);font-size:medium;line-height:normal;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:10px;margin-bottom:10px;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-right:1em;padding-left:1em;display:inline-block;color:rgb(89, 89, 89);font-size:15px;letter-spacing:0.5px;text-align:center;"><span style="margin:0px;padding:0.3em 0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;display:inline-block;border-radius:0.5em;font-size:13px;color:rgb(255, 255, 255);background-color:rgb(95, 156, 239);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">源码精品专栏</p></span> </div><div style="margin:0px;padding:20px 10px 10px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:-1em;border-width:1px;border-style:solid;border-color:rgb(192, 200, 209);text-align:center;background-color:rgb(239, 239, 239);"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;text-align:left;"><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;list-style-type:circle;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486264&amp;idx=1&amp;sn=475ac3f1ef253a33daacf50477203c80&amp;chksm=fa497489cd3efd9f7298f5da6aad0c443ae15f398436aff57cb2b734d6689e62ab43ae7857ac&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">中文详细注释的开源项目</span></a><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486256&amp;idx=1&amp;sn=81daccd3fcd2953456c917630636fb26&amp;chksm=fa497481cd3efd97d9239f5eab060e49dea9876a6046eadba0effb878d2fb51f3ba5733e4c0b&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">消息中间件 RocketMQ 源码解析</span></a><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486257&amp;idx=1&amp;sn=4d3c9c675f8833157641a2e0b48e498c&amp;chksm=fa497480cd3efd96fe17975b0b8b141e87fd0a62673e6a30b501460de80b3eb997056f09de08&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">数据库中间件 Sharding-JDBC 和 MyCAT 源码解析</span></a></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486258&amp;idx=1&amp;sn=ae5665ae9c3002b53f87cab44948a096&amp;chksm=fa497483cd3efd950514da5a37160e7fd07f0a96f39265cf7ba3721985e5aadbdcbe7aafc34a&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">作业调度中间件 Elastic-Job 源码解析</span></a></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486259&amp;idx=1&amp;sn=b023cf3dbf97e5da59db2f4ee632f5a6&amp;chksm=fa497482cd3efd9402d71469f71863f71a6998b27e12ca2e00446b8178d79dcef0721d8e570a&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">分布式事务中间件 TCC-Transaction 源码解析</span></a></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486260&amp;idx=1&amp;sn=8f14c0c191d6f8df6eb34202f4ad9708&amp;chksm=fa497485cd3efd93937143a648bc1b530bc7d1f6f8ad4bf2ec112ffe34dee80b474605c22db0&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">Eureka 和 Hystrix 源码解析</span></a></p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><a href="http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247486261&amp;idx=1&amp;sn=bd69f26aadfc826f6313ffbb95e44ee5&amp;chksm=fa497484cd3efd92352d6fb3d05ccbaebca2fafed6f18edbe5be70c99ba088db5c8a7a8080c1&amp;scene=21#wechat_redirect" style="margin:0px;padding:0px;color:rgb(87, 107, 149);text-decoration:underline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;" target="_blank"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;">Java 并发源码</span></a></p></li></ul></div></div></div></div></div></div></div></div></div></div></div><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;white-space:normal;font-family:-apple-system-font, system-ui, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;letter-spacing:0.544px;text-align:right;background-color:rgb(255, 255, 255);color:rgb(51, 51, 51);font-size:17px;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:10px;color:rgb(136, 136, 136);">来源：http://t.cn/EVBldK2</span></p><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">概述</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">安装与使用</p></li><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:30px;list-style-type:square;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">安装</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">使用</p></li></ul><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">nginx 配置实战</p></li><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:30px;list-style-type:square;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">http 反向代理配置</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">负载均衡配置</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">网站有多个 webapp 的配置</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">https 反向代理配置</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">静态站点配置</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">搭建文件服务器</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">跨域解决方案</p></li></ul><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">参考</p></li></ul><hr style="margin:0px;padding:0px;max-width:100%;box-sizing:content-box;overflow-wrap:break-word;margin-top:16px;margin-bottom:16px;border-width:0px;border-style:none;border-color:initial;height:2px;background-color:rgb(231, 231, 231);color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;"/><h1 style="font-weight:bold;font-size:1.2rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:35px;margin-bottom:15px;padding-bottom:0.5em;line-height:1.225;cursor:text;border-bottom:1px solid rgb(221, 221, 221);color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">概述</h1><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);">什么是 Nginx?</strong></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);">Nginx (engine x)</strong> 是一款轻量级的 Web 服务器 、反向代理服务器及电子邮件（IMAP/POP3）代理服务器。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);"><img src="超实用的 Nginx 极简教程，覆盖了常用场景_files/640.webp" type="image/webp" data-filename="640.webp" height="359" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;width:638px !important;visibility:visible !important;" width="638"/></div><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);">什么是反向代理？</strong></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。</p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);"></div><h1 style="font-weight:bold;font-size:1.2rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:35px;margin-bottom:15px;padding-bottom:0.5em;line-height:1.225;cursor:text;border-bottom:1px solid rgb(221, 221, 221);color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">安装与使用</h1><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">安装</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">详细安装方法请参考：Nginx 安装</p><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">使用</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">nginx 的使用比较简单，就是几条命令。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">常用到的命令如下：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;">nginx -s stop       快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -s quit       平稳关闭Nginx，保存相关信息，有安排的结束web服务。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -s reload     因改变了Nginx相关配置，需要重新加载配置而重载。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -s reopen     重新打开日志文件。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -c filename   为 Nginx 指定一个配置文件，来代替缺省的。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -t            不运行，而仅仅测试配置文件。nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -v            显示 nginx 的版本。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx -V            显示 nginx 的版本，编译器版本和配置参数。<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">如果不想每次都敲命令，可以在 nginx 安装目录下新添一个启动批处理文件<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);">startup.bat</strong>，双击即可运行。内容如下：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;">@<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">echo</span> off<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>rem 如果启动前已经启动nginx并记录下pid文件，会<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">kill</span>指定进程<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx.exe -s stop<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>rem 测试配置文件语法正确性<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx.exe -t -c conf/nginx.conf<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>rem 显示版本信息<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx.exe -v<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>rem 按照指定配置去启动nginx<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>nginx.exe -c conf/nginx.conf<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">如果是运行在 Linux 下，写一个 shell 脚本，大同小异。</p><h1 style="font-weight:bold;font-size:1.2rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:35px;margin-bottom:15px;padding-bottom:0.5em;line-height:1.225;cursor:text;border-bottom:1px solid rgb(221, 221, 221);color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">nginx 配置实战</h1><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">我始终认为，各种开发工具的配置还是结合实战来讲述，会让人更易理解。</p><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">http 反向代理配置</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">我们先实现一个小目标：不考虑复杂的配置，仅仅是完成一个 http 反向代理。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">nginx.conf 配置文件如下：<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-weight:400;">注：conf / nginx.conf 是 nginx 的默认配置文件。你也可以使用 nginx -c 指定你的配置文件</span></strong></p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#运行用户</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#user somebody;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#启动进程,通常设置成和cpu的数量相等</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">worker_processes</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#全局错误日志</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">error_log</span>  D:/Tools/nginx-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>/logs/error.log;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">error_log</span>  D:/Tools/nginx-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>/logs/notice.log  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">notice</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">error_log</span>  D:/Tools/nginx-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>/logs/info.log  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">info</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#PID文件，记录当前启动的nginx的进程ID</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">pid</span>        D:/Tools/nginx-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>/logs/nginx.pid;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#工作模式及连接数上限</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">events</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">worker_connections</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1024</span>;    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#单个后台worker process进程的最大并发链接数</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定http服务器，利用它的反向代理功能提供负载均衡支持</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">http</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定mime类型(邮件支持类型),类型由mime.types文件定义</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">include</span>       D:/Tools/nginx-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>/conf/mime.types;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">default_type</span>  application/octet-stream;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定日志</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">log_format</span>  main  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'[<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$remote_addr</span>] - [<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$remote_user</span>] [<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$time_local</span>] &quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$request</span>&quot; '</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>                      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$status</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$body_bytes_sent</span> &quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$http_referer</span>&quot; '</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>                      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'&quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$http_user_agent</span>&quot; &quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$http_x_forwarded_for</span>&quot;'</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">access_log</span>    D:/Tools/nginx-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10</span>.<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>/logs/access.log main;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">rewrite_log</span>     <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，对于普通应用，</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#必须设为 on,如果用来进行下载等应用磁盘IO重负载应用，可设置为 off，以平衡磁盘与网络I/O处理速度，降低系统的uptime.</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">sendfile</span>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#tcp_nopush     on;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#连接超时时间</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">keepalive_timeout</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">120</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">tcp_nodelay</span>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#gzip压缩开关</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#gzip  on;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定实际的服务器列表</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> zp_server1{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">127.0.0.1:8089</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#HTTP服务器</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#监听80端口，80端口是知名端口号，用于HTTP协议</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">80</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#定义使用www.xx.com访问</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server_name</span>  www.helloworld.com;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#首页</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">index</span> index.html<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#指向webapp的目录</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        root D:\01_Workspace\Project\github\zp\SpringNotes\spring-security\spring-shiro\src\main\webapp;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#编码格式</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">charset</span> utf-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">8</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#代理配置参数</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_connect_timeout</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">180</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_send_timeout</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">180</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_read_timeout</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">180</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_set_header</span> Host <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$host</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_set_header</span> X-Forwarder-For <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$remote_addr</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#反向代理的路径（和upstream绑定），location 后面设置映射的路径</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> / {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://zp_server1;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#静态文件，nginx自己处理</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">~ ^/(images|javascript|js|css|flash|media|static)/</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">root</span> D:\01_Workspace\Project\github\zp\SpringNotes\spring-security\spring-shiro\src\main\webapp\views;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#过期30天，静态文件不怎么更新，过期可以设大一点，如果频繁更新，则可以设置得小一点。</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">expires</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">30d</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定查看Nginx状态的地址</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> /NginxStatus {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">stub_status</span>           <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">access_log</span>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">auth_basic</span>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;NginxStatus&quot;</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">auth_basic_user_file</span>  conf/htpasswd;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#禁止访问 .htxxx 文件</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">~ /\.ht</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">deny</span> all;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#错误处理页面（可选择性配置）</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#error_page   404              /404.html;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#error_page   500 502 503 504  /50x.html;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#location = /50x.html {</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#    root   html;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#}</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">好了，让我们来试试吧：</p><ol style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">启动 webapp，注意启动绑定的端口要和 nginx 中的 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">upstream</code> 设置的端口保持一致。</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">更改 host：在 C:\Windows\System32\drivers\etc 目录下的 host 文件中添加一条 DNS 记录</p></li></ol><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;">127<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">.0</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">.0</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">.1</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(178, 148, 187);word-break:inherit !important;">www</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">.helloworld</span><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">.com</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><ol start="3" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">启动前文中 startup.bat 的命令</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">在浏览器中访问 www.helloworld.com，不出意外，已经可以访问了。</p></li></ol><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">负载均衡配置</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">上一个例子中，代理仅仅指向一个服务器。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">但是，网站在实际运营过程中，多半都是有多台服务器运行着同样的 app，这时需要使用负载均衡来分流。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">nginx 也可以实现简单的负载均衡功能。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">假设这样一个应用场景：将应用部署在 192.168.1.11:80、192.168.1.12:80、192.168.1.13:80 三台 linux 环境的服务器上。网站域名叫 www.helloworld.com，公网 IP 为 192.168.1.11。在公网 IP 所在的服务器上部署 nginx，对所有请求做负载均衡处理。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">nginx.conf 配置如下：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">http</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>     <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定mime类型,类型由mime.type文件定义</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">include</span>       /etc/nginx/mime.types;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">default_type</span>  application/octet-stream;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定日志格式</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">access_log</span>    /var/log/nginx/access.log;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定负载均衡的服务器列表</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> load_balance_server {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#weigth参数表示权值，权值越高被分配到的几率越大</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">192.168.1.11:80</span>   weight=<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">5</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">192.168.1.12:80</span>   weight=<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">192.168.1.13:80</span>   weight=<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">6</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>   <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#HTTP服务器</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>   <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#侦听80端口</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">80</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#定义使用www.xx.com访问</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server_name</span>  www.helloworld.com;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#对所有请求进行负载均衡请求</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> / {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">root</span>        /root;                 <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#定义服务器的默认网站根目录位置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">index</span>       index.html index.htm;  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#定义首页索引文件的名称</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span>  http://load_balance_server ;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#请求转向load_balance_server 定义的服务器列表</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#以下是一些反向代理的配置(可选择性配置)</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#proxy_redirect off;</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_set_header</span> Host <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$host</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_set_header</span> X-Real-IP <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$remote_addr</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#后端的Web服务器可以通过X-Forwarded-For获取用户真实IP</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_set_header</span> X-Forwarded-For <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$remote_addr</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_connect_timeout</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">90</span>;          <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#nginx跟后端服务器连接超时时间(代理连接超时)</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_send_timeout</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">90</span>;             <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#后端服务器数据回传时间(代理发送超时)</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_read_timeout</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">90</span>;             <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#连接成功后，后端服务器响应时间(代理接收超时)</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_buffer_size</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">4k</span>;              <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设置代理服务器（nginx）保存用户头信息的缓冲区大小</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_buffers</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">4</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">32k</span>;               <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#proxy_buffers缓冲区，网页平均在32k以下的话，这样设置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_busy_buffers_size</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">64k</span>;       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#高负荷下缓冲大小（proxy_buffers*2）</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_temp_file_write_size</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">64k</span>;    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#设定缓存文件夹大小，大于这个值，将从upstream服务器传</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">client_max_body_size</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">10m</span>;          <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#允许客户端请求的最大单文件字节数</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">client_body_buffer_size</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">128k</span>;      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#缓冲区代理缓冲用户端请求的最大字节数</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">网站有多个 webapp 的配置</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">当一个网站功能越来越丰富时，往往需要将一些功能相对独立的模块剥离出来，独立维护。这样的话，通常，会有多个 webapp。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">举个例子：假如 www.helloworld.com 站点有好几个 webapp，finance（金融）、product（产品）、admin（用户中心）。访问这些应用的方式通过上下文(context)来进行区分:</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">www.helloworld.com/finance/</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">www.helloworld.com/product/</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">www.helloworld.com/admin/</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">我们知道，http 的默认端口号是 80，如果在一台服务器上同时启动这 3 个 webapp 应用，都用 80 端口，肯定是不成的。所以，这三个应用需要分别绑定不同的端口号。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">那么，问题来了，用户在实际访问 www.helloworld.com 站点时，访问不同 webapp，总不会还带着对应的端口号去访问吧。所以，你再次需要用到反向代理来做处理。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">配置也不难，来看看怎么做吧：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">http</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#此处省略一些基本配置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> product_server{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> www.helloworld.com:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">8081</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> admin_server{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> www.helloworld.com:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">8082</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> finance_server{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> www.helloworld.com:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">8083</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#此处省略一些基本配置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#默认指向product的server</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> / {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://product_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> /product/{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://product_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> /admin/ {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://admin_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> /finance/ {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://finance_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">https 反向代理配置</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">一些对安全性要求比较高的站点，可能会使用 HTTPS（一种使用 ssl 通信标准的安全 HTTP 协议）。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">这里不科普 HTTP 协议和 SSL 标准。但是，使用 nginx 配置 https 需要知道几点：</p><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">HTTPS 的固定端口号是 443，不同于 HTTP 的 80 端口</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">SSL 标准需要引入安全证书，所以在 nginx.conf 中你需要指定证书和它对应的 key</p></li></ul><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">其他和 http 反向代理基本一样，只是在 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">Server</code> 部分配置有些不同。</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;">  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#HTTP服务器</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#监听443端口。443为知名端口号，主要用于HTTPS协议</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">443</span> ssl;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#定义使用www.xx.com访问</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server_name</span>  www.helloworld.com;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#ssl证书文件位置(常见证书文件格式为：crt/pem)</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">ssl_certificate</span>      cert.pem;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#ssl证书key位置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">ssl_certificate_key</span>  cert.key;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#ssl配置参数（选择性配置）</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">ssl_session_cache</span>    shared:SSL:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1m</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">ssl_session_timeout</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">5m</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#数字签名，此处使用MD5</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">ssl_ciphers</span>  HIGH:!aNULL:!MD5;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">ssl_prefer_server_ciphers</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> / {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>          <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">root</span>   /root;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>          <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">index</span>  index.html index.htm;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>      }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">静态站点配置</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">有时候，我们需要配置静态站点(即 html 文件和一堆静态资源)。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">举例来说：如果所有的静态资源都放在了 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">/app/dist</code> 目录下，我们只需要在 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">nginx.conf</code> 中指定首页以及这个站点的 host 即可。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">配置如下：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">worker_processes</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">events</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">worker_connections</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">1024</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">http</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">include</span>       mime.types;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">default_type</span>  application/octet-stream;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">sendfile</span>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">keepalive_timeout</span>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">65</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">gzip</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">gzip_types</span> text/plain application/x-javascript text/css application/xml text/javascript application/javascript image/jpeg image/gif image/png;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">gzip_vary</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">80</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server_name</span>  static.zp.cn;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> / {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">root</span> /app/dist;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">index</span> index.html;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>            <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;">#转发任何请求到 index.html</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>        }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">然后，添加 HOST：</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">127.0.0.1 static.zp.cn</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">此时，在本地浏览器访问 static.zp.cn ，就可以访问静态站点了。</p><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">搭建文件服务器</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">有时候，团队需要归档一些数据或资料，那么文件服务器必不可少。使用 Nginx 可以非常快速便捷的搭建一个简易的文件服务。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">Nginx 中的配置要点：</p><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">将 autoindex 开启可以显示目录，默认不开启。</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">将 autoindex_exact_size 开启可以显示文件的大小。</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">将 autoindex_localtime 开启可以显示文件的修改时间。</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">root 用来设置开放为文件服务的根路径。</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">charset 设置为 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">charset utf-8,gbk;</code>，可以避免中文乱码问题（windows 服务器下设置后，依然乱码，本人暂时没有找到解决方法）。</p></li></ul><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">一个最简化的配置如下：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">autoindex</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 显示目录</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">autoindex_exact_size</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 显示文件大小</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">autoindex_localtime</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">on</span>;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 显示文件时间</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">charset</span>      utf-<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">8</span>,gbk; <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># windows 服务器下设置后，依然乱码，暂时无解</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">9050</span> default_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       [::]:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">9050</span> default_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server_name</span>  _;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">root</span>         /share/fs;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><h2 style="font-weight:bold;font-size:1.1rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:20px;margin-bottom:7px;line-height:1.43;cursor:text;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">跨域解决方案</h2><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">web 领域开发中，经常采用前后端分离模式。这种模式下，前端和后端分别是独立的 web 应用程序，例如：后端是 Java 程序，前端是 React 或 Vue 应用。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">各自独立的 web app 在互相访问时，势必存在跨域问题。解决跨域问题一般有两种思路：</p><ol style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);">CORS</strong></p></li></ol><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">在后端服务器设置 HTTP 响应头，把你需要运行访问的域名加入加入 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">Access-Control-Allow-Origin</code>中。</p><ol start="2" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(0, 0, 0);">jsonp</strong></p></li></ol><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">把后端根据请求，构造 json 数据，并返回，前端用 jsonp 跨域。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">这两种思路，本文不展开讨论。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">需要说明的是，nginx 根据第一种思路，也提供了一种解决跨域的解决方案。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">举例：www.helloworld.com 网站是由一个前端 app ，一个后端 app 组成的。前端端口号为 9000， 后端端口号为 8080。</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">前端和后端如果使用 http 进行交互时，请求会被拒绝，因为存在跨域问题。来看看，nginx 是怎么解决的吧：</p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">首先，在 enable-cors.conf 文件中设置 cors ：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># allow origin list</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">set</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$ACAO</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'*'</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># set single origin</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">if</span> (<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$http_origin</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">~* (www.helloworld.com)$)</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">set</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$ACAO</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$http_origin</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">if</span> (<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$cors</span> = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;trueget&quot;</span>) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">add_header</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'Access-Control-Allow-Origin'</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$http_origin</span>&quot;</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">add_header</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'Access-Control-Allow-Credentials'</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'true'</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">add_header</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'Access-Control-Allow-Methods'</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'GET, POST, OPTIONS'</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">add_header</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'Access-Control-Allow-Headers'</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">if</span> (<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$request_method</span> = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'OPTIONS'</span>) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">set</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$cors</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">${cors}</span>options&quot;</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">if</span> (<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$request_method</span> = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'GET'</span>) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">set</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$cors</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">${cors}</span>get&quot;</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">if</span> (<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$request_method</span> = <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">'POST'</span>) {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">set</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$cors</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">${cors}</span>post&quot;</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">接下来，在你的服务器中 <code style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;">include enable-cors.conf</code> 来引入跨域配置：</p><pre style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px;color:rgb(52, 73, 94);font-size:16px;text-align:start;background-color:rgb(255, 255, 255);"><code style="margin:0px;padding:0.5em;max-width:100%;box-sizing:border-box;overflow-wrap:normal !important;font-family:Consolas, Inconsolata, Courier, monospace;display:block;overflow-x:auto;line-height:18px;font-size:14px;letter-spacing:0px;background:rgb(29, 31, 33);color:rgb(197, 200, 198);word-break:normal !important;overflow-y:auto !important;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># ----------------------------------------------------</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 此文件为项目 nginx 配置片段</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 可以直接在 nginx config 中 include（推荐）</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 或者 copy 到现有 nginx 中，自行配置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># www.helloworld.com 域名需配合 dns hosts 进行配置</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># 其中，api 开启了 cors，需配合本目录下另一份配置文件</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(150, 152, 150);word-break:inherit !important;"># ----------------------------------------------------</span><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> front_server{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> www.helloworld.com:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">9000</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">upstream</span> api_server{<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server</span> www.helloworld.com:<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">8080</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(129, 162, 190);word-break:inherit !important;">server</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">listen</span>       <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">80</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">server_name</span>  www.helloworld.com;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">~ ^/api/</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">include</span> enable-cors.conf;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://api_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">rewrite</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(181, 189, 104);word-break:inherit !important;">&quot;^/api/(.*)$&quot;</span> /<span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">$1</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(222, 147, 95);word-break:inherit !important;">break</span>;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">location</span> <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(204, 102, 102);word-break:inherit !important;">~ ^/</span> {<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>    <span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;color:rgb(240, 198, 116);word-break:inherit !important;">proxy_pass</span> http://front_server;<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>  }<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/>}<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:inherit !important;word-break:inherit !important;"/></code></pre><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:0.8em;margin-bottom:0.8em;color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;font-size:16px;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">到此，就完成了。</p><h1 style="font-weight:bold;font-size:1.2rem;margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;margin-top:35px;margin-bottom:15px;padding-bottom:0.5em;line-height:1.225;cursor:text;border-bottom:1px solid rgb(221, 221, 221);color:rgb(52, 73, 94);font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;text-align:start;white-space:normal;background-color:rgb(255, 255, 255);">参考</h1><ul style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;padding-left:2.2em;"><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">Nginx 的中文维基</p></li><li style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;">Nginx 安装</p></li></ul><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;white-space:normal;font-family:-apple-system-font, system-ui, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;letter-spacing:0.544px;text-align:justify;background-color:rgb(255, 255, 255);color:rgb(51, 51, 51);font-size:17px;"><br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></p><hr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;white-space:normal;font-family:-apple-system-font, system-ui, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;letter-spacing:0.544px;text-align:justify;background-color:rgb(255, 255, 255);"/><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;white-space:normal;font-family:-apple-system-font, system-ui, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;letter-spacing:0.544px;text-align:justify;background-color:rgb(255, 255, 255);"><hr style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;border-style:solid;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-color:rgba(0, 0, 0, 0.1);transform-origin:0px 0px 0px;transform:scale(1, 0.5);"/><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;margin-top:1.7em;margin-bottom:1.7em;color:rgb(62, 62, 62);font-size:15px;line-height:inherit;letter-spacing:2px;word-spacing:2px;">欢迎加入我的知识星球，一起探讨架构，交流源码。加入方式，<strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;color:rgb(255, 76, 0);">长按下方二维码噢</span></strong>：<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></p></div><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;white-space:normal;color:rgb(51, 51, 51);font-family:-apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size:17px;letter-spacing:0.544px;text-align:justify;background-color:rgb(255, 255, 255);"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;text-align:center;"><img src="超实用的 Nginx 极简教程，覆盖了常用场景_files/640 [1].webp" type="image/webp" data-filename="640.webp" height="311" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;width:556px !important;visibility:visible !important;" width="556"/></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;text-align:left;">已在知识星球更新源码解析如下：<br style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;"/></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;font-size:16px;font-family:微软雅黑;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;text-align:center;"><img src="超实用的 Nginx 极简教程，覆盖了常用场景_files/640 [2].webp" type="image/webp" data-filename="640.webp" height="639" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;width:677px !important;visibility:visible !important;" width="677"/></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;text-align:center;"><img src="超实用的 Nginx 极简教程，覆盖了常用场景_files/640 [3].webp" type="image/webp" data-filename="640.webp" height="632" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;width:677px !important;visibility:visible !important;" width="677"/></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;clear:both;min-height:1em;text-align:center;"><img src="超实用的 Nginx 极简教程，覆盖了常用场景_files/640 [4].webp" type="image/webp" data-filename="640.webp" height="486" style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box;overflow-wrap:break-word;height:auto !important;width:677px !important;visibility:visible !important;" width="677"/></p><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;letter-spacing:0.544px;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;font-size:16px;font-family:微软雅黑;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;letter-spacing:0.544px;"><div style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;"><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;clear:both;min-height:1em;text-align:right;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;color:rgb(255, 41, 65);"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;">如果你喜欢这篇文章，喜欢，转发。</strong></span></p><p style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;clear:both;min-height:1em;text-align:right;"><span style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;color:rgb(255, 41, 65);"><strong style="margin:0px;padding:0px;max-width:100%;box-sizing:border-box !important;overflow-wrap:break-word;">生活很美好，明天见(｡･ω･｡)ﾉ♡</strong></span></p></div></div></div></div></div></div>
                </div></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 