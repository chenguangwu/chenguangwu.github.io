<html>
<head>
  <title>JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10799"/>
<h1>JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/2/10 11:09</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397"><i>http://blog.csdn.net/maosidiaoxian/article/details/36478397</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="font-family:'microsoft yahei';background:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/bg-yellow.png&quot;) repeat;"><div><div style="font-size:12px;"><div><div><div style="background:rgb(255, 255, 255);">
    <div style="margin-bottom:21px;">   
         <span style="display:inline-block;vertical-align:middle;width:19px;height:19px;margin-right:10px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-position:0px 0px;background-repeat:no-repeat;"></span>


    <h1 style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;font-size:18px;">
        <span><a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397" style="text-decoration:none;color:rgb(0, 0, 0);">
        JDBC连接池的简单实现            
        </a></span>
    </h1>
</div>

   

        <div style="font-size:12px;overflow:hidden;padding:0px 20px 5px;display:block;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;margin:0px -20px;line-height:22px;font-family:Arial;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(237, 237, 237);text-align:right;color:rgb(153, 153, 153);margin-bottom:10px;">
        <div>
            <span style="margin:0px 5px 0px 0px;margin-right:16px;">2014-07-02 21:51</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;http://static.blog.csdn.net/css/../../../images/ico_view.png&quot;) 0% 50% no-repeat;margin-right:16px;display:inline-block;padding-left:24px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-position:0px -25px;background-repeat:no-repeat;" title="阅读次数">4349人阅读</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;http://static.blog.csdn.net/css/../../../images/ico_comm.png&quot;) 0% 50% no-repeat;margin-right:16px;display:inline-block;padding-left:17px;background-position:0px -43px;background-repeat:no-repeat;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon-yellow.png&quot;);" title="评论次数"> <a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#comments" style="text-decoration:none;color:rgb(200, 131, 38);">评论</a>(12)</span>
            <span style="margin:0px 5px;margin-right:16px;display:inline-block;padding-left:17px;background-position:0px -62px;background-repeat:no-repeat;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon-yellow.png&quot;);"> <a href="#" style="text-decoration:none;color:rgb(200, 131, 38);" title="收藏">收藏</a></span>
             <span style="margin:0px 5px;margin-right:16px;display:inline-block;padding-left:17px;background-position:0px -81px;background-repeat:no-repeat;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon-yellow.png&quot;);"> <a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#report" style="text-decoration:none;color:rgb(200, 131, 38);" title="举报">举报</a></span>

        </div>
    <span style="text-align:right;color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:22px;font-family:Arial;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
    
    
    
      <div style="display:block;margin:0px -20px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(237, 237, 237);padding:5px 20px;">
        <div style="display:inline-block;font-size:14px;color:rgb(51, 51, 51);width:70px;float:left;line-height:28px;">
           <img src="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/category_icon.jpg" type="image/jpeg" data-filename="category_icon.jpg" height="13" style="border:none;vertical-align:middle;" width="15"/>
            <span style="display:inline-block;vertical-align:middle;">分类：</span>
        </div>
        <div style="display:inline-block;font-size:14px;color:rgb(223, 52, 52);float:left;width:90%;">
                    <span style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">
                        <span>Java笔记<em style="font-style:normal;">（15）</em></span>
                      <img src="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/arrow_triangle _down.jpg" type="image/jpeg" data-filename="arrow_triangle _down.jpg" height="5" style="border:none;display:inline;" width="10"/>
                      
                        
                    </span>                    
                    <span style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">
                        <span>web笔记<em style="font-style:normal;">（2）</em></span>
                      <img src="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/arrow_triangle _down [1].jpg" type="image/jpeg" data-filename="arrow_triangle _down.jpg" height="5" style="border:none;display:inline;" width="10"/>
                      
                        
                    </span>                    
        </div>
    <span style="display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
      
        <div style="padding:20px 0px;">         
            <p style="margin:0px;padding:0px;height:14px;line-height:14px;border-left-width:3px;border-left-style:solid;border-left-color:rgb(228, 28, 30);padding-left:10px;color:rgb(102, 102, 102);font-size:14px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>

  

  
  
     

<div style="margin:35px 0px;font-size:15px;color:rgb(85, 85, 85);line-height:35px;">

<p style="margin:0px;padding:0px;">先说明一下，我本身是做<a href="http://lib.csdn.net/base/android" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Android知识库">Android</a>开发的，<a href="http://lib.csdn.net/base/java" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Java 知识库">Java </a>web是我的弱项，只是近来京东云免费，于是去折腾了几下，有了些许经验，特作分享。如果文章中内容有误，还请各高手指正。</p>
<p style="margin:0px;padding:0px;">我在web端，需要连接<a href="http://lib.csdn.net/base/mysql" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="MySQL知识库">数据库</a>进行查询插入等操作，但是每次进行操作都先获取连接用完后就断开的话，未免效率太低。以前知道tomcat中可以配置，但是京东云引擎的tomcat并不能由自己配置。因为我折腾的东西较小，所以也不考虑使用框架，于是就想自己写一个。</p>
<p style="margin:0px;padding:0px;">我写的连接池很简单，在初始化时创建5个连接，并放在一个列表当中。如果要获取连接，从列表中获取，同时列表移除，还回来时，列表添加上。也就是列表保存的是闲置的连接。</p>
<p style="margin:0px;padding:0px;">如果列表已经为空了，那么判断是否超过最大连接了，没有就创建，有的话就等待。当然，我这里做的是很简单的实现，所以没有去做等待超时等处理。</p>
<p style="margin:0px;padding:0px;">代码如下：</p>
<div style="text-align:left;overflow-x:auto;font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;width:99%;padding-top:1px;overflow-y:hidden;position:relative;background-color:rgb(231, 229, 220);overflow:hidden;border-color:rgb(204, 204, 204);margin:18px 0px;"><div style="padding-left:45px;"><div style="line-height:normal;padding:3px 8px 10px 10px;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:9px;font-style:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);"><b>[java]</b> <a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="background-color:inherit;text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;margin-right:10px;background-repeat:no-repeat;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-image:url(&quot;http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif&quot;);color:rgb(12, 137, 207);" title="view plain">view plain</a><span> <a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="background-color:inherit;text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;margin-right:10px;background-repeat:no-repeat;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-image:url(&quot;http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif&quot;);color:rgb(12, 137, 207);" title="copy">copy</a><div style="position:absolute;left:475px;top:1003px;width:18px;height:18px;z-index:99;"><div align="middle" style="background-color:rgb(255, 255, 255);"></div></div></span><span> </span><span><a href="https://code.csdn.net/snippets/414492" style="margin-right:10px;text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;background-position:0% 0%;background-color:inherit;display:inline-block;width:16px;height:16px;text-indent:0;background-repeat:no-repeat;color:rgb(12, 137, 207);" target="_blank" title="在CODE上查看代码片"><img src="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/CODE_ico.png" type="image/png" data-filename="CODE_ico.png" alt="在CODE上查看代码片" height="12" style="border:none;max-width:100%;max-height:100%;position:relative;top:1px;left:2px;" width="12"/></a></span><span><a href="https://code.csdn.net/snippets/414492/fork" style="margin-right:10px;text-decoration:none;border:none;padding:1px;margin:0px;background:none;font-size:9px;background-position:0% 0%;background-color:inherit;display:inline-block;width:16px;height:16px;text-indent:0;background-repeat:no-repeat;color:rgb(12, 137, 207);" target="_blank" title="派生到我的代码片"><a href="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/ico_fork.svg"><img src="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/941fd9de3b1669ccf2342e1cb854003d.png" alt="ico_fork.svg"></a></a></span></div></div><ol start="1" style="padding:0px;border:none;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);margin:0px 0px 1px 45px;"><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">package</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> com.githang.tucao.web.dbc;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.sql.Connection;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.sql.DriverManager;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.sql.SQLException;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.sql.Statement;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.util.LinkedList;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DatabaseConnection {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String CREATE_TABLE_TWITTER = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;CREATE TABLE IF NOT EXISTS twitter (id INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY, msg varchar(300) not null) DEFAULT CHARSET=utf8&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String HOST = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;host&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String PORT = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;port&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String DB_NAME = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;dbname&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String USERNAME = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;username&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String PASSWORD = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;password&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String url = </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;jdbc:mysql://&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + HOST + </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;:&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + PORT + </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;/&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + DB_NAME  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            + <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;?useUnicode=true&amp;characterEncoding=utf-8&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DatabaseConnection instance = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DatabaseConnection();  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> INIT_COUNT = </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">5</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> MAX_COUNT = </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">30</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> count = </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Object wait = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Object();  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  LinkedList&lt;Connection&gt; CONN_POOL;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DatabaseConnection() {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        CONN_POOL = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> LinkedList&lt;Connection&gt;();  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            Class.forName(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; INIT_COUNT; i++) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                Connection connection = createConnection();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(connection != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    CONN_POOL.add(createConnection());  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    count++;  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">     <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//       Connection connection = getConnection();</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">     <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//       Statement stmt = connection.createStatement();</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">     <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//       stmt.execute(CREATE_TABLE_TWITTER);</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">     <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//       stmt.execute(&quot;set names 'utf-8'&quot;);</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">     <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//       stmt.close();</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">     <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//       releaseConnection(connection);</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DatabaseConnection getInstance() {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> instance;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Connection createConnection() {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DriverManager.getConnection(url, USERNAME, PASSWORD);  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (SQLException e) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Connection getConnection() {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">synchronized</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (CONN_POOL) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(CONN_POOL.size() &gt; </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                Connection conn = CONN_POOL.removeLast();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(conn.isValid(</span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">1000</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> conn;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        count--;  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (SQLException e) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    e.printStackTrace();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(count &lt; MAX_COUNT) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                count++;  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> createConnection();  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }   </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">synchronized</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (wait) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    wait.wait(<span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">3000</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(CONN_POOL.size() &gt; </span><span style="margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(192, 0, 0);">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> CONN_POOL.removeLast();  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (InterruptedException e) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    e.printStackTrace();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> releaseConnection(Connection connection) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        CONN_POOL.add(connection);  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">synchronized</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (wait) {  </span></span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            wait.notify();  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);color:rgb(92, 92, 92);line-height:150%;background-color:rgb(248, 248, 248);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li><li style="border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);line-height:150%;color:inherit;background-color:rgb(255, 255, 255);margin:0px;padding:0px 3px 0px 10px;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol><div style="display:block;position:absolute;height:60px;right:30px;top:5px;font-size:14px;color:rgb(255, 255, 255);cursor:pointer;z-index:2;"><a href="#" style="text-decoration:none;border:none;padding:0px;margin:0px;background:none;color:rgb(12, 137, 207);"><img src="JDBC连接池的简单实现 - 貌似掉线的博客 - 博客频道 - CSDN.NET_files/save_snippets.png" type="image/png" data-filename="save_snippets.png" height="60" style="border:none;max-width:100%;max-height:100%;" width="105"/></a></div></div>其中count用于保存当前连接数（包括闲置和在使用的）。
<p style="margin:0px;padding:0px;"></p>
<p style="margin:0px;padding:0px;">wait对象用于线程同步锁，主要是获取不到连接并且需要等其他连接被还回来时使用，在getConnection()里面调用 wait，而在releaseConnection()方法中，也就是释放连接时，调用 notify通知其他等待的线程。</p>
<p style="margin:0px;padding:0px;">另外，在公用的数据库当中，数据库连接通常是不作长连接的。所以在这里连接池中的连接，可能是已经断开的或者是无效的，所以在获取连接时需要判断一下当前拿到的连接是否还有效。没有的话就拿下一个。</p>
   
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="line-height:16px;text-decoration:none;background-position:0 0 !important;background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-repeat:no-repeat;color:rgb(51, 51, 51);"></a>
<a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="line-height:16px;text-decoration:none;background-position:0 -52px !important;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="line-height:16px;text-decoration:none;background-position:0 -104px !important;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="line-height:16px;text-decoration:none;background-position:0 -260px !important;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="line-height:16px;text-decoration:none;background-position:0 -208px !important;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;" title="分享到人人网"></a>
<a href="http://blog.csdn.net/maosidiaoxian/article/details/36478397#" style="line-height:16px;text-decoration:none;background-position:0 -1612px !important;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   

    








 


        <div style="text-align:center;margin-top:44px;">
            <dl style="display:inline-block;width:72px;font-size:27px;color:rgb(255, 255, 255);cursor:pointer;margin:0px;vertical-align:middle;padding:7px 0px;background:rgb(153, 153, 153);">
               
                 <dt style="margin-bottom:4px;">顶</dt>
                <dd style="font-size:15px;overflow:hidden;margin:0px;">1</dd>
            </dl>
           
              
            <dl style="display:inline-block;width:72px;font-size:27px;color:rgb(255, 255, 255);cursor:pointer;margin:0px;vertical-align:middle;padding:7px 0px;background:rgb(153, 153, 153);">
              
                  <dt style="margin-bottom:4px;">踩</dt>
                <dd style="font-size:15px;overflow:hidden;margin:0px;">1</dd>               
            </dl>
            
        </div>
     <div><a href="#" style="text-decoration:none;"> </a>   </div>
    <div> <a href="#" style="text-decoration:none;"> </a></div>
    

   <ul style="margin-top:30px;">
                <li style="margin-bottom:3px;"><span style="padding-left:27px;width:51px;line-height:26px;display:inline-block;color:rgb(255, 255, 255);height:26px;margin-right:7px;background:rgb(153, 153, 153);background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-position:8px -111px;background-repeat:no-repeat;">上一篇</span><a href="http://blog.csdn.net/maosidiaoxian/article/details/36182017" style="text-decoration:none;color:rgb(51, 51, 51);">androidstudio各版本下载地址</a></li>
                <li><span style="padding-left:27px;width:51px;line-height:26px;display:inline-block;color:rgb(255, 255, 255);height:26px;background:rgb(153, 153, 153);margin-right:7px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-position:8px -140px;background-repeat:no-repeat;">下一篇</span><a href="http://blog.csdn.net/maosidiaoxian/article/details/36625727" style="text-decoration:none;color:rgb(51, 51, 51);">下载android4.4.2源码全过程（附已下载的源码）</a></li>
    </ul>

    <div style="clear:both;height:10px;"></div>


        <div style="overflow:hidden;">
                <h4 style="margin:0px;padding:0px;font-size:16px;color:rgb(51, 51, 51);">我的同类文章</h4>
                <div style="border:1px solid rgb(187, 187, 187);margin:20px 0px 0px 0px;">
                    <div style="line-height:45px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(220, 220, 220);">
                                <span style="display:inline-block;margin-left:25px;font-size:16px;color:rgb(102, 102, 102);font-weight:bold;">
                                    <span style="cursor:pointer;">Java笔记<em style="font-style:normal;">（15）</em></span>
                                </span>
                                <span style="display:inline-block;margin-left:25px;font-size:16px;color:rgb(102, 102, 102);">
                                    <span style="cursor:pointer;">web笔记<em style="font-style:normal;">（2）</em></span>
                                </span>
                    </div>
                   
                    <div style="max-height:195px;overflow-y:auto;padding:10px 20px;background:rgb(252, 252, 252);">
                        
                        <ul style="float:left;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/39155155" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="过滤文件名中的非法字符">过滤文件名中的非法字符</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-09-09</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">3364</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/25923129" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="JAVA代码规范笔记（下）">JAVA代码规范笔记（下）</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-05-15</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">1058</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/20578447" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="JAVA代码规范笔记（上）">JAVA代码规范笔记（上）</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-03-09</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">2338</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/6568186" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="JFC系列5之从JAR包中获取图片">JFC系列5之从JAR包中获取图片</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2011-06-26</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">1268</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/6565950" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="JFC系列2之设置可插拔外观">JFC系列2之设置可插拔外观</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2011-06-24</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">818</b></span></li> </ul>

                        <ul style="float:right;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/32707747" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="解决java mail发送TXT附件被直接显示在正文中的问题">解决java mail发送TXT附件被直接显示在正文中的问题</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-06-20</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">2011</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/22648631" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="androidpn-server笔记及BUG修改">androidpn-server笔记及BUG修改</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2014-03-31</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">4743</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/6694522" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="FilenameFilter文件名过滤器——列出指定类型文件实现">FilenameFilter文件名过滤器——列出指定类型文件实现</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2011-08-17</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">4901</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/6567311" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="JFC系列4之获取用户当前工作路径">JFC系列4之获取用户当前工作路径</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2011-06-25</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">782</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/maosidiaoxian/article/details/6565724" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="JFC系列1之添加背景图片">JFC系列1之添加背景图片</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2011-06-24</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">1485</b></span></li> </ul>
                    <a href="http://blog.csdn.net/maosidiaoxian/article/category/798961" style="text-decoration:none;clear:both;display:block;height:35px;line-height:35px;font-size:12px;color:rgb(102, 102, 102);text-align:center;background:rgb(252, 252, 252);">更多文章</a></div>
                </div>
            </div>    
    
      
</div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 