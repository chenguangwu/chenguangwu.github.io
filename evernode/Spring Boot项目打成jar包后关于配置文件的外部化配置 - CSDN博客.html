<html>
<head>
  <title>Spring Boot项目打成jar包后关于配置文件的外部化配置 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5586"/>
<h1>Spring Boot项目打成jar包后关于配置文件的外部化配置 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/5/22 19:30</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://blog.csdn.net/Dh_Chao/article/details/78663365"><i>https://blog.csdn.net/Dh_Chao/article/details/78663365</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%; position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;background:url(https://csdnimg.cn/release/phoenix/themes/skin-yellow/images/bg.png) repeat;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;color:rgb(51, 51, 51);"><div style="outline:0px;box-sizing:content-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;">
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:16px;">
			<span style="border-radius:50%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;font-size:12px;outline:0px;box-sizing:inherit;border:1px solid rgb(244, 206, 208);color:rgb(202, 12, 22);margin-right:8px;margin-top:4px;float:left;">原</span>		<h6 style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:24px;word-break:break-all;">Spring Boot项目打成jar包后关于配置文件的外部化配置</h6>
	</div>
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:14px;border-bottom:1px solid rgb(227, 227, 227);">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;color:rgb(133, 133, 133);display:flex;">
												<span style="box-sizing:inherit;outline:0px;margin-right:14px;">2017年11月29日 14:28:45</span>
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-left:auto;float:right;">
				<span style="box-sizing:inherit;outline:0px;margin-right:14px;">阅读数：3846</span>
											</div>
		</div>
	</div>
	<div style="box-sizing:inherit;outline:0px;display:block;position:relative;padding-top:16px;">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;word-break:break-all;">
                    <div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;word-break:break-all;">
                <p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">　　在未进行任何处理的情况下，Spring Boot会默认使用项目中的 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">application.properties</code> 或者 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">application.yml</code> 来读取项目所需配置。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
　　我这里只记录几种自己所用到的。</p>

<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t0" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>访问命令行属性</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">　　在默认的情况下， <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">SpringApplication</code> 会将任何命令行选项参数（以 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">-</code> 开头 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">--server.port=9000</code>）转换为 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">property</code> 并添加到Spring环境当中。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
　　例如，启动项目的时候指定端口：</p>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">java <span style="outline:0px;box-sizing:border-box;word-break:break-all;">-jar</span> analysis<span style="outline:0px;box-sizing:border-box;word-break:break-all;">-speech</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">-tool</span><span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">-</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">0.0</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">.1</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">-SNAPSHOT</span><span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">.</span>jar <span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">--</span>server<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">.</span>port<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">=</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">9000</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">　　Spring Boot使用了一个非常特殊的 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">PropertySource</code> 命令，目的是为了让属性值的重写按照一定的顺序来，而在这个顺序当中，命令行属性总是优先于其他属性源。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
　　当然，如果不想将命令行属性添加到Spring环境当中，可以使用以下代码来禁用它们。</p>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">SpringApplication.setAddCommandLineProperties(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">false</span>);</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li></ul></pre>

<h2 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:24px;color:rgb(79, 79, 79);font-weight:700;line-height:32px;word-break:break-all;"><a name="t1" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>应用程序属性文件</h2>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">　　<code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">SpringApplication</code> 将从 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">application.properties</code> 以下位置的文件中加载属性并且将其添加到Spring的环境当中：</p>

<ul style="outline:0px;list-style:none;box-sizing:border-box;padding:0px;margin:0px 0px 24px;word-break:break-all;">
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">当前目录下的 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">/config</code> 子目录</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">当前目录</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;">classpath中的 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">/config</code> 目录</li>
<li style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 0px 32px;list-style-type:disc;word-break:break-all;"><p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">classpath根目录</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">　　该列表按照优先级的顺序排列（在列表中较高的位置定义的属性将会覆盖在较低位置定义的属性）。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">　　如果您不喜欢 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">application.properties</code> 作为配置文件名，则可以通过指定 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">spring.config.name</code> 环境属性来切换到另一个名称。还可以使用 <code style="outline:0px;box-sizing:border-box;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(199, 37, 78);background-color:rgb(249, 242, 244);border-radius:2px;padding:4px 2px 0px;word-break:break-all;">spring.config.location</code> 环境属性（以逗号分隔的目录位置列表或文件路径）引用显式位置。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
　　比如：</p></li>
</ul>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">java -jar myproject<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.jar</span> --spring<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.config</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.name</span> = myproject</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li></ul></pre>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">java -jar myproject<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.jar</span> --spring<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.config</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.location</span> = classpath：/default<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.properties</span>,classpath：/override<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">.properties</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li></ul></pre>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">java <span style="outline:0px;box-sizing:border-box;word-break:break-all;">-jar</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;">-Dspring</span><span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">.</span>config<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">.</span>location<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">=</span>D:<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">\</span>speech<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">\</span>default<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">.</span>properties analysis<span style="outline:0px;box-sizing:border-box;word-break:break-all;">-speech</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">-tool</span><span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">-</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">0.0</span><span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">.1</span><span style="outline:0px;box-sizing:border-box;word-break:break-all;">-SNAPSHOT</span><span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;">.</span>jar</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li></ul></pre>            </div>
            
                <span style="display:block;clear:both;"></span></div>
				
        	</div>
	
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:16px;margin-top:36px;border-bottom:1px solid rgb(227, 227, 227);">
				<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;color:rgb(153, 153, 153);">
			版权声明：本文为博主原创文章，未经博主允许不得转载。			https://blog.csdn.net/Dh_Chao/article/details/78663365		</div>
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:8px;font-size:12px;margin-top:18px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">文章标签：</span>
						<a href="http://so.csdn.net/so/search/s.do?q=spring-boot&amp;t=blog" style="color:rgb(77, 77, 77);cursor:pointer;text-decoration:none;outline:0px;box-sizing:inherit;display:inline-block;word-break:break-all;border:1px solid rgb(204, 204, 204);border-radius:100px;padding:0px 8px;text-align:center;line-height:24px;min-width:24px;height:24px;margin-right:8px;" target="_blank">spring-boot						</a>
		</div>
						<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;margin-bottom:0px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">个人分类：</span>
						<a href="https://blog.csdn.net/dh_chao/article/category/7316456" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(200, 131, 38);word-break:break-all;" target="_blank">spring-boot						</a>
		</div>
					</div>
	
	
		</div></span></div></div></div></div>
</div>
</span>
</div></body></html> 