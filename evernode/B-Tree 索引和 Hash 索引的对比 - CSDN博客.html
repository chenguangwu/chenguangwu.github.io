<html>
<head>
  <title>B-Tree 索引和 Hash 索引的对比 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="9174"/>
<h1>B-Tree 索引和 Hash 索引的对比 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/11/27 14:39</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/defonds/article/details/46779169"><i>http://blog.csdn.net/defonds/article/details/46779169</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;font-family:sans-serif;text-size-adjust:100%;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div style="box-sizing:border-box;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-size:16px;line-height:24px;color:rgb(51, 51, 51);background-color:rgb(244, 244, 244);font-weight:normal;"><div style="box-sizing:border-box;font-weight:normal;"><span style="box-sizing:border-box;"><div style="box-sizing:border-box;background-color:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;"><div style="box-sizing:border-box;font-weight:normal;color:rgb(69, 69, 69);overflow:hidden;">
                        <p style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;word-wrap:break-word;word-break:normal;">对于 B-tree 和 hash 数据结构的理解能够有助于预测不同存储引擎下使用不同索引的查询性能的差异，尤其是那些允许你选择 B-tree 或者 hash 索引的内存存储引擎。</p><p style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;word-wrap:break-word;word-break:normal;"><br style="box-sizing:border-box;"/></p><h1 style="box-sizing:border-box;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;padding:0px;margin:0.8em 0px;font-size:2.6em;font-weight:100;line-height:1.1;color:inherit;"><a name="t0" style="background:transparent;box-sizing:border-box;text-decoration:none;margin:0px;padding:0px;font-weight:normal;outline:none;color:rgb(79, 161, 219);"></a>B-Tree 索引的特点</h1>B-tree 索引可以用于使用 =, &gt;, &gt;=, &lt;, &lt;= 或者 BETWEEN 运算符的列比较。如果 LIKE 的参数是一个没有以通配符起始的常量字符串的话也可以使用这种索引。比如，以下 SELECT 语句就使用索引：<br style="box-sizing:border-box;"/><div style="text-align:left;box-sizing:border-box;font-weight:normal;padding:0px;width:99%;overflow:auto;padding-top:1px;font-family:Consolas, &quot;Courier New&quot;, Courier, mono, serif;background-color:rgb(231, 229, 220);font-size:12px;position:relative;overflow-y:hidden;overflow-x:auto;margin:18px 0px;"><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;padding-left:45px;"><div style="line-height:normal;box-sizing:border-box;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;margin:0px;font-weight:normal;font-stretch:normal;font-size:9px;padding:3px 8px 10px 10px;font-variant:normal;color:silver;background-color:rgb(248, 248, 248);border-left:3px solid rgb(108, 226, 108);border-right:1px solid rgb(231, 229, 220);font-style:normal;"><b style="box-sizing:border-box;font-weight:bold;">[sql]</b> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif&quot;);" title="view plain">view plain</a><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif&quot;);" title="copy">copy</a><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;position:absolute;left:448px;top:463px;width:16px;height:16px;z-index:99;"><div align="middle" style="box-sizing:border-box;background-color:rgb(255, 255, 255);"></div></div></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> </span></div></div><ol start="1" style="box-sizing:border-box;font-weight:normal;padding:0px;border:none;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);border-right:1px solid rgb(231, 229, 220);list-style:decimal;margin:0px 0px 1px 45px;"><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">SELECT</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> * </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">FROM</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> tbl_name </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> key_col </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">LIKE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'Patrick%'</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">SELECT</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> * </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">FROM</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> tbl_name </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> key_col </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">LIKE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'Pat%_ck%'</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li></ol></div><br style="box-sizing:border-box;"/>在第一个句子中，只会考虑 'Patrick' &lt;= key_col &lt; 'Patricl' 的记录。第二句中，则只会考虑 'Pat' &lt;= key_col &lt; 'Pau' 的记录。<br style="box-sizing:border-box;"/>以下 SELECT 语句不使用索引：<br style="box-sizing:border-box;"/><div style="text-align:left;box-sizing:border-box;font-weight:normal;padding:0px;width:99%;overflow:auto;padding-top:1px;font-family:Consolas, &quot;Courier New&quot;, Courier, mono, serif;background-color:rgb(231, 229, 220);font-size:12px;position:relative;overflow-y:hidden;overflow-x:auto;margin:18px 0px;"><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;padding-left:45px;"><div style="line-height:normal;box-sizing:border-box;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;margin:0px;font-weight:normal;font-stretch:normal;font-size:9px;padding:3px 8px 10px 10px;font-variant:normal;color:silver;background-color:rgb(248, 248, 248);border-left:3px solid rgb(108, 226, 108);border-right:1px solid rgb(231, 229, 220);font-style:normal;"><b style="box-sizing:border-box;font-weight:bold;">[sql]</b> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif&quot;);" title="view plain">view plain</a><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif&quot;);" title="copy">copy</a><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;position:absolute;left:448px;top:679px;width:16px;height:16px;z-index:99;"><div align="middle" style="box-sizing:border-box;background-color:rgb(255, 255, 255);"></div></div></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> </span></div></div><ol start="1" style="box-sizing:border-box;font-weight:normal;padding:0px;border:none;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);border-right:1px solid rgb(231, 229, 220);list-style:decimal;margin:0px 0px 1px 45px;"><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">SELECT</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> * </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">FROM</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> tbl_name </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> key_col </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">LIKE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'%Patrick%'</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">SELECT</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> * </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">FROM</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> tbl_name </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> key_col </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">LIKE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> other_col;  </span></span></li></ol></div><br style="box-sizing:border-box;"/>第一句里面，LIKE 的值起始于一个通配符。在第二句里，LIKE 的值不是一个常量。<br style="box-sizing:border-box;"/>如果你这样使用： ... LIKE '%string%'，其中的 string 不大于三个字符，MySql 将使用 Turbo Boyer-Moore 算法来对该字符串表达式进行初始化，并使用这种表达式来让查询更加迅速。<br style="box-sizing:border-box;"/>如果 col_name 列创建了索引，那么一个使用了 col_name IS NULL 的查询是可以使用该索引的。<br style="box-sizing:border-box;"/>任何没有涵盖 WHERE 从句中所有 AND 级别的条件的索引将不会被使用。换句话讲，要想使用索引，该索引的前导列必须在每一个 AND 组合中使用到。<br style="box-sizing:border-box;"/>以下 WHERE 从句使用索引：<br style="box-sizing:border-box;"/><div style="text-align:left;box-sizing:border-box;font-weight:normal;padding:0px;width:99%;overflow:auto;padding-top:1px;font-family:Consolas, &quot;Courier New&quot;, Courier, mono, serif;background-color:rgb(231, 229, 220);font-size:12px;position:relative;overflow-y:hidden;overflow-x:auto;margin:18px 0px;"><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;padding-left:45px;"><div style="line-height:normal;box-sizing:border-box;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;margin:0px;font-weight:normal;font-stretch:normal;font-size:9px;padding:3px 8px 10px 10px;font-variant:normal;color:silver;background-color:rgb(248, 248, 248);border-left:3px solid rgb(108, 226, 108);border-right:1px solid rgb(231, 229, 220);font-style:normal;"><b style="box-sizing:border-box;font-weight:bold;">[sql]</b> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif&quot;);" title="view plain">view plain</a><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif&quot;);" title="copy">copy</a><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;position:absolute;left:448px;top:992px;width:16px;height:16px;z-index:99;"><div align="middle" style="box-sizing:border-box;background-color:rgb(255, 255, 255);"></div></div></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> </span></div></div><ol start="1" style="box-sizing:border-box;font-weight:normal;padding:0px;border:none;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);border-right:1px solid rgb(231, 229, 220);list-style:decimal;margin:0px 0px 1px 45px;"><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">... </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part1=1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part2=2 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> other_column=3  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    /* <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> = 1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">OR</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> = 2 */  </span></span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">... <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">=1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">OR</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> A=10 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">=2  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    /* optimized <span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">like</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;index_part1='hello'&quot;</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> */  </span></span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">... <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part1=</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'hello'</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part3=5  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    /* Can use <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">on</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index1 but </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">not</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">on</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index2 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">or</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index3 */  </span></span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">... <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index1=1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index2=2 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">OR</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index1=3 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index3=3;  </span></span></li></ol></div><br style="box-sizing:border-box;"/>这些 WHERE 从句不使用索引：<br style="box-sizing:border-box;"/><div style="text-align:left;box-sizing:border-box;font-weight:normal;padding:0px;width:99%;overflow:auto;padding-top:1px;font-family:Consolas, &quot;Courier New&quot;, Courier, mono, serif;background-color:rgb(231, 229, 220);font-size:12px;position:relative;overflow-y:hidden;overflow-x:auto;margin:18px 0px;"><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;padding-left:45px;"><div style="line-height:normal;box-sizing:border-box;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;margin:0px;font-weight:normal;font-stretch:normal;font-size:9px;padding:3px 8px 10px 10px;font-variant:normal;color:silver;background-color:rgb(248, 248, 248);border-left:3px solid rgb(108, 226, 108);border-right:1px solid rgb(231, 229, 220);font-style:normal;"><b style="box-sizing:border-box;font-weight:bold;">[sql]</b> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif&quot;);" title="view plain">view plain</a><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> <a href="http://blog.csdn.net/defonds/article/details/46779169#" style="margin-right:10px;outline:none;font-weight:normal;box-sizing:border-box;background-position:left top;border:none;margin:0px;width:16px;background:none;text-decoration:none;background-repeat:no-repeat;padding:1px;display:inline-block;background-color:inherit;height:16px;text-indent:-2000px;color:rgb(160, 160, 160);font-size:9px;background-image:url(&quot;http://s.csdnimg.cn/static/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif&quot;);" title="copy">copy</a><div style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;position:absolute;left:448px;top:1424px;width:16px;height:16px;z-index:99;"><div align="middle" style="box-sizing:border-box;background-color:rgb(255, 255, 255);"></div></div></span><span style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;"> </span></div></div><ol start="1" style="box-sizing:border-box;font-weight:normal;padding:0px;border:none;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);border-right:1px solid rgb(231, 229, 220);list-style:decimal;margin:0px 0px 1px 45px;"><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">/* index_part1 </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">is</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">not</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> used */  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part2=1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">AND</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part3=2  </span></span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">/*  <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">Index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">is</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">not</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> used </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">in</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> both parts </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">of</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> the </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> clause  */  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">=1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">OR</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> A=10  </span></span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="background-color:rgb(255, 255, 255);box-sizing:border-box;font-weight:normal;color:inherit;border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">/* <span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">No</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">index</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> spans </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">all</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">rows</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  */  </span></span></li><li style="background-color:rgb(248, 248, 248);box-sizing:border-box;font-weight:normal;color:rgb(92, 92, 92);border:none;list-style-image:initial;border-left:3px solid rgb(108, 226, 108);line-height:150%;list-style-type:decimal-leading-zero;list-style:decimal;display:list-item;margin:0px;list-style-position:outside;padding:0px 3px 0px 10px;"><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="background-color:inherit;box-sizing:border-box;background:rgb(0, 102, 170);font-size:14px;border-radius:2px;word-wrap:normal;padding:0px;border:none;margin:0px;color:rgb(0, 102, 153);font-weight:bold;">WHERE</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part1=1 </span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;background-color:inherit;color:rgb(128, 128, 128);">OR</span><span style="box-sizing:border-box;font-weight:normal;margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> index_part2=10  </span></span></li></ol></div><br style="box-sizing:border-box;"/><p style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;word-wrap:break-word;word-break:normal;">有时，即使有索引可以使用，MySql 也不使用任何索引。发生这种情况的场景之一就是优化器估算出使用该索引将要求 MySql 去访问这张表的绝大部分记录。这种情况下，一个表扫描可能更快，因为它要求更少量的查询。但是，如果这样的一个查询使用了 LIMIT 来检索只是少量的记录时，MySql 还是会使用索引，因为它能够更快地找到这点记录并将其返回。</p><p style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;word-wrap:break-word;word-break:normal;"><br style="box-sizing:border-box;"/></p><h1 style="box-sizing:border-box;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;padding:0px;margin:0.8em 0px;font-size:2.6em;font-weight:100;line-height:1.1;color:inherit;"><a name="t1" style="background:transparent;box-sizing:border-box;text-decoration:none;margin:0px;padding:0px;font-weight:normal;outline:none;color:rgb(79, 161, 219);"></a>Hash 索引的特点</h1>Hash 索引有着与刚才所讨论特点的相比截然不同的特点：<br style="box-sizing:border-box;"/><ul style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;list-style:disc;"><li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;list-style:disc;display:list-item;margin-left:40px;">Hash 索引只能够用于使用 = 或者 &lt;=&gt; 运算符的相等比较(但是速度更快)。Hash 索引不能够用于诸如 &lt; 等用于查找一个范围值的比较运算符。依赖于这种单值查找的系统被称为 &quot;键-值存储&quot;；对于这种系统，尽可能地使用 hash 索引。</li><li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;list-style:disc;display:list-item;margin-left:40px;">优化器不能够使用 hash 索引来加速 ORDER BY 操作。这种类型的索引不能够用于按照顺序查找下一个条目。</li><li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;list-style:disc;display:list-item;margin-left:40px;">MySql 无法使用 hash 索引估计两个值之间有多少行(这种情况由范围优化器来决定使用哪个索引)。如果你将一张 MyISAM 或 InnoDB 表转换成一个 hash 索引的内存表时，一些查询可能会受此影响。</li><li style="box-sizing:border-box;margin:0px;padding:0px;font-weight:normal;list-style:disc;display:list-item;margin-left:40px;">查找某行记录必须进行全键匹配。而 B-tree 索引，任何该键的左前缀都可用以查找记录。</li></ul>原文链接：<a href="http://dev.mysql.com/doc/refman/5.5/en/index-btree-hash.html" style="background:transparent;box-sizing:border-box;text-decoration:none;margin:0px;padding:0px;font-weight:normal;outline:none;color:rgb(79, 161, 219);" target="_blank">http://dev.mysql.com/doc/refman/5.5/en/index-btree-hash.html</a>。                    </div></div></span></div></div></div></div><br/></div></span>
</div></body></html> 