<html>
<head>
  <title>Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7285"/>
<h1>Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/7/28 14:42</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518"><i>http://blog.csdn.net/jiangxinyu/article/details/7885518</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="position: relative; max-width: 700px;"><div style="font-size: 16px"><div><div style="background-image:url(http://static.blog.csdn.net/skin/ink/images/body_bg.jpg);color:rgb(54, 46, 43);text-align:center;font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background-position:50% 0%;"><div style="background-image:url(http://static.blog.csdn.net/skin/ink/images/head_bg.jpg);background-position:50% 0%;background-repeat:no-repeat no-repeat;"><div style="text-align:left;"><div style="overflow:hidden;background-color:rgb(255, 255, 255);"><div><div><div style="font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:26px;font-family:Arial;"><h1 style="margin:0px;padding:0px;"><a name="t0" style="color:rgb(106, 57, 6);text-decoration:none;"></a>file(内存)----输入流----&gt;【程序】----输出流----&gt;file(内存)</h1><p><br/></p><p>当我们读写文本文件的时候，采用Reader是非常方便的，比如FileReader，InputStreamReader和BufferedReader。其中最重要的类是InputStreamReader， 它是字节转换为字符的桥梁。你可以在构造器重指定编码的方式，如果不指定的话将采用底层操作系统的默认编码方式，例如GBK等。使用FileReader读取文件：</p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:673px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">FileReader fr = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileReader(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;ming.txt&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);    </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ch = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;    </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">((ch = fr.read())!=-</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> )   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  {     </span></li></ol></div><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:850px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">System.out.print((</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">char</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)ch);     </span></span></li></ol></div><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:919px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}   </span></span></li></ol></div><p>其中read()方法返回的是读取得下个字符。当然你也可以使用read(char[] ch,int off,int length)这和处理二进制文件的时候类似。</p><p>事实上在FileReader中的方法都是从InputStreamReader中继承过来的。read()方法是比较好费时间的，如果为了提高效率我们可以使用BufferedReader对Reader进行包装，这样可以提高读取得速度，我们可以一行一行的读取文本，使用readLine()方法。</p><p>BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;ming.txt&quot;)));<br/>String data = null;<br/>while((data = br.readLine())!=null)<br/>{<br/>System.out.println(data); <br/>}</p><p>了解了FileReader操作使用FileWriter写文件就简单了，这里不赘述。</p><p>Eg.我的综合实例</p><p>testFile:</p><p></p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:1440px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.File;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileInputStream;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileNotFoundException;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileOutputStream;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.IOException;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.InputStreamReader;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> testFile {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param args</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> main(String[] args) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// TODO Auto-generated method stub</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// file(内存)----输入流----&gt;【程序】----输出流----&gt;file(内存)</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        File file = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;d:/temp&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;addfile.txt&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            file.createNewFile(); <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 创建文件</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// TODO Auto-generated catch block</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 向文件写入内容(输出流)</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String str = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;亲爱的小南瓜！&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> bt[] = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1024</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        bt = str.getBytes();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            FileOutputStream in = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileOutputStream(file);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                in.write(bt, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, bt.length);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                in.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// boolean success=true;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// System.out.println(&quot;写入文件成功&quot;);</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// TODO Auto-generated catch block</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (FileNotFoundException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// TODO Auto-generated catch block</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 读取文件内容 (输入流)</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            FileInputStream out = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileInputStream(file);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            InputStreamReader isr = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> InputStreamReader(out);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ch = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((ch = isr.read()) != -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                System.out.print((<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">char</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) ch);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// TODO: handle exception</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p></p><p><br/></p><h1 style="margin:0px;padding:0px;"><a name="t1" style="color:rgb(106, 57, 6);text-decoration:none;"></a>java中多种方式读文件</h1><p><br/></p><p></p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:2587px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//------------------参考资料---------------------------------</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//1、按字节读取文件内容</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//2、按字符读取文件内容</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//3、按行读取文件内容</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//4、随机读取文件内容</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.BufferedReader;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.File;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileInputStream;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileReader;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.IOException;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.InputStream;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.InputStreamReader;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.RandomAccessFile;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.Reader;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ReadFromFile {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * 以字节为单位读取文件，常用于读二进制文件，如图片、声音、影像等文件。</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param fileName</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     *            文件的名</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> readFileByBytes(String fileName) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        File file = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(fileName);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        InputStream in = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;以字节为单位读取文件内容，一次读一个字节：&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一次读一个字节</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            in = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileInputStream(file);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> tempbyte;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((tempbyte = in.read()) != -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                System.out.write(tempbyte);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            in.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;以字节为单位读取文件内容，一次读多个字节：&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一次读多个字节</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[] tempbytes = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">100</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> byteread = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            in = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileInputStream(fileName);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            ReadFromFile.showAvailableBytes(in);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 读入多个字节到字节数组中，byteread为一次读入的字节数</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((byteread = in.read(tempbytes)) != -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                System.out.write(tempbytes, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, byteread);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e1) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e1.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">finally</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (in != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    in.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e1) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * 以字符为单位读取文件，常用于读文本，数字等类型的文件</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param fileName</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     *            文件名</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> readFileByChars(String fileName) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        File file = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(fileName);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        Reader reader = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;以字符为单位读取文件内容，一次读一个字节：&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一次读一个字符</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            reader = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> InputStreamReader(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileInputStream(file));  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> tempchar;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((tempchar = reader.read()) != -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 对于windows下，rn这两个字符在一起时，表示一个换行。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 但如果这两个字符分开显示时，会换两次行。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 因此，屏蔽掉r，或者屏蔽n。否则，将会多出很多空行。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (((</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">char</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) tempchar) != </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'r'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    System.out.print((<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">char</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) tempchar);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            reader.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;以字符为单位读取文件内容，一次读多个字节：&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一次读多个字符</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">char</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[] tempchars = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">char</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">30</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> charread = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            reader = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> InputStreamReader(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileInputStream(fileName));  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 读入多个字符到字符数组中，charread为一次读取字符数</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((charread = reader.read(tempchars)) != -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 同样屏蔽掉r不显示</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((charread == tempchars.length)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        &amp;&amp; (tempchars[tempchars.length - <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">] != </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'r'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    System.out.print(tempchars);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; charread; i++) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (tempchars[i] == </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">'r'</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">continue</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                            System.out.print(tempchars[i]);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e1) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e1.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">finally</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (reader != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    reader.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e1) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * 以行为单位读取文件，常用于读面向行的格式化文件</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param fileName</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     *            文件名</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> readFileByLines(String fileName) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        File file = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(fileName);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        BufferedReader reader = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;以行为单位读取文件内容，一次读一整行：&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            reader = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedReader(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileReader(file));  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            String tempString = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> line = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一次读入一行，直到读入null为文件结束</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((tempString = reader.readLine()) != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 显示行号</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;line &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + line + </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;: &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + tempString);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                line++;  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            reader.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">finally</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (reader != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    reader.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e1) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * 随机读取文件内容</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param fileName</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     *            文件名</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> readFileByRandomAccess(String fileName) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        RandomAccessFile randomFile = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;随机读取一段文件内容：&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 打开一个随机访问文件流，按只读方式</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            randomFile = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile(fileName, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;r&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 文件长度，字节数</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> fileLength = randomFile.length();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 读文件的起始位置</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> beginIndex = (fileLength &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">4</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) ? </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">4</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> : </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 将读文件的开始位置移到beginIndex位置。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            randomFile.seek(beginIndex);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[] bytes = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">10</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> byteread = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一次读10个字节，如果文件内容不足10个字节，则读剩下的字节。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 将一次读取的字节数赋给byteread</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((byteread = randomFile.read(bytes)) != -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                System.out.write(bytes, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, byteread);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">finally</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (randomFile != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                    randomFile.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e1) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * 显示输入流中还剩的字节数</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param in</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> showAvailableBytes(InputStream in) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;当前字节输入流中的字节数为:&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + in.available());  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> main(String[] args) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String fileName = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;C:/temp/newTemp.txt&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ReadFromFile.readFileByBytes(fileName);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ReadFromFile.readFileByChars(fileName);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ReadFromFile.readFileByLines(fileName);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ReadFromFile.readFileByRandomAccess(fileName);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p></p><p></p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:6490px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//二、将内容追加到文件尾部</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileWriter;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.IOException;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.RandomAccessFile;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;"> * 将内容追加到文件尾部</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;"> */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> AppendToFile {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * A方法追加文件：使用RandomAccessFile</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param fileName</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     *            文件名</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param content</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     *            追加的内容</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> appendMethodA(String fileName,  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    String content) {  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 打开一个随机访问文件流，按读写方式</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            RandomAccessFile randomFile = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile(fileName, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;rw&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 文件长度，字节数</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> fileLength = randomFile.length();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 将写文件指针移到文件尾。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            randomFile.seek(fileLength);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            randomFile.writeBytes(content);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            randomFile.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * B方法追加文件：使用FileWriter</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * </span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param fileName</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     * @param content</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">     */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> appendMethodB(String fileName, String content) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 打开一个写文件器，构造函数中的第二个参数true表示以追加形式写文件</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            FileWriter writer = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileWriter(fileName, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">true</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            writer.write(content);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            writer.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> main(String[] args) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String fileName = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;C:/temp/newTemp.txt&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String content = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;new append!&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 按方法A追加文件</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        AppendToFile.appendMethodA(fileName, content);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        AppendToFile.appendMethodA(fileName, <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;append end. n&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 显示文件内容</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ReadFromFile.readFileByLines(fileName);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 按方法B追加文件</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        AppendToFile.appendMethodB(fileName, content);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        AppendToFile.appendMethodB(fileName, <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;append end. n&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 显示文件内容</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ReadFromFile.readFileByLines(fileName);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p></p> <h2 style="margin:0px;padding:0px;"><a name="t2" style="color:rgb(106, 57, 6);text-decoration:none;"></a>1、判断文件是否存在，不存在创建文件</h2><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:7799px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">File file=</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(path+filename);   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(!file.exists())   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    {   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            file.createNewFile();   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (IOException e) {   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// TODO Auto-generated catch block </span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }    </span></li></ol></div> <h2 style="margin:0px;padding:0px;"><a name="t3" style="color:rgb(106, 57, 6);text-decoration:none;"></a>2、判断文件夹是否存在，不存在创建文件夹</h2><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:8100px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">File file =</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(path+filename);   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//如果文件夹不存在则创建 </span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  (!file .exists())     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">{     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    file .mkdir();   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}     </span></li></ol></div><p><a href="http://www.cnblogs.com/yezhenhan/archive/2012/09/10/2678690.html" style="color:rgb(106, 57, 6);text-decoration:none;"><br/></a></p><h1 style="margin:0px;padding:0px;"><a name="t4" style="color:rgb(106, 57, 6);text-decoration:none;"></a><span style="font-size:18px;"><a href="http://www.cnblogs.com/yezhenhan/archive/2012/09/10/2678690.html" style="color:rgb(106, 57, 6);text-decoration:none;">java 写文件的三种方法比较</a></span></h1><p></p><p></p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:8343px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.File;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.FileOutputStream;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.*;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileTest {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileTest() {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> main(String[] args) {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        FileOutputStream out = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        FileOutputStream outSTr = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        BufferedOutputStream Buff=<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        FileWriter fw = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">null</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> count=</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1000</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//写文件行数   </span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            out = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileOutputStream(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(“C:/add.txt”));     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> begin = System.currentTimeMillis();     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; count; i++) {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                out.write(“测试java 文件操作\r\n”.getBytes());     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            out.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> end = System.currentTimeMillis();     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(“FileOutputStream执行耗时:” + (end - begin) + ” 豪秒”);     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            outSTr = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileOutputStream(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(“C:/add0.txt”));     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">             Buff=<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedOutputStream(outSTr);     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> begin0 = System.currentTimeMillis();     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; count; i++) {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                Buff.write(“测试java 文件操作\r\n”.getBytes());     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            Buff.flush();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            Buff.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> end0 = System.currentTimeMillis();     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(“BufferedOutputStream执行耗时:” + (end0 - begin0) + ” 豪秒”);     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            fw = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FileWriter(“C:/add2.txt”);     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> begin3 = System.currentTimeMillis();     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; count; i++) {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                fw.write(“测试java 文件操作\r\n”);     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                        fw.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> end3 = System.currentTimeMillis();     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.out.println(“FileWriter执行耗时:” + (end3 - begin3) + ” 豪秒”);     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e) {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            e.printStackTrace();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">finally</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">try</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                fw.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                Buff.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                outSTr.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                out.close();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">catch</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (Exception e) {     </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                e.printStackTrace();     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }     </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p><br/></p><p></p><h1 style="margin:0px;padding:0px;"><a name="t5" style="color:rgb(106, 57, 6);text-decoration:none;"></a><span><a href="http://blog.csdn.net/cys1991/article/details/7593790" style="color:rgb(106, 57, 6);text-decoration:none;">java中的getParentFile</a></span></h1><br/><p></p><p><span style="font-size:18px;color:#663333;">String name = &quot;AAAA.txt&quot;;<br/>String lujing = &quot;1&quot;+&quot;/&quot;+&quot;2&quot;;//定义路径<br/>File a = new File(lujing,name);</span></p><p><span style="font-size:18px;color:#663333;">a.getParentFile().mkdirs();    //<span style="font-size:18px;">这里如果不加getParentFile(),创建的文件夹为&quot;1/2/AAAA.txt/&quot;</span><br/></span></p><p><span style="font-size:18px;color:#663333;">那么，a的意义就是“1/2/AAAA.txt”。<br/><br/>这里a是File，但是File这个类在Java里表示的不只是文件，虽然File在英语里是文件的意思。Java里，File至少可以表示文件或文件夹（大概还有可以表示系统设备什么的，这里不考虑，只考虑文件和文件夹）。<br/><br/>也就是说，在“1/2/AAAA.txt”真正出现在磁盘结构里之前，它既可以表示这个文件，也可以表示这个路径的文件夹。那么，如果没有getParentFile(),直接执行a.mkdirs()，就是说，创建“1/2/AAAA.txt”代表的文件夹，也就是“1/2/AAAA.txt/”，在此之后，执行a.createNewFile()，试图创建a文件，然而以a为名的文件夹已经存在了，所以createNewFile()实际是执行失败的。你可以用System.out.println(a.createNewFile())这样来检查是不是真正创建文件成功。<br/><br/>所以，这里，你想要创建的是“1/2/AAAA.txt”这个文件。在创建AAAA.txt之前，必须要1/2这个目录存在。所以，要得到1/2，就要用a.getParentFile()，然后要创建它，也就是a.getParentFile().mkdirs()。在这之后，a作为文件所需要的文件夹大概会存在了（有特殊情况会无法创建的，这里不考虑），就执行a.createNewFile()创建a文件。</span></p><p> </p><h1 style="margin:0px;padding:0px;"><a name="t6" style="color:rgb(106, 57, 6);text-decoration:none;"></a>Java RandomAccessFile的使用</h1><p><span style="font-size:18px;color:#663333;"></span><span style="font-size:18px;"> </span></p><p>Java的RandomAccessFile提供对文件的读写功能，与普通的输入输出流不一样的是RamdomAccessFile可以任意的访问文件的任何地方。这就是“Random”的意义所在。</p><p>RandomAccessFile的对象包含一个记录指针，用于标识当前流的读写位置，这个位置可以向前移动，也可以向后移动。RandomAccessFile包含两个方法来操作文件记录指针。</p><p>long getFilePoint():记录文件指针的当前位置。</p><p>void seek(long pos):将文件记录指针定位到pos位置。</p><p>RandomAccessFile包含InputStream的三个read方法，也包含OutputStream的三个write方法。同时RandomAccessFile还包含一系列的readXxx和writeXxx方法完成输入输出。</p><p>RandomAccessFile的构造方法如下</p><p> <div style="border:none;max-width:100%;width:630px;display:inline;height:110px;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/20120822105012516.png" type="image/png" data-filename="20120822105012516.png" alt="\" height="110" width="630"/></div></p><p>mode的值有四个</p><p>&quot;r&quot;:以只读文方式打开指定文件。如果你写的话会有IOException。</p><p>&quot;rw&quot;:以读写方式打开指定文件，不存在就创建新文件。</p><p>&quot;rws&quot;:不介绍了。</p><p>&quot;rwd&quot;:也不介绍。</p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);"><b>[java]</b> <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="view plain">view plain</a><a href="http://blog.csdn.net/jiangxinyu/article/details/7885518#" style="color:rgb(160, 160, 160);text-decoration:none;background-image:url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif);border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="copy">copy</a><div style="position:absolute;left:564px;top:11832px;width:18px;height:18px;z-index:99;"><div align="middle"></div></div></div></div><ol start="1" style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/**</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;"> * 往文件中依次写入3名员工的信息，</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;"> * 每位员工有姓名和员工两个字段 然后按照</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;"> * 第二名，第一名，第三名的先后顺序读取员工信息</span> </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;"> */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.File;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">import</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> java.io.RandomAccessFile;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFileTest {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> main(String[] args) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Exception {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        Employee e1 = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Employee(</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">23</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;张三&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        Employee e2 = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Employee(</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">24</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;lisi&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        Employee e3 = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Employee(</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">25</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;王五&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        File file = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> File(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;employee.txt&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (!file.exists()) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            file.createNewFile();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 一个中文占两个字节 一个英文字母占一个字节</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 整形 占的字节数目 跟cpu位长有关 32位的占4个字节</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        RandomAccessFile randomAccessFile = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile(file, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;rw&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.writeChars(e1.getName());  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.writeInt(e1.getAge());  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.writeChars(e2.getName());  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.writeInt(e2.getAge());  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.writeChars(e3.getName());  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.writeInt(e3.getAge());  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        randomAccessFile.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        RandomAccessFile raf2 = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile(file, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;r&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        raf2.skipBytes(Employee.LEN * <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">2</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">4</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String strName2 = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; Employee.LEN; i++) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            strName2 = strName2 + raf2.readChar();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> age2 = raf2.readInt();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;strName2 = &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + strName2.trim());  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;age2 = &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + age2);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        raf2.seek(<span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String strName1 = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; Employee.LEN; i++) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            strName1 = strName1 + raf2.readChar();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> age1 = raf2.readInt();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;strName1 = &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + strName1.trim());  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;age1 = &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + age1);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        raf2.skipBytes(Employee.LEN * <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">2</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">4</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        String strName3 = <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; Employee.LEN; i++) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            strName3 = strName3 + raf2.readChar();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> age3 = raf2.readInt();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;strName3 = &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + strName3.trim());  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;age3 = &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + age3);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Employee {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 年龄</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> age;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 姓名</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String name;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 姓名的长度</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> LEN = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">8</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> Employee(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> age, String name) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.age = age;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 对name字符长度的一个处理</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (name.length() &gt; LEN) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            name = name.substring(<span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, LEN);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">while</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (name.length() &lt; LEN) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                name = name + <span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;/u0000&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.name = name;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> getAge() {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> age;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> String getName() {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> name;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(255, 255, 255);color:inherit;line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><h1 style="margin:0px;padding:0px;"><a name="t7" style="color:rgb(106, 57, 6);text-decoration:none;"></a><a href="http://zhang-xiujiao.iteye.com/blog/1150751" style="color:rgb(106, 57, 6);text-decoration:none;">高效的RandomAccessFile</a></h1><span style="font-size:18px;"></span><p><strong><a href="http://zhang-xiujiao.iteye.com/blog/1150751" style="color:rgb(106, 57, 6);text-decoration:none;">http://zhang-xiujiao.iteye.com/blog/1150751</a></strong></p><p><strong>主体：</strong></p><p> </p><p>RandomAccessFile类。其I/O性能较之其它常用开发语言的同类性能差距甚远，严重影响程序的运行效率。</p><p>开发人员迫切需要提高效率，下面分析RandomAccessFile等文件类的源代码，找出其中的症结所在，并加以改进优化，创建一个&quot;性/价比&quot;俱佳的随机文件访问类BufferedRandomAccessFile。</p><p> </p><p><span style="text-decoration:underline;">在改进之前先做一个基本测试：逐字节COPY一个12兆的文件（这里牵涉到读和写）。</span></p><p> </p><p><a name="1" style="color:rgb(106, 57, 6);text-decoration:none;"></a></p><div><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;" width="60%"><tbody><tr><td>读</td><td>写</td><td>耗用时间（秒）</td></tr><tr><td>RandomAccessFile</td><td>RandomAccessFile</td><td>95.848</td></tr><tr><td>BufferedInputStream + DataInputStream</td><td>BufferedOutputStream + DataOutputStream</td><td>2.935</td></tr></tbody></table></div><p> </p><p>我们可以看到两者差距约32倍，RandomAccessFile也太慢了。先看看两者关键部分的源代码，对比分析，找出原因。</p><p> </p><p><strong>1．1．[RandomAccessFile]</strong></p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star.png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">implements</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> DataOutput, DataInput {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> readByte() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ch = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.read();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (ch &lt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throw</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> EOFException();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(ch);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">native</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> read() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException;   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">final</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> writeByte(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> v) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        write(v);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">native</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException;   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p> </p><p>可见，RandomAccessFile每读/写一个字节就需对磁盘进行一次I/O操作。</p><p> </p><p><strong>1．2．[BufferedInputStream]</strong></p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [1].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedInputStream </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">extends</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FilterInputStream {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">static</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> defaultBufferSize = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">2048</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">protected</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> buf[]; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 建立读缓存区</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedInputStream(InputStream in, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> size) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(in);          </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (size &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throw</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IllegalArgumentException(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;Buffer size &lt;= 0&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        buf = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[size];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">synchronized</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> read() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        ensureOpen();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (pos &gt;= count) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            fill();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (pos &gt;= count)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> -</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> buf[pos++] &amp; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0xff</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 直接从BUF[]中读取</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> fill() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (markpos &lt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        pos = <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;        </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/* no mark: throw away the buffer */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (pos &gt;= buf.length)  </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/* no room left in buffer */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (markpos &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {   </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/* can throw away early part of the buffer */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> sz = pos - markpos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.arraycopy(buf, markpos, buf, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, sz);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        pos = sz;  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        markpos = <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (buf.length &gt;= marklimit) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        markpos = -<span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;   </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/* buffer got too big, invalidate mark */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        pos = <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;    </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/* drop buffer contents */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {        </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">/* grow buffer */</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> nsz = pos * </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">2</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (nsz &gt; marklimit)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            nsz = marklimit;  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> nbuf[] = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[nsz];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.arraycopy(buf, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, nbuf, </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, pos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        buf = nbuf;  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    count = pos;  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> n = in.read(buf, pos, buf.length - pos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (n &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        count = n + pos;  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><div>  </div><p><strong>1．3．[BufferedOutputStream]</strong></p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [2].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedOutputStream </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">extends</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> FilterOutputStream {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">protected</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> buf[]; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 建立写缓存区</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedOutputStream(OutputStream out, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> size) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">(out);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (size &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throw</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IllegalArgumentException(</span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;Buffer size &lt;= 0&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        buf = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">[size];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }   </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">synchronized</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (count &gt;= buf.length) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            flushBuffer();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        buf[count++] = (<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)b; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 直接从BUF[]中读取</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> flushBuffer() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (count &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            out.write(buf, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, count);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            count = <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><div>  </div><p>可见，Buffered I/O putStream每读/写一个字节，若要操作的数据在BUF中，就直接对内存的buf[]进行读/写操作；否则从磁盘相应位置填充buf[]，再直接对内存的buf[]进行读/写操作，绝大部分的读/写操作是对内存buf[]的操作。</p><p> </p><p><strong>1．3．小结</strong></p><p> </p><p>内存存取时间单位是纳秒级（10E-9），磁盘存取时间单位是毫秒级（10E-3），同样操作一次的开销，内存比磁盘快了百万倍。理论上可以预见，即使对内存操作上万次，花费的时间也远少对于磁盘一次I/O的开销。显然后者是通过增加位于内存的BUF存取，减少磁盘I/O的开销，提高存取效率的，当然这样也增加了BUF控制部分的开销。从实际应用来看，存取效率提高了32倍。</p><p> </p><p><span style="text-decoration:underline;">根据1.3得出的结论，现试着对RandomAccessFile类也加上缓冲读写机制。</span></p><p> </p><p>随机访问类与顺序类不同，前者是通过实现DataInput/DataOutput接口创建的，而后者是扩展FilterInputStream/FilterOutputStream创建的，不能直接照搬。</p><p> </p><p><strong>2．1．开辟缓冲区BUF[默认：1024字节]，用作读/写的共用缓冲区。</strong></p><p> </p><p><strong>2．2．先实现读缓冲。</strong></p><p> </p><p>读缓冲逻辑的基本原理：</p><div><ul><li>A 欲读文件POS位置的一个字节。</li></ul></div><ul><li>B 查BUF中是否存在？若有，直接从BUF中读取，并返回该字符BYTE。</li></ul><ul><li>C 若没有，则BUF重新定位到该POS所在的位置并把该位置附近的BUFSIZE的字节的文件内容填充BUFFER，返回B。</li></ul><p>以下给出关键部分代码及其说明：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [3].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">class</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> BufferedRandomAccessFile </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">extends</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//  byte read(long pos)：读取当前文件POS位置所在的字节</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//  bufstartpos、bufendpos代表BUF映射在当前文件的首/尾偏移地址。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">//  curpos指当前类文件指针的偏移地址。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> read(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> pos) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (pos &lt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos || pos &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos ) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.flushbuf();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(pos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((pos &lt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos) || (pos &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos))   </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throw</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos = pos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf[(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(pos - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos)];  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// void flushbuf()：bufdirty为真，把buf[]中尚未写入磁盘的数据，写入磁盘。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> flushbuf() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufdirty == </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">true</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.getFilePointer() != </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf, </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufusedsize);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufdirty = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">false</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// void seek(long pos)：移动文件指针到pos位置，并把buf[]映射填充至POS所在的文件块。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> seek(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> pos) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((pos &lt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos) || (pos &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos)) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// seek pos not in buf</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.flushbuf();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((pos &gt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) &amp;&amp; (pos &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos) &amp;&amp; (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos != </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) {   </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// seek pos in file (file length &gt; 0)</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                  <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos =  pos * bufbitlen / bufbitlen;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                  <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufusedsize = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fillbuf();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (((pos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) &amp;&amp; (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) || (pos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) {   </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// seek pos is append pos</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos = pos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufusedsize = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufsize - </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos = pos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// int fillbuf()：根据bufstartpos，填充buf[]。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">private</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> fillbuf() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufdirty = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">false</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.read(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div> <p>至此缓冲读基本实现，逐字节COPY一个12兆的文件（这里牵涉到读和写，用BufferedRandomAccessFile试一下读的速度）：</p><p> </p><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;" width="70%"><tbody><tr><td>读</td><td>写</td><td>耗用时间（秒）</td></tr><tr><td>RandomAccessFile</td><td>RandomAccessFile</td><td>95.848</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedOutputStream + DataOutputStream</td><td>2.813</td></tr><tr><td>BufferedInputStream + DataInputStream</td><td>BufferedOutputStream + DataOutputStream</td><td>2.935</td></tr></tbody></table><p> </p><p>可见速度显著提高，与BufferedInputStream+DataInputStream不相上下。</p><p> </p><p><strong>2．3．实现写缓冲。</strong></p><p> </p><p>写缓冲逻辑的基本原理：</p><ul><li>A欲写文件POS位置的一个字节。</li></ul><ul><li>B 查BUF中是否有该映射？若有，直接向BUF中写入，并返回true。</li></ul><ul><li>C若没有，则BUF重新定位到该POS所在的位置，并把该位置附近的 BUFSIZE字节的文件内容填充BUFFER，返回B。</li></ul><p>下面给出关键部分代码及其说明：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [4].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// boolean write(byte bw, long pos)：向当前文件POS位置写入字节BW。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// 根据POS的不同及BUF的位置：存在修改、追加、BUF中、BUF外等情况。在逻辑判断时，把最可能出现的情况，最先判断，这样可提高速度。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// fileendpos：指示当前文件的尾偏移地址，主要考虑到追加因素</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">boolean</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> bw, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> pos) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((pos &gt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos) &amp;&amp; (pos &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos)) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// write pos in buf</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf[(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(pos - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos)] = bw;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufdirty = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">true</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (pos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// write pos is append pos</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos++;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufusedsize++;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// write pos not in buf</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(pos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> ((pos &gt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) &amp;&amp; (pos &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos) &amp;&amp; (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos != </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// write pos is modify file</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf[(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(pos - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos)] = bw;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (((pos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) &amp;&amp; (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) || (pos == </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// write pos is append pos</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf[</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">] = bw;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos++;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufusedsize = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">                <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throw</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IndexOutOfBoundsException();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufdirty = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">true</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos = pos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">true</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li></ol></div> <p>至此缓冲写基本实现，逐字节COPY一个12兆的文件，（这里牵涉到读和写，结合缓冲读，用BufferedRandomAccessFile试一下读/写的速度）：</p><p> </p><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;" width="60%"><tbody><tr><td>读</td><td>写</td><td>耗用时间（秒）</td></tr><tr><td>RandomAccessFile</td><td>RandomAccessFile</td><td>95.848</td></tr><tr><td>BufferedInputStream + DataInputStream</td><td>BufferedOutputStream + DataOutputStream</td><td>2.935</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedOutputStream + DataOutputStream</td><td>2.813</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedRandomAccessFile</td><td>2.453</td></tr></tbody></table><p> </p><p>可见综合读/写速度已超越BufferedInput/OutputStream+DataInput/OutputStream。</p><p> </p><h1 style="margin:0px;padding:0px;"><a name="t8" style="color:rgb(106, 57, 6);text-decoration:none;"></a><a href="http://zhang-xiujiao.iteye.com/blog/1150762" style="color:rgb(106, 57, 6);text-decoration:none;">高效的RandomAccessFile【续】</a></h1><span style="font-size:18px;"></span><p><a href="http://zhang-xiujiao.iteye.com/blog/1150762" style="color:rgb(106, 57, 6);text-decoration:none;">http://zhang-xiujiao.iteye.com/blog/1150762</a></p><div><p><strong>优化BufferedRandomAccessFile。</strong></p><p> </p><p>优化原则：</p><ul><li>    调用频繁的语句最需要优化，且优化的效果最明显。</li></ul><ul><li>    多重嵌套逻辑判断时，最可能出现的判断，应放在最外层。</li></ul><ul><li>    减少不必要的NEW。</li></ul><p><br/>这里举一典型的例子：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [5].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> seek(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> pos) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">...  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos =  pos * bufbitlen / bufbitlen; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// bufbitlen指buf[]的位长，例：若bufsize=1024，则bufbitlen=10。</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">              ...  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div> <p>seek函数使用在各函数中，调用非常频繁，上面加重的这行语句根据pos和bufsize确定buf[]对应当前文件的映射位置，用&quot;*&quot;、&quot;/&quot;确定，显然不是一个好方法。</p><p> </p><ul><li>优化一：this.bufstartpos = (pos &lt;&lt; bufbitlen) &gt;&gt; bufbitlen;</li></ul><ul><li>优化二：this.bufstartpos = pos &amp; bufmask; // this.bufmask = ~((long)this.bufsize - 1);</li></ul><p>两者效率都比原来好，但后者显然更好，因为前者需要两次移位运算、后者只需一次逻辑与运算（bufmask可以预先得出）。</p><p>至此优化基本实现，逐字节COPY一个12兆的文件，（这里牵涉到读和写，结合缓冲读，用优化后BufferedRandomAccessFile试一下读/写的速度）：</p><p> </p><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;" width="60%"><tbody><tr><td>读</td><td>写</td><td>耗用时间（秒）</td></tr><tr><td>RandomAccessFile</td><td>RandomAccessFile</td><td>95.848</td></tr><tr><td>BufferedInputStream + DataInputStream</td><td>BufferedOutputStream + DataOutputStream</td><td>2.935</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedOutputStream + DataOutputStream</td><td>2.813</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedRandomAccessFile</td><td>2.453</td></tr><tr><td>BufferedRandomAccessFile优</td><td>BufferedRandomAccessFile优</td><td>2.197</td></tr></tbody></table><p> </p><p>可见优化尽管不明显，还是比未优化前快了一些，也许这种效果在老式机上会更明显。</p><p>以上比较的是顺序存取，即使是随机存取，在绝大多数情况下也不止一个BYTE，所以缓冲机制依然有效。而一般的顺序存取类要实现随机存取就不怎么容易了。</p><p><strong><br/></strong></p><p><strong>需要完善的地方</strong></p><p> </p><p>提供文件追加功能：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [6].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">boolean</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> append(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> bw) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.write(bw, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p> </p><p>提供文件当前位置修改功能：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [7].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">boolean</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> bw) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.write(bw, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p> </p><p>返回文件长度（由于BUF读写的原因，与原来的RandomAccessFile类有所不同）：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [8].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> length() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.max(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.initfilelen);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p> </p><p>返回文件当前指针（由于是通过BUF读写的原因，与原来的RandomAccessFile类有所不同）：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [9].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> getFilePointer() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p> </p><p>提供对当前位置的多个字节的缓冲写功能：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [10].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b[], </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> off, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> len) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> writeendpos = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos + len - </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (writeendpos &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// b[] in cur buf</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            System.arraycopy(b, off, <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf, (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos), len);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufdirty = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">true</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufusedsize = (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(writeendpos - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// b[] not in cur buf</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.write(b, off, len);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (writeendpos &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos)  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">            <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos = writeendpos;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(writeendpos+</span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> write(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b[]) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.write(b, </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, b.length);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div><p> </p><p>提供对当前位置的多个字节的缓冲读功能：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [11].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> read(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b[], </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> off, </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> len) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> readendpos = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos + len - </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (readendpos &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufendpos &amp;&amp; readendpos &lt;= </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos ) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// read in buf</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        System.arraycopy(<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.buf, (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.bufstartpos), b, off, len);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// read b[] size &gt; buf[]</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (readendpos &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos) { </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 130, 0);background-color:inherit;">// read b[] part in file</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">        len = (<span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.length() - </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       len = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.read(b, off, len);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       readendpos = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.curpos + len - </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.seek(readendpos + </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> len;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> read(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b[]) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">return</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.read(b, </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, b.length);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> setLength(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> newLength) </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">if</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (newLength &gt; </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos = newLength - </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   } <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">else</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">       <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.fileendpos = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">;  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   }  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.setLength(newLength);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">      </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">public</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">void</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> close() </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">throws</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> IOException {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">this</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.flushbuf();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">   <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">super</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">.close();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li></ol></div> <p>至此完善工作基本完成，试一下新增的多字节读/写功能，通过同时读/写1024个字节，来COPY一个12兆的文件，（这里牵涉到读和写，用完善后BufferedRandomAccessFile试一下读/写的速度）：</p><p> </p><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;" width="70%"><tbody><tr><td>读</td><td>写</td><td>耗用时间（秒）</td></tr><tr><td>RandomAccessFile</td><td>RandomAccessFile</td><td>95.848</td></tr><tr><td>BufferedInputStream + DataInputStream</td><td>BufferedOutputStream + DataOutputStream</td><td>2.935</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedOutputStream + DataOutputStream</td><td>2.813</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedRandomAccessFile</td><td>2.453</td></tr><tr><td>BufferedRandomAccessFile优</td><td>BufferedRandomAccessFile优</td><td>2.197</td></tr><tr><td>BufferedRandomAccessFile完</td><td>BufferedRandomAccessFile完</td><td>0.401</td></tr></tbody></table><p><strong><br/></strong></p><p><strong>与MappedByteBuffer+RandomAccessFile的对比？</strong></p><p> </p><p>JDK1.4+提供了NIO类 ，其中MappedByteBuffer类用于映射缓冲，也可以映射随机文件访问，可见JAVA设计者也看到了RandomAccessFile的问题，并加以改进。怎么通过MappedByteBuffer+RandomAccessFile拷贝文件呢？下面就是测试程序的主要部分：</p><p> </p><div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;background-color:rgb(231, 229, 220);width:99%;overflow:auto;padding-top:1px;text-align:left;margin:18px 0px;"><div style="padding-left:45px;"><div style="padding:3px 8px 10px 10px;font-style:normal;font-variant:normal;font-weight:normal;font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);">Java代码  <a href="http://blog.csdn.net/jiangxinyu/article/details/7885518" style="color:rgb(160, 160, 160);text-decoration:none;background-image:none;border:none;padding:1px;margin:0px;font-size:9px;background-color:inherit;margin-right:10px;display:inline-block;width:16px;height:16px;text-indent:-2000px;background-position:0% 0%;background-repeat:no-repeat no-repeat;" title="收藏这段代码"><div style="border:none;max-width:100%;display:inline-block;"><img src="Java的文件读写操作 - jiangxinyu的专栏 - 博客频道 - CSDN.NET_files/icon_star [12].png" type="image/png" data-filename="icon_star.png" alt="收藏代码" height="14" width="15"/></div></a></div></div><ol style="margin:0px 0px 1px 45px;padding:0px;border:none;list-style:decimal;background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);"><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">RandomAccessFile rafi = </span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile(SrcFile, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;r&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">RandomAccessFile rafo = <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">new</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> RandomAccessFile(DesFile, </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;rw&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">FileChannel fci = rafi.getChannel();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">FileChannel fco = rafo.getChannel();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> size = fci.size();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">MappedByteBuffer mbbi = fci.map(FileChannel.MapMode.READ_ONLY, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, size);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">MappedByteBuffer mbbo = fco.map(FileChannel.MapMode.READ_WRITE, <span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">, size);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">long</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> start = System.currentTimeMillis();  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">for</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> (</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">int</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> i = </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">0</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">; i &lt; size; i++) {  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    <span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">byte</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> b = mbbi.get(i);  </span></span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">    mbbo.put(i, b);  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">}  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">fcin.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">fcout.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">rafi.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">rafo.close();  </span></li><li style="margin:0px;padding:0px 3px 0px 10px;border:none;list-style:decimal-leading-zero outside;border-left-width:3px;border-left-style:solid;border-left-color:rgb(108, 226, 108);background-color:rgb(248, 248, 248);color:rgb(92, 92, 92);line-height:150%;"><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">System.out.println(<span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;Spend: &quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">+(</span><span style="margin:0px;padding:0px;border:none;color:rgb(0, 102, 153);background-color:inherit;font-weight:bold;">double</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">)(System.currentTimeMillis()-start) / </span><span style="margin:0px;padding:0px;border:none;color:rgb(192, 0, 0);background-color:inherit;">1000</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;"> + </span><span style="margin:0px;padding:0px;border:none;color:blue;background-color:inherit;">&quot;s&quot;</span><span style="margin:0px;padding:0px;border:none;color:black;background-color:inherit;">);  </span></span></li></ol></div> <p>试一下JDK1.4的映射缓冲读/写功能，逐字节COPY一个12兆的文件，（这里牵涉到读和写）：</p><p> </p><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;" width="60%"><tbody><tr><td>读</td><td>写</td><td>耗用时间（秒）</td></tr><tr><td>RandomAccessFile</td><td>RandomAccessFile</td><td>95.848</td></tr><tr><td>BufferedInputStream + DataInputStream</td><td>BufferedOutputStream + DataOutputStream</td><td>2.935</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedOutputStream + DataOutputStream</td><td>2.813</td></tr><tr><td>BufferedRandomAccessFile</td><td>BufferedRandomAccessFile</td><td>2.453</td></tr><tr><td>BufferedRandomAccessFile优</td><td>BufferedRandomAccessFile优</td><td>2.197</td></tr><tr><td>BufferedRandomAccessFile完</td><td>BufferedRandomAccessFile完</td><td>0.401</td></tr><tr><td>MappedByteBuffer+ RandomAccessFile</td><td>MappedByteBuffer+ RandomAccessFile</td><td>1.209</td></tr></tbody></table><p> </p><p>确实不错，看来NIO有了极大的进步。建议采用 MappedByteBuffer+RandomAccessFile的方式。</p></div><p> </p><p><br/> </p><p> </p><p> </p><p><br/></p><br/><p></p>    </div></div></div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 