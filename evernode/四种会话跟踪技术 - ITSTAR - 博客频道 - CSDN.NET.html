<html>
<head>
  <title>四种会话跟踪技术 - ITSTAR - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="7783"/>
<h1>四种会话跟踪技术 - ITSTAR - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2015/9/24 9:58</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/xh16319/article/details/8033552"><i>http://blog.csdn.net/xh16319/article/details/8033552</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="color:rgb(54, 46, 43);text-align:center;font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background:url(http://static.blog.csdn.net/skin/ink/images/body_bg.jpg) 50% 0%;"><div style="background:url(http://static.blog.csdn.net/skin/ink/images/head_bg.jpg) 50% 0% no-repeat;"><div style="text-align:left;"><div style="overflow:hidden;background:rgb(255, 255, 255);"><div><div>
    <div style="display:block;margin:5px 0px;color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';">   
         <span style="display:inline-block;width:19px;height:19px;margin:0px 2px 0px 0px;vertical-align:middle;background:url(http://static.blog.csdn.net/skin/ink/images/ico_Original.gif) 0px 0px no-repeat;"></span>


    <h1 style="font-weight:normal;margin:0px;padding:0px;font-style:normal;font-variant:normal;display:inline;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';vertical-align:middle;">
        <span><a href="http://blog.csdn.net/xh16319/article/details/8033552" style="text-decoration:none;color:rgb(0, 0, 0);">
        四种会话跟踪技术            
        </a></span>
    </h1>
<span style="color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

   

    <div style="padding:5px 0px;color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:24px;font-family:Arial;text-align:right;">
        <span style="margin:0px 5px;float:left;">
        分类：
            <a href="http://blog.csdn.net/xh16319/article/category/1243777" style="color:rgb(106, 57, 6);text-decoration:none;">JSP</a> 
        </span>
    <span style="margin:0px 5px 0px 0px;">2012-09-30 00:05</span>
    <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_view.png) 0% 50% no-repeat;" title="阅读次数">5152人阅读</span>
    <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_comm.png) 0% 50% no-repeat;" title="评论次数"><a href="http://blog.csdn.net/xh16319/article/details/8033552#comments" style="color:rgb(106, 57, 6);text-decoration:none;">评论</a>(0)</span>
    <span style="margin:0px 5px;"><a href="#" style="color:rgb(106, 57, 6);text-decoration:none;" title="收藏">收藏</a></span>
    <span style="margin:0px 5px;"><a href="http://blog.csdn.net/xh16319/article/details/8033552#report" style="color:rgb(106, 57, 6);text-decoration:none;" title="举报">举报</a></span>
    
</div>
<div style="margin:10px 0px;"><a href="http://www.csdn.net/tag/%e6%9c%8d%e5%8a%a1%e5%99%a8" style="color:rgb(106, 57, 6);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">服务器</a><a href="http://www.csdn.net/tag/url" style="color:rgb(106, 57, 6);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">url</a><a href="http://www.csdn.net/tag/%e6%b5%8f%e8%a7%88%e5%99%a8" style="color:rgb(106, 57, 6);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">浏览器</a><a href="http://www.csdn.net/tag/servlet" style="color:rgb(106, 57, 6);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">servlet</a><a href="http://www.csdn.net/tag/string" style="color:rgb(106, 57, 6);text-decoration:none;display:inline-block;padding:4px 10px;line-height:100%;margin-right:10px;border:1px solid rgb(238, 238, 238);border-radius:10px;background-color:rgb(238, 238, 238);" target="_blank">string</a></div>

  

  
  
     

<div style="margin:20px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:26px;font-family:Arial;">

<p><span style="font-family:Courier New;"><strong></strong></span></p>
<h3 style="margin:0px;padding:0px;"><span><span style="font-size:24px;color:#FF0000;"><a href="http://blog.csdn.net/xh16319/article/details/16356913" style="color:rgb(106, 57, 6);text-decoration:none;" target="_blank">IT程序员开发必备-各类资源下载清单</a></span></span><span style="font-size:24px;color:#FF0000;"><a href="http://blog.csdn.net/xh16319/article/details/16356913" style="color:rgb(106, 57, 6);text-decoration:none;" target="_blank">，史上最全IT资源，个人收藏总结！</a></span></h3>
<br/>
<br/>
会话跟踪是一种灵活、轻便的机制，它使Web上的状态编程变为可能。<br/>
HTTP是一种无状态协议，每当用户发出请求时，服务器就会做出响应，客户端与服务器之间的联系是离散的、非连续的。<br/>
当用户在同一网站的多个页面之间转换时，根本无法确定是否是同一个客户，会话跟踪技术就可以解决这个问题。<br/>
当一个客户在多个页面间切换时，服务器会保存该用户的信息。<br/>
有四种方法可以实现会话跟踪技术：URL重写、隐藏表单域、Cookie、Session。<br/>
<br/>
1<span style="font-family:宋体;">）</span><span style="font-family:Times New Roman;">.</span><span style="font-family:宋体;">隐藏表单域：</span><span style="font-family:Times New Roman;">&lt;input type=&quot;hidden&quot;&gt;</span><span style="font-family:宋体;">，非常适合步需要大量数据存储的会话应用。</span><br/>
2<span style="font-family:宋体;">）</span><span style="font-family:Times New Roman;">.URL </span><span style="font-family:宋体;">重写</span><span style="font-family:Times New Roman;">:URL </span><span style="font-family:宋体;">可以在后面附加参数，和服务器的请求一起发送，这些参数为名字</span><span style="font-family:Times New Roman;">/</span><span style="font-family:宋体;">值对。</span>
 见 <a href="http://blog.csdn.net/xh16319/article/details/8464055" style="color:rgb(106, 57, 6);text-decoration:none;" target="_blank">
http://blog.csdn.net/xh16319/article/details/8464055</a><br/>
3<span style="font-family:宋体;">）</span><span style="font-family:Times New Roman;">.Cookie:</span><span style="font-family:宋体;">一个 </span><span style="font-family:Times New Roman;">Cookie </span><span style="font-family:宋体;">是一个小的，已命名数据元素。服务器使用 </span><span style="font-family:Times New Roman;">SET-Cookie </span><span style="font-family:宋体;">头标将它作为 </span><span style="font-family:Times New Roman;">HTTP</span><br/>
响应的一部分传送到客户端，客户端被请求保存 <span style="font-family:Times New Roman;">Cookie </span><span style="font-family:宋体;">值，在对同一服务器的后续请求使用一个</span><br/>
Cookie <span style="font-family:宋体;">头标将之返回到服务器。与其它技术比较，</span><span style="font-family:Times New Roman;">Cookie </span><span style="font-family:宋体;">的一个优点是在浏览器会话结束后，甚至</span><br/>
在客户端计算机重启后它仍可以保留其值。 见:<a href="http://blog.csdn.net/xh16319/article/details/8464319" style="color:rgb(106, 57, 6);text-decoration:none;" target="_blank">http://blog.csdn.net/xh16319/article/details/8464319</a><br/>
4<span style="font-family:宋体;">）</span><span style="font-family:Times New Roman;">.Session</span><span style="font-family:宋体;">：使用 </span><span style="font-family:Times New Roman;">setAttribute(String str,Object obj)</span><span style="font-family:宋体;">方法将对象捆绑到一个会话</span><br/>
<p></p>
<p><br/>
</p>
<p><strong>实现URL重写</strong></p>
<p>URL重写在客户端浏览器不支持Cookie（下章介绍）的情况下使用的，它是客户端浏览器请求服务器时，URL地址后面加上类似于 “SESSIONID=***”形式的参数，服务器端通过获取SESSIONID关键字来获取会话值。<br/>
<img src="四种会话跟踪技术 - ITSTAR - 博客频道 - CSDN.NET_files/1348936556_3660.png" type="image/png" data-filename="1348936556_3660.png" height="216" style="border:none;max-width:100%;" width="477"/><br/>
在程序第一次访问服务器端时，服务端并不能确认客户端浏览器是否支持Cookie。因此，当服务器第一次发出请求时，服务端会默认采用URL重写，也就是将SESSIONID写到URL地址中传递。<br/>
<br/>
核心代码：String SessionId=request.getRequestedSessionId()；<br/>
<br/>
当客户端发送请求后，服务器会根据提交给客户端浏览器的信息自动检查客户端是否启用了Cookie，如果启用，将不再进行URL重写。如果没有，则继续使用URL重写。<br/>
<br/>
通过response对象的encodeURL(String url)方法可以进行URL重写。<br/>
<br/>
public String encodeURL(String url);<br/>
对包含SessionID的URL进行编码。如果不需要编码，就直接返回这个URL。<br/>
Servlet引擎必须提供URL编码方法，因为在有些情况下，我们将不得不重写URL。<br/>
例如，在响应对应的请求中包含一个有效的Session，但是这个Session不能被非URL的（例如Cookie）的手段来维持。<br/>
所以所有提供给Servlet的URL都应通过这个方法运行，这样才能确保会话跟踪能够在所有浏览器中正常运行。 <br/>
<strong><br/>
</strong></p>
<p><strong>隐藏域和URL重写有着共同的优点:</strong><br/>
它们在Cookie被禁用或者根本不支持的情况下依旧能够工作。<br/>
缺点:<br/>
所有页面必须是表单提交之后的结果，还有涉及许多冗长的处理工作。<br/>
</p>
<br/>
    
        <div style="padding-top:20px;">         
            <p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/xh16319/article/details/8033552#" style="padding-left:17px;color:rgb(51, 51, 51);background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;background-position:0 0 !important;float:left;font-size:12px;text-decoration:none;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-repeat:no-repeat;"></a>
<a href="http://blog.csdn.net/xh16319/article/details/8033552#" style="line-height:16px;color:rgb(106, 57, 6);background-position:0 -52px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/xh16319/article/details/8033552#" style="line-height:16px;color:rgb(106, 57, 6);background-position:0 -104px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/xh16319/article/details/8033552#" style="line-height:16px;color:rgb(106, 57, 6);background-position:0 -260px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/xh16319/article/details/8033552#" style="line-height:16px;color:rgb(106, 57, 6);background-position:0 -208px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;" title="分享到人人网"></a>
<a href="http://blog.csdn.net/xh16319/article/details/8033552#" style="height:16px;color:rgb(106, 57, 6);text-decoration:none;font-size:12px;padding-left:17px;line-height:16px;float:left;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;background-position:0 -1612px !important;" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   

    

<ul style="font-size:14px;display:block;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;color:rgb(102, 102, 102);line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;clear:both;float:left;margin:0px 0px 5px;padding:10px 0px 0px;">
            <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/ink/images/blog-page-arr.png);background-position:9px 8px;background-repeat:no-repeat;">上一篇</span><a href="http://blog.csdn.net/xh16319/article/details/8033400" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">JSP常用内置对象使用说明</a></li>
            <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/ink/images/blog-page-arr.png);background-position:9px -22px;background-repeat:no-repeat;">下一篇</span><a href="http://blog.csdn.net/xh16319/article/details/8033575" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">spring在ssh框架中到底起到什么作用</a></li>
<span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;display:block;height:0px;clear:both;visibility:hidden;">.</span></ul>







 

      
</div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 