<html>
<head>
  <title>docker的安装和oracle_db使用 - lgmygljc的个人空间</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5718"/>
<h1>docker的安装和oracle_db使用 - lgmygljc的个人空间</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/5/10 11:35</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://my.oschina.net/lgmygljc/blog/842174"><i>https://my.oschina.net/lgmygljc/blog/842174</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%; position: relative;"><div style="-webkit-tap-highlight-color:transparent;font-family:&quot;Pingfang SC&quot;, STHeiti, &quot;Lantinghei SC&quot;, &quot;Open Sans&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif;box-sizing:border-box;color:rgb(51, 51, 51);text-size-adjust:100%;font-size:62.5%;"><div style="-webkit-tap-highlight-color:transparent;font-family:&quot;Pingfang SC&quot;, STHeiti, &quot;Lantinghei SC&quot;, &quot;Open Sans&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif;box-sizing:border-box;color:rgb(51, 51, 51);text-size-adjust:100%;font-size:12px;background:#f8f8f8;"><div style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"><div style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased;background:rgb(248, 248, 248);font-size:16px;text-align:center;"><div style="-webkit-tap-highlight-color:transparent;box-sizing:border-box;background:rgb(255, 255, 255);"><div style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;text-align:left;"><div style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;word-wrap:break-word;font-size:16px;font-family:&quot;Pingfang SC&quot;, STHeiti, &quot;Lantinghei SC&quot;, &quot;Open Sans&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif;color:rgb(61, 70, 77);line-height:28px;"><div style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"><span style="display:table;box-sizing:inherit;-webkit-tap-highlight-color:transparent;"></span>
                    <p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;">1、从docker toolbox的官网下载，地址如下：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;"><a href="https://download.docker.com/win/stable/DockerToolbox.exe" rel="nofollow" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;font-family:&quot;Pingfang SC&quot;, STHeiti, &quot;Lantinghei SC&quot;, &quot;Open Sans&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif;border:none;outline:0px;transition:color 0.3s;text-decoration:none;color:rgb(68, 102, 187);">https://download.docker.com/win/stable/DockerToolbox.exe</a>，服务器在国外，下载比较慢 。也可以从国内下载（请自行百度）</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;">一路next安装。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;">2、安装完成后，桌面会生成三个图标：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;"><img src="docker的安装和oracle_db使用 - lgmygljc的个人空间_files/155303_umYW_1267007.png" type="image/png" data-filename="155303_umYW_1267007.png" height="138" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" width="254"/></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;">，点击Docker QuickstartTerminal.exe进入终端窗口，进行初始化过程。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;">因为我在第1步下载的不是当前最新版本，因此初始化后，会显示boot2docker.iso非最新，正在下载从https://XXX下载等信息，这个时候，可以把下载地址从终端窗口中用鼠标选择，然后右击（相当于拷贝了），打开迅雷，手动下载，下载完成后，把下载的boot2docker.iso拷贝到当前用户的.docker\machine\cache目录，重启后就跳过这一步，继续进行进行初始化。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;text-align:left;">3、最后会显示一个鲸鱼的logo，并显示ip信息，如下：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">                        ##         .</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">                  ## ## ##        ==</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">               ## ## ## ## ##    ===</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">           /&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\___/ ===</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~~ ~ /  ===- ~~~</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">           \______ o           __/</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">             \    \         __/</span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">              \____\_______/</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker is configured to use the default machine with </span></span><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#0000FF;"><strong style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">IP 192.168.99.100</span></strong></span><br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">For help getting started, check out the docs at https://docs.docker.com</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">这个ip是后面连接oracle的时候需要的。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">4、dockerhub服务器在国外，速度很慢，国内要用的话，需要启用阿里云镜像，拷贝以下内容到终端窗口执行：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker-machine ssh default &quot;echo 'EXTRA_ARGS=\&quot;--registry-mirror=https://xwla0kvj.mirror.aliyuncs.com\&quot;' | sudo tee -a /var/lib/boot2docker/profile&quot;</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker-machine restart default</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">5、下面就是下载并安装oracle-11g了，</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">如果忘记怎么安装了，请移步<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#FF8C00;">https://github.com/wnameless/docker-oracle-xe-11g</span>查看。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">还是在终端窗口中执行：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker pull wnameless/oracle-xe-11g</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">应该很快就下载完成了。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">6、接下来启动oracle_db:</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">只是本地使用，用命令启动</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker run -d -p 49160:22 -p 49161:1521 wnameless/oracle-xe-11g</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">需要从远程访问，使用下面的命令启动</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker run -d -p 49160:22 -p 49161:1521 -e ORACLE_ALLOW_REMOTE=true wnameless/oracle-xe-11g</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">请注意一下，-p把1521端口映射到了49161，22端口映射到了49160，所以连接数据库的时候，不能用1521端口了，要用49161端口；ssh连接的话，需要用49160端口</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">启动后会返回一个安符串，此时可以用</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker ps </span></span>命令查看当前运行的镜像信息。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">$ docker ps<br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS                                                      NAMES<br style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;"/> fab55f07eb92        wnameless/oracle-xe-11g   &quot;/bin/sh -c '/usr/sbi&quot;   6 seconds ago       Up 7 seconds        8080/tcp, 0.0.0.0:49160-&gt;22/tcp, 0.0.0.0:49161-&gt;1521/tcp   infallible_nobel</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">CONTAINER ID指的就是当前运行的oracle镜像的id号。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">这样，停止的时候，用命令<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:#FFFFFF;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;background-color:#000000;">docker stop fab55f07eb92</span></span></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">7、该oracle数据库的默认的一些信息如下：</p> 
<pre style="word-wrap:normal;box-sizing:inherit;-webkit-tap-highlight-color:transparent;border-radius:3px;padding:2px;line-height:1.4;overflow-x:auto;display:block;font-size:13px;background:rgb(63, 63, 63);color:rgb(220, 220, 220);font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;"><code style="word-wrap:normal;box-sizing:inherit;-webkit-tap-highlight-color:transparent;border-radius:4px;padding:10px;line-height:1.4;overflow-x:auto;display:block;font-size:13px;background:rgb(63, 63, 63);color:rgb(220, 220, 220);font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);">hostname:</span></span> localhost
<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);">port:</span></span> <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(140, 208, 211);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(140, 208, 211);">49161</span></span>
<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);">sid:</span></span> xe
<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);">username:</span></span> system
<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(204, 147, 147);">password:</span></span> oracle</code></pre> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">SYS和SYSTEM的密码为：oracle</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">8、下面就可以登陆oracle数据库了，使用如下命令：</p> 
<pre style="word-wrap:normal;box-sizing:inherit;-webkit-tap-highlight-color:transparent;border-radius:3px;padding:2px;line-height:1.4;overflow-x:auto;display:block;font-size:13px;background:rgb(63, 63, 63);color:rgb(220, 220, 220);font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;"><code style="word-wrap:normal;box-sizing:inherit;-webkit-tap-highlight-color:transparent;border-radius:4px;padding:10px;line-height:1.4;overflow-x:auto;display:block;font-size:13px;background:rgb(63, 63, 63);color:rgb(220, 220, 220);font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(239, 220, 188);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(239, 220, 188);">ssh</span></span> root<span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(239, 220, 188);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(239, 220, 188);">@localhost</span></span> -p <span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(140, 208, 211);"><span style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;color:rgb(140, 208, 211);">49160</span></span>
password: admin</code></pre> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">但很遗憾，我没有成功，报错信息显示我被拒了，因此换成用oracle sql developer登陆成功了。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">oracle sql developer官网下载地址是：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">http://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/index.html</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">选择一个跟自己环境相配的版本下载安装就行。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">9、oracle sql developer的连接项配置请下示图：</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"><img src="docker的安装和oracle_db使用 - lgmygljc的个人空间_files/162823_rvtI_1267007.png" type="image/png" data-filename="162823_rvtI_1267007.png" height="317" style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;border:none;margin:auto;max-width:80%;height:auto;" width="589"/></p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;">如果您在安装中碰到了问题，请提问谢谢。</p> 
<p style="box-sizing:inherit;-webkit-tap-highlight-color:transparent;margin-bottom:16px;"> </p>
                <span style="display:table;box-sizing:inherit;-webkit-tap-highlight-color:transparent;clear:both;"></span></div></div></div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 