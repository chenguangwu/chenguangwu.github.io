<html>
<head>
  <title>SpringBoot AOP统一处理请求日志 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10081"/>
<h1>SpringBoot AOP统一处理请求日志 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/5/28 12:00</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://blog.csdn.net/u010412719/article/details/70183180"><i>https://blog.csdn.net/u010412719/article/details/70183180</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%;position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;background:url(https://csdnimg.cn/release/phoenix/themes/skin-yellow/images/bg.png) repeat;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;color:rgb(51, 51, 51);"><div style="outline:0px;box-sizing:content-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;"><div style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;word-break:break-all;"><div style="box-sizing:inherit;outline:0px;font-family:-apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;word-break:break-all;">
                <h1 style="outline:0px;padding:0px;box-sizing:border-box;margin:8px 0px 16px;font-size:28px;color:rgb(79, 79, 79);font-weight:700;line-height:36px;word-break:break-all;">SpringBoot AOP统一处理请求日志</h1>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">有一天，项目经理老吴对小吴说：现在有这样一个需求：在SpringBootDemo01项目上的每个方法执行之前之后各打印一句话，例如：方法执行前打印如下内容：</p>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="background-color:rgb(246, 248, 250);word-wrap:normal;outline:0px;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(0, 0, 0);box-sizing:border-box;border-radius:4px;padding:0px;display:block;overflow-x:auto;white-space:pre;word-break:break-all;">方法执行开始
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">方法执行后打印：</p>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="background-color:rgb(246, 248, 250);word-wrap:normal;outline:0px;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(0, 0, 0);box-sizing:border-box;border-radius:4px;padding:0px;display:block;overflow-x:auto;white-space:pre;word-break:break-all;">方法执行完成
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">然后，小吴心里觉得，SpringBootDemo01项目中才不到10个方法，这个简单呀，好做嘛：直接在每个方法前后各添加一行打印输出代码就可以了。然后直接爽快的答应的，说5分钟给您。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">5分钟过去了，老吴过来了，你高高心心的将程序跑起来，演示给老吴看：这是不是您想要的。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">老吴说，很好，同样的需求，你把SpringBootDemo02中的每个方法执行前后各打印一句话。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">由于有了第一个项目的基础，觉得这个用同样的方法一样的解决嘛，于是又爽快的答应了。说30分钟之后给您看，经理老吴走之后，打开SpringBootDemo02项目，发现里面居然有100个方法也，这该怎么办呢，然后小吴不带思考的重新开始了ctrl+c/ctrl+v。半个小时过去了，做的满头大汗，终于搞定了。于是又高高兴兴的演示个项目经理老吴看，你觉得这样Ok不？</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">项目经理老吴一看确实满足需求了，是的，就是这样，小吴呀，表现不错呦，工资加500。然后老吴就走了。10分钟之后，老吴回来了对你说：小吴呀，这个需求有一个小小的变动哈，方法执行前后打印的内容有变化如下：</p>

<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="background-color:rgb(246, 248, 250);word-wrap:normal;outline:0px;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;color:rgb(0, 0, 0);box-sizing:border-box;border-radius:4px;padding:0px;display:block;overflow-x:auto;white-space:pre;word-break:break-all;">方法执行start
方法执行finish
</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">就这样一个小小的需求变动，你发现居然又要在每个方法中添加修改。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
顿时小吴就傻眼了，难道真的要在每个方法中这样来修改将“开始”—&gt;start,将“结束”—&gt;finish。(这里只是为了说明这个道理，而没有考虑将打印的信息定义为常量哈，即使定义了常量，如果需求变为了在每个方法前后各打印一句：XXX方法start／finish）。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">于是你就找到了技术搭档wojiushimogui,告诉了他你的困惑，wojiushimogui说呀：你傻呀，直接aop帮你做呀。那aop如何来做呢，具体如下：</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">第一步：在我们的SpringBoot项目中添加aop相关的依赖。</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span>
            <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>org.springframework.boot<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">groupId</span>&gt;</span>
            <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>spring-boot-starter-aop<span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">artifactId</span>&gt;</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 102, 102);word-break:break-all;">&lt;/<span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">dependency</span>&gt;</span></code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">第二步：建立处理文件，并添加两个方法分别在每个方法执行之前和之后打印一句话。</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">package</span> com.wrh.aspect;

    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.aspectj.lang.annotation.After;
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.aspectj.lang.annotation.Aspect;
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.aspectj.lang.annotation.Before;
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">import</span> org.springframework.stereotype.Component;

    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
     * Created by wuranghao on 2017/4/14.
     */</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Aspect</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Component</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">HttpAspect</span> {</span>

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
         *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @Before</span> 在方法执行之前执行
         * */</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Before</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;execution(public * com.wrh.controller.StudentController.*(..))&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">log</span>(){
            System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doBefore&quot;</span>);

        }
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
         *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @After</span>在方法执行之后执行
         * */</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@After</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;execution(public * com.wrh.controller.StudentController.*(..))&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doAfter</span>(){
            System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doAfter&quot;</span>);
        }
    }</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">30</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">既然使用aop就是避免重复代码来，而在注解@Before和@After中的内容完全一样，也可以提取出来，如何提取，如下：</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Aspect</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Component</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">HttpAspect</span> {</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Pointcut</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;execution(public * com.wrh.controller.StudentController.*(..))&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">log</span>(){}
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
         *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @Before</span> 在方法执行之前执行
         * */</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Before</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;log()&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doBefore</span>(){
            System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doBefore&quot;</span>);

        }
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
         *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @After</span>在方法执行之后执行
         * */</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@After</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;log()&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doAfter</span>(){
            System.out.println(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doAfter&quot;</span>);
        }
    }</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">这样，就是通过使用aop完成了在我们控制器StudentController所有方法执行前后各打印一句话的功能。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">额外介绍另一个知识点：一般情况下我们不直接使用sout来进行输出，而是借助于org.slf4j.Logger类来进行相关日志的输出。相关使用代码如下：</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Aspect</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Component</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;"><span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">class</span> <span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(79, 79, 79);">HttpAspect</span> {</span>

        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">private</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">final</span>  <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">static</span> org.slf4j.Logger logger= org.slf4j.LoggerFactory.getLogger(HttpAspect.class);

        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Pointcut</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;execution(public * com.wrh.controller.StudentController.*(..))&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">log</span>(){}
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
         *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @Before</span> 在方法执行之前执行
         * */</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Before</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;log()&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doBefore</span>(){
            logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doBefore&quot;</span>);
            <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//System.out.println(&quot;doBefore&quot;);</span>

        }
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
         *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @After</span>在方法执行之后执行
         * */</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@After</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;log()&quot;</span>)
        <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doAfter</span>(){
            logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doAfter&quot;</span>);
            <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//System.out.println(&quot;doAfter&quot;);</span>
        }
    }</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">日志输出结果如下，从结果中可以看出，其中包括来日志输出时间／类等相关信息，这明显比System.out.println输出相关信息要好得多。</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><img src="SpringBoot AOP统一处理请求日志 - CSDN博客_files/springboot_aop_v1.png" type="image/png" data-filename="springboot_aop_v1.png" height="67" style="outline:0px;box-sizing:border-box;margin:24px 0px;word-break:break-all;max-width:100%;cursor:zoom-in;" title="" width="852"/></p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><font color="red" style="outline:0px;box-sizing:border-box;word-break:break-all;">回到今天来研究的需求：记录http请求,其中包括：http请求的url/请求的方法类型／响应该http请求的类方法／IP地址／请求中的参数</font></p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">具体实现代码如下：</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">    <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">/**
     *<span style="outline:0px;box-sizing:border-box;color:rgb(79, 79, 79);word-break:break-all;"> @Before</span> 在方法执行之前执行
     * */</span>
    <span style="outline:0px;box-sizing:border-box;color:rgb(155, 133, 157);word-break:break-all;">@Before</span>(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;log()&quot;</span>)
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doBefore</span>(JoinPoint joinPoint){
        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;doBefore&quot;</span>);
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//记录http请求</span>
        ServletRequestAttributes attributes = (ServletRequestAttributes)RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = attributes.getRequest();
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//从request中获取http请求的url/请求的方法类型／响应该http请求的类方法／IP地址／请求中的参数</span>
        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//url</span>

        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;url={}&quot;</span>,request.getRequestURI());

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//method</span>
        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;method={}&quot;</span>,request.getMethod());

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//ip</span>
        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;ip={}&quot;</span>,request.getRemoteAddr());

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//类方法</span>
        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;class_method={}&quot;</span>,joinPoint.getSignature().getDeclaringTypeName()+
                <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;.&quot;</span>+joinPoint.getSignature().getName());

        <span style="outline:0px;box-sizing:border-box;color:rgb(136, 0, 0);word-break:break-all;">//参数</span>

        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;args={}&quot;</span>,joinPoint.getArgs());

    }</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">5</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">6</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">7</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">8</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">9</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">10</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">11</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">12</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">13</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">14</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">15</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">16</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">17</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">18</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">19</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">20</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">21</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">22</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">23</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">24</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">25</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">26</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">27</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">28</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">29</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">可用如下的代码来获取响应的相关内容</p>



<pre style="margin:0px 0px 24px;word-break:break-all;overflow-y:hidden;overflow-x:auto;box-sizing:border-box;outline:0px;color:rgb(0, 0, 0);position:relative;font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;line-height:22px;padding:8px 16px 4px 56px;background-color:rgb(246, 248, 250);border:none;"><code style="font-size:14px;word-wrap:normal;outline:0px;display:block;padding:0px;color:rgb(0, 0, 0);font-family:Consolas, Inconsolata, Courier, monospace;box-sizing:border-box;line-height:22px;background-color:rgb(246, 248, 250);border-radius:4px;overflow-x:auto;white-space:pre;word-break:break-all;">    @AfterReturning(returning = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;object&quot;</span>,pointcut = <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;log()&quot;</span>)
    <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">public</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">void</span> <span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">doAfterReturning</span>(Object <span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">object</span>){
        logger.info(<span style="outline:0px;box-sizing:border-box;color:rgb(0, 153, 0);word-break:break-all;">&quot;student={}&quot;</span>,(Student)<span style="outline:0px;box-sizing:border-box;color:rgb(0, 0, 136);word-break:break-all;">object</span>);
    }</code><ul style="position:absolute;word-break:break-all;outline:0px;box-sizing:border-box;margin:0px;list-style:none;padding:8px 0px;width:48px;background-color:rgb(238, 240, 244);top:0px;left:0px;text-align:right;"><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">1</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">2</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">3</li><li style="outline:0px;box-sizing:border-box;list-style-type:disc;word-break:break-all;padding:0px 8px;margin:0px;list-style:none;color:rgb(153, 153, 153);">4</li></ul></pre>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">当借助于Postman工具输入如下的请求时，控制台的相关输出结果如下图所示。 <br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
   <img src="SpringBoot AOP统一处理请求日志 - CSDN博客_files/springboot_aop_v2.png" type="image/png" data-filename="springboot_aop_v2.png" height="339" style="outline:0px;box-sizing:border-box;margin:24px 0px;word-break:break-all;max-width:100%;cursor:zoom-in;" title="" width="852"/></p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;"><img src="SpringBoot AOP统一处理请求日志 - CSDN博客_files/springboot_aop_v3.png" type="image/png" data-filename="springboot_aop_v3.png" height="120" style="outline:0px;box-sizing:border-box;margin:24px 0px;word-break:break-all;max-width:100%;cursor:zoom-in;" title="" width="852"/></p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">参考资料</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">1、《慕课网-SpringBoot进阶之Web进阶》</p>

<p style="outline:0px;padding:0px;box-sizing:border-box;margin:0px 0px 16px;font-size:16px;color:rgb(79, 79, 79);font-weight:400;line-height:26px;text-align:justify;word-break:break-all;">2、<a href="http://blog.didispace.com/springbootaoplog/" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;" target="_blank">http://blog.didispace.com/springbootaoplog/</a></p>            </div></div></div></div></span></div></div></div></div>
</div>
</span>
</div></body></html> 