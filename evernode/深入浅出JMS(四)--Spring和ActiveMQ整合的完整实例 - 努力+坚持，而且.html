<html>
<head>
  <title>深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且还很年轻 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="9475"/>
<h1>深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且还很年轻 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/8/3 11:37</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203"><i>http://blog.csdn.net/jiuqiyuliang/article/details/48758203</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="background:url(&quot;http://static.blog.csdn.net/skin/light_blue/css/../images/body_bg.jpg&quot;) center -89px repeat-x;font-size:12px;font-family:Arial, Console, Verdana, &quot;Courier New&quot;;"><div style="background:url(&quot;http://static.blog.csdn.net/skin/light_blue/css/../images/head_bg.jpg&quot;) center 0px no-repeat;"><div style="min-width:980px;text-align:left;"><div style="overflow:hidden;"><div style="min-width:700px;background:rgb(255, 255, 255);"><div>
    <div style="display:block;margin:5px 0px;color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:20px;line-height:30px;font-family:&quot;Microsoft YaHei&quot;;">   
         <span style="display:inline-block;width:19px;height:19px;margin:0px 2px 0px 0px;background:url(&quot;http://static.blog.csdn.net/skin/light_blue/css/../../../images/ico_Original.gif&quot;) 0px 0px no-repeat;vertical-align:middle;"></span>

    <h1 style="font-size:20px;padding:0px;margin:0px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:30px;font-family:&quot;Microsoft YaHei&quot;;vertical-align:middle;font-variant:normal;display:inline;">
        <span><a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203" style="text-decoration:none;color:rgb(51, 51, 51);">
        深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例        
           
        </a>
        </span>

         
    </h1>
<span style="color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:&quot;Microsoft YaHei&quot;;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

   

        <div style="line-height:22px;padding:0px 20px 5px;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:12px;color:rgb(153, 153, 153);font-family:Arial;text-align:right;border-bottom:1px solid rgb(237, 237, 237);margin:0px -20px;overflow:hidden;display:block;">
        <div style="width:100%;float:left;">
            <span style="margin:0px 5px;float:left;">
            标签：
              <a href="http://www.csdn.net/tag/activemq" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">activemq</a><a href="http://www.csdn.net/tag/jms" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">jms</a><a href="http://www.csdn.net/tag/%e6%b6%88%e6%81%af%e4%b8%ad%e9%97%b4%e4%bb%b6" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">消息中间件</a><a href="http://www.csdn.net/tag/spring" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">spring</a>
            </span>
        </div>
        <div>
            <span style="margin:0px 5px 0px 0px;">2015-09-27 00:13</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;http://static.blog.csdn.net/css/../../../images/ico_view.png&quot;) left center no-repeat;" title="阅读次数">68242人阅读</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;http://static.blog.csdn.net/css/../../../images/ico_comm.png&quot;) left center no-repeat;" title="评论次数"> <a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#comments" style="color:rgb(255, 153, 0);text-decoration:none;">评论</a>(134)</span>
            <span style="margin:0px 5px;"> <a href="#" style="color:rgb(255, 153, 0);text-decoration:none;" target="_blank" title="收藏">收藏</a></span>
             <span style="margin:0px 5px;"> <a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#report" style="color:rgb(255, 153, 0);text-decoration:none;" title="举报">举报</a></span>

        </div>
    <span style="color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:400;font-size:12px;line-height:22px;font-family:Arial;text-align:right;height:0px;visibility:hidden;display:block;clear:both;">.</span></div>    
    
      <div style="border-bottom:1px solid rgb(237, 237, 237);margin:0px -20px;padding:5px 20px;display:block;">
        <div style="font-size:14px;float:left;display:inline-block;color:rgb(51, 51, 51);width:70px;line-height:28px;">
           <img src="深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且_files/category_icon.jpg" type="image/jpeg" data-filename="category_icon.jpg" height="12" style="border:none;vertical-align:middle;" width="14"/>
            <span style="vertical-align:middle;display:inline-block;">分类：</span>
        </div>
        <div style="font-size:14px;float:left;display:inline-block;color:rgb(223, 52, 52);width:90%;">
                    <span style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">
                        <span>【ActiveMQ】<em style="font-style:normal;">（3）</em></span>
                      <img src="深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且_files/arrow_triangle _down.jpg" type="image/jpeg" data-filename="arrow_triangle _down.jpg" height="5" style="border:none;display:inline;" width="10"/>
                      
                        
                    </span>                    
        </div>
    <span style="height:0px;visibility:hidden;display:block;clear:both;">.</span></div>
        <div style="padding:20px 0px;">         
            <p style="margin:0px;padding:0px;height:14px;line-height:14px;border-left:3px solid rgb(228, 28, 30);padding-left:10px;color:rgb(102, 102, 102);font-size:14px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
        </div>

  

  
  
     


<div style="clear:both;"></div><div style="border:solid 1px #ccc;background:#eee;float:left;min-width:200px;padding:4px 10px;"><p style="margin:0;padding:0px;text-align:right;"><span style="float:left;">目录<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="color:rgb(255, 153, 0);text-decoration:none;" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="color:rgb(255, 153, 0);text-decoration:none;" title="展开">[+]</a></p></div><div style="clear:both;"></div><div style="margin:20px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:26px;font-family:Arial;">
        <div style="font-family:&quot;microsoft yahei&quot;;font-size:15px;color:rgb(63, 63, 63);"><p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">第一篇博文<a href="http://blog.csdn.net/jiuqiyuliang/article/details/46701559" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">深入浅出JMS(一)–JMS基本概念</a>，我们介绍了JMS的两种消息模型：点对点和发布订阅模型，以及消息被消费的两个方式：同步和异步，JMS编程模型的对象，最后说了JMS的优点。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">第二篇博文<a href="http://blog.csdn.net/jiuqiyuliang/article/details/47160259" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">深入浅出JMS(二)–ActiveMQ简单介绍以及安装</a>，我们介绍了消息中间件ActiveMQ，安装，启动，以及优缺点。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">第三篇博文<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48608237" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">深入浅出JMS(三)–ActiveMQ简单的HelloWorld实例</a>，我们实现了一种点对点的同步消息模型，并没有给大家呈现发布订阅模型。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">前言</p>

<blockquote style="box-sizing:border-box;margin:0px 0px 1.1em;padding:15px 20px;border-left:10px solid rgba(128, 128, 128, 0.0745098);background-color:rgba(128, 128, 128, 0.0470588);border-radius:0px 5px 5px 0px;"><span style=""></span>
  <p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;line-height:1.25;margin-bottom:0px;">这篇博文,我们基于<a href="http://lib.csdn.net/base/javaee" style="color:#df3434;text-decoration:none;box-sizing:border-box;font-weight:bold;" target="_blank" title="Java EE知识库">spring</a>+JMS+ActiveMQ+Tomcat，做一个Spring4.1.0和ActiveMQ5.11.1整合实例，实现了Point-To-Point的异步队列消息和PUB/SUB（发布/订阅）模型，简单实例，不包含任何业务。</p>
<span style=""></span></blockquote>

<h3 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;font-size:1.73em;"><a name="t0" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>环境准备</h3>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t1" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>工具</h4>

<ol style="box-sizing:border-box;">
<li style="box-sizing:border-box;"><p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">JDK1.6或1.7</p></li>
<li style="box-sizing:border-box;"><p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">Spring4.1.0</p></li>
<li style="box-sizing:border-box;"><p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">ActiveMQ5.11.1</p></li>
<li style="box-sizing:border-box;"><p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">Tomcat7.x</p></li>
</ol>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t2" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>目录结构</h4>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;"><img src="深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且_files/20150926133934271.jpg" type="image/jpeg" data-filename="20150926133934271.jpg" alt="这里写图片描述" height="650" style="border:none;box-sizing:border-box;max-width:100%;" title="" width="338"/></p>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t3" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>所需jar包</h4>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;"><img src="深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且_files/20150926133955808.jpg" type="image/jpeg" data-filename="20150926133955808.jpg" alt="这里写图片描述" height="346" style="border:none;box-sizing:border-box;max-width:100%;" title="" width="316"/></p>



<h3 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;font-size:1.73em;"><a name="t4" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>项目的配置</h3>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t5" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>配置ConnectionFactory</h4>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">connectionFactory是Spring用于创建到JMS服务器链接的，Spring提供了多种connectionFactory，我们介绍两个SingleConnectionFactory和CachingConnectionFactory。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">SingleConnectionFactory：对于建立JMS服务器链接的请求会一直返回同一个链接，并且会忽略Connection的close方法调用。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">CachingConnectionFactory：继承了SingleConnectionFactory，所以它拥有SingleConnectionFactory的所有功能，同时它还新增了缓存功能，它可以缓存Session、MessageProducer和MessageConsumer。我们使用CachingConnectionFactory来作为示例。</p>



<pre style="word-wrap:break-word;box-sizing:border-box;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, monospace;border-radius:0px;font-size:14px;line-height:1.45;word-break:break-all;border:0px solid rgb(136, 136, 136);display:block;background-color:rgba(128, 128, 128, 0.0470588);padding:5px 5px 5px 60px;position:relative;overflow-y:hidden;overflow-x:auto;white-space:nowrap;margin:0px 0px 1.1em;"><code style="font-family:&quot;Source Code Pro&quot;, monospace;display:block;background:rgb(255, 255, 255);box-sizing:border-box;color:inherit;padding:0px;font-size:inherit;background-color:transparent;white-space:pre;border-radius:0px;word-wrap:normal;"><span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.connection.CachingConnectionFactory&quot;</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span></code><ul style="margin:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;position:absolute;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;opacity:0;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li></ul><ul style="left:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;position:absolute;margin:0px;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li></ul></pre>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">Spring提供的ConnectionFactory只是Spring用于管理ConnectionFactory的，真正产生到JMS服务器链接的ConnectionFactory还得是由JMS服务厂商提供，并且需要把它注入到Spring提供的ConnectionFactory中。我们这里使用的是ActiveMQ实现的JMS，所以在我们这里真正的可以产生Connection的就应该是由ActiveMQ提供的ConnectionFactory。所以定义一个ConnectionFactory的完整代码应该如下所示：</p>



<pre style="word-wrap:break-word;box-sizing:border-box;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, monospace;border-radius:0px;font-size:14px;line-height:1.45;word-break:break-all;border:0px solid rgb(136, 136, 136);display:block;background-color:rgba(128, 128, 128, 0.0470588);padding:5px 5px 5px 60px;position:relative;overflow-y:hidden;overflow-x:auto;white-space:nowrap;margin:0px 0px 1.1em;"><code style="font-family:&quot;Source Code Pro&quot;, monospace;display:block;background:rgb(255, 255, 255);box-sizing:border-box;color:inherit;padding:0px;font-size:inherit;background-color:transparent;white-space:pre;border-radius:0px;word-wrap:normal;">    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- ActiveMQ 连接工厂 --&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 真正可以产生Connection的ConnectionFactory，由对应的 JMS服务厂商提供--&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 如果连接网络：tcp://ip:61616；未连接网络：tcp://localhost:61616 以及用户名，密码--&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">amq:connectionFactory</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;amqConnectionFactory&quot;</span>
        <span style="box-sizing:border-box;color:rgb(102, 0, 102);">brokerURL</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;tcp://192.168.3.3:61616&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">userName</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;admin&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">password</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;admin&quot;</span>  /&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring Caching连接工厂 --&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring用于管理真正的ConnectionFactory的ConnectionFactory --&gt;</span>  
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.connection.CachingConnectionFactory&quot;</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 目标ConnectionFactory对应真实的可以产生JMS Connection的ConnectionFactory --&gt;</span>  
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;targetConnectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;amqConnectionFactory&quot;</span>&gt;</span><span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 同上，同理 --&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- &lt;constructor-arg ref=&quot;amqConnectionFactory&quot; /&gt; --&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Session缓存数量 --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;sessionCacheSize&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">value</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;100&quot;</span> /&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span></code><ul style="margin:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;position:absolute;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;opacity:0;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li></ul><ul style="left:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;position:absolute;margin:0px;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li></ul></pre>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t6" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>配置生产者</h4>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">配置好ConnectionFactory之后我们就需要配置生产者。生产者负责产生消息并发送到JMS服务器。但是我们要怎么进行消息发送呢？通常是利用Spring为我们提供的JmsTemplate类来实现的，所以配置生产者其实最核心的就是配置消息发送的JmsTemplate。对于消息发送者而言，它在发送消息的时候要知道自己该往哪里发，为此，我们在定义JmsTemplate的时候需要注入一个Spring提供的ConnectionFactory对象。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">在利用JmsTemplate进行消息发送的时候，我们需要知道发送哪种消息类型：一个是点对点的ActiveMQQueue，另一个就是支持订阅/发布模式的ActiveMQTopic。如下所示：</p>



<pre style="word-wrap:break-word;box-sizing:border-box;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, monospace;border-radius:0px;font-size:14px;line-height:1.45;word-break:break-all;border:0px solid rgb(136, 136, 136);display:block;background-color:rgba(128, 128, 128, 0.0470588);padding:5px 5px 5px 60px;position:relative;overflow-y:hidden;overflow-x:auto;white-space:nowrap;margin:0px 0px 1.1em;"><code style="font-family:&quot;Source Code Pro&quot;, monospace;display:block;background:rgb(255, 255, 255);box-sizing:border-box;color:inherit;padding:0px;font-size:inherit;background-color:transparent;white-space:pre;border-radius:0px;word-wrap:normal;">    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring JmsTemplate 的消息生产者 start--&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义JmsTemplate的Queue类型 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;jmsQueueTemplate&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.core.JmsTemplate&quot;</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 这个connectionFactory对应的是我们定义的Spring提供的那个ConnectionFactory对象 --&gt;</span>  
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">constructor-arg</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> /&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 非pub/sub模型（发布/订阅），即队列模式 --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;pubSubDomain&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">value</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;false&quot;</span> /&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义JmsTemplate的Topic类型 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;jmsTopicTemplate&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.core.JmsTemplate&quot;</span>&gt;</span>
         <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 这个connectionFactory对应的是我们定义的Spring提供的那个ConnectionFactory对象 --&gt;</span>  
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">constructor-arg</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> /&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- pub/sub模型（发布/订阅） --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;pubSubDomain&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">value</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;true&quot;</span> /&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!--Spring JmsTemplate 的消息生产者 end--&gt;</span></code><ul style="margin:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;position:absolute;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;opacity:0;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li><li style="box-sizing:border-box;padding:0px 5px;">17</li><li style="box-sizing:border-box;padding:0px 5px;">18</li><li style="box-sizing:border-box;padding:0px 5px;">19</li></ul><ul style="left:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;position:absolute;margin:0px;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li><li style="box-sizing:border-box;padding:0px 5px;">17</li><li style="box-sizing:border-box;padding:0px 5px;">18</li><li style="box-sizing:border-box;padding:0px 5px;">19</li></ul></pre>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">生产者如何指定目的地和发送消息？大家看源码即可，就不再这提供了。</p>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t7" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>配置消费者</h4>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">生产者往指定目的地Destination发送消息后，接下来就是消费者对指定目的地的消息进行消费了。那么消费者是如何知道有生产者发送消息到指定目的地Destination了呢？每个消费者对应每个目的地都需要有对应的MessageListenerContainer。对于消息监听容器而言，除了要知道监听哪个目的地之外，还需要知道到哪里去监听，也就是说它还需要知道去监听哪个JMS服务器，通过配置MessageListenerContainer的时候往里面注入一个ConnectionFactory来实现的。所以我们在配置一个MessageListenerContainer的时候有三个属性必须指定：一个是表示从哪里监听的ConnectionFactory；一个是表示监听什么的Destination；一个是接收到消息以后进行消息处理的MessageListener。</p>



<pre style="word-wrap:break-word;box-sizing:border-box;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, monospace;border-radius:0px;font-size:14px;line-height:1.45;word-break:break-all;border:0px solid rgb(136, 136, 136);display:block;background-color:rgba(128, 128, 128, 0.0470588);padding:5px 5px 5px 60px;position:relative;overflow-y:hidden;overflow-x:auto;white-space:nowrap;margin:0px 0px 1.1em;"><code style="font-family:&quot;Source Code Pro&quot;, monospace;display:block;background:rgb(255, 255, 255);box-sizing:border-box;color:inherit;padding:0px;font-size:inherit;background-color:transparent;white-space:pre;border-radius:0px;word-wrap:normal;"><span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 消息消费者 start--&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义Queue监听器 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;queue&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">container-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;default&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">connection-factory</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">acknowledge</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;auto&quot;</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.queue&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;queueReceiver1&quot;</span>/&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.queue&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;queueReceiver2&quot;</span>/&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义Topic监听器 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;topic&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">container-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;default&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">connection-factory</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">acknowledge</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;auto&quot;</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.topic&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;topicReceiver1&quot;</span>/&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.topic&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;topicReceiver2&quot;</span>/&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 消息消费者 end --&gt;</span></code><ul style="margin:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;position:absolute;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;opacity:0;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li></ul><ul style="left:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;position:absolute;margin:0px;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li></ul></pre>



<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t8" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>ActiveMQ.xml</h4>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">此时，Spring和JMS，ActiveMQ整合的ActiveMQ.xml已经完成，下面展示所有的xml</p>



<pre style="word-wrap:break-word;box-sizing:border-box;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, monospace;border-radius:0px;font-size:14px;line-height:1.45;word-break:break-all;border:0px solid rgb(136, 136, 136);display:block;background-color:rgba(128, 128, 128, 0.0470588);padding:5px 5px 5px 60px;position:relative;overflow-y:hidden;overflow-x:auto;white-space:nowrap;margin:0px 0px 1.1em;"><code style="font-family:&quot;Source Code Pro&quot;, monospace;display:block;background:rgb(255, 255, 255);box-sizing:border-box;color:inherit;padding:0px;font-size:inherit;background-color:transparent;white-space:pre;border-radius:0px;word-wrap:normal;"><span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">beans</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://www.springframework.org/schema/beans&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns:context</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://www.springframework.org/schema/context&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns:xsi</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns:amq</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://activemq.apache.org/schema/core&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns:jms</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://www.springframework.org/schema/jms&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xsi:schemaLocation</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://www.springframework.org/schema/beans   
        http://www.springframework.org/schema/beans/spring-beans-4.0.xsd   
        http://www.springframework.org/schema/context   
        http://www.springframework.org/schema/context/spring-context-4.0.xsd
        http://www.springframework.org/schema/jms
        http://www.springframework.org/schema/jms/spring-jms-4.0.xsd
        http://activemq.apache.org/schema/core
        http://activemq.apache.org/schema/core/activemq-core-5.8.0.xsd&quot;</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- ActiveMQ 连接工厂 --&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 真正可以产生Connection的ConnectionFactory，由对应的 JMS服务厂商提供--&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 如果连接网络：tcp://ip:61616；未连接网络：tcp://localhost:61616 以及用户名，密码--&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">amq:connectionFactory</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;amqConnectionFactory&quot;</span>
        <span style="box-sizing:border-box;color:rgb(102, 0, 102);">brokerURL</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;tcp://192.168.3.3:61616&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">userName</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;admin&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">password</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;admin&quot;</span>  /&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring Caching连接工厂 --&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring用于管理真正的ConnectionFactory的ConnectionFactory --&gt;</span>  
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.connection.CachingConnectionFactory&quot;</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 目标ConnectionFactory对应真实的可以产生JMS Connection的ConnectionFactory --&gt;</span>  
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;targetConnectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;amqConnectionFactory&quot;</span>&gt;</span><span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 同上，同理 --&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- &lt;constructor-arg ref=&quot;amqConnectionFactory&quot; /&gt; --&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Session缓存数量 --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;sessionCacheSize&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">value</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;100&quot;</span> /&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring JmsTemplate 的消息生产者 start--&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义JmsTemplate的Queue类型 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;jmsQueueTemplate&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.core.JmsTemplate&quot;</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 这个connectionFactory对应的是我们定义的Spring提供的那个ConnectionFactory对象 --&gt;</span>  
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">constructor-arg</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> /&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 非pub/sub模型（发布/订阅），即队列模式 --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;pubSubDomain&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">value</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;false&quot;</span> /&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义JmsTemplate的Topic类型 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">id</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;jmsTopicTemplate&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">class</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;org.springframework.jms.core.JmsTemplate&quot;</span>&gt;</span>
         <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 这个connectionFactory对应的是我们定义的Spring提供的那个ConnectionFactory对象 --&gt;</span>  
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">constructor-arg</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> /&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- pub/sub模型（发布/订阅） --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">property</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">name</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;pubSubDomain&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">value</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;true&quot;</span> /&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">bean</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!--Spring JmsTemplate 的消息生产者 end--&gt;</span>


    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 消息消费者 start--&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义Queue监听器 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;queue&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">container-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;default&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">connection-factory</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">acknowledge</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;auto&quot;</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.queue&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;queueReceiver1&quot;</span>/&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.queue&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;queueReceiver2&quot;</span>/&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 定义Topic监听器 --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;topic&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">container-type</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;default&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">connection-factory</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;connectionFactory&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">acknowledge</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;auto&quot;</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.topic&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;topicReceiver1&quot;</span>/&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">destination</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;test.topic&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">ref</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;topicReceiver2&quot;</span>/&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">jms:listener-container</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- 消息消费者 end --&gt;</span>
<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">beans</span>&gt;</span>  </code><ul style="margin:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;position:absolute;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;opacity:0;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li><li style="box-sizing:border-box;padding:0px 5px;">17</li><li style="box-sizing:border-box;padding:0px 5px;">18</li><li style="box-sizing:border-box;padding:0px 5px;">19</li><li style="box-sizing:border-box;padding:0px 5px;">20</li><li style="box-sizing:border-box;padding:0px 5px;">21</li><li style="box-sizing:border-box;padding:0px 5px;">22</li><li style="box-sizing:border-box;padding:0px 5px;">23</li><li style="box-sizing:border-box;padding:0px 5px;">24</li><li style="box-sizing:border-box;padding:0px 5px;">25</li><li style="box-sizing:border-box;padding:0px 5px;">26</li><li style="box-sizing:border-box;padding:0px 5px;">27</li><li style="box-sizing:border-box;padding:0px 5px;">28</li><li style="box-sizing:border-box;padding:0px 5px;">29</li><li style="box-sizing:border-box;padding:0px 5px;">30</li><li style="box-sizing:border-box;padding:0px 5px;">31</li><li style="box-sizing:border-box;padding:0px 5px;">32</li><li style="box-sizing:border-box;padding:0px 5px;">33</li><li style="box-sizing:border-box;padding:0px 5px;">34</li><li style="box-sizing:border-box;padding:0px 5px;">35</li><li style="box-sizing:border-box;padding:0px 5px;">36</li><li style="box-sizing:border-box;padding:0px 5px;">37</li><li style="box-sizing:border-box;padding:0px 5px;">38</li><li style="box-sizing:border-box;padding:0px 5px;">39</li><li style="box-sizing:border-box;padding:0px 5px;">40</li><li style="box-sizing:border-box;padding:0px 5px;">41</li><li style="box-sizing:border-box;padding:0px 5px;">42</li><li style="box-sizing:border-box;padding:0px 5px;">43</li><li style="box-sizing:border-box;padding:0px 5px;">44</li><li style="box-sizing:border-box;padding:0px 5px;">45</li><li style="box-sizing:border-box;padding:0px 5px;">46</li><li style="box-sizing:border-box;padding:0px 5px;">47</li><li style="box-sizing:border-box;padding:0px 5px;">48</li><li style="box-sizing:border-box;padding:0px 5px;">49</li><li style="box-sizing:border-box;padding:0px 5px;">50</li><li style="box-sizing:border-box;padding:0px 5px;">51</li><li style="box-sizing:border-box;padding:0px 5px;">52</li><li style="box-sizing:border-box;padding:0px 5px;">53</li><li style="box-sizing:border-box;padding:0px 5px;">54</li><li style="box-sizing:border-box;padding:0px 5px;">55</li><li style="box-sizing:border-box;padding:0px 5px;">56</li><li style="box-sizing:border-box;padding:0px 5px;">57</li><li style="box-sizing:border-box;padding:0px 5px;">58</li><li style="box-sizing:border-box;padding:0px 5px;">59</li><li style="box-sizing:border-box;padding:0px 5px;">60</li><li style="box-sizing:border-box;padding:0px 5px;">61</li><li style="box-sizing:border-box;padding:0px 5px;">62</li><li style="box-sizing:border-box;padding:0px 5px;">63</li><li style="box-sizing:border-box;padding:0px 5px;">64</li><li style="box-sizing:border-box;padding:0px 5px;">65</li><li style="box-sizing:border-box;padding:0px 5px;">66</li><li style="box-sizing:border-box;padding:0px 5px;">67</li><li style="box-sizing:border-box;padding:0px 5px;">68</li></ul><ul style="left:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;position:absolute;margin:0px;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li><li style="box-sizing:border-box;padding:0px 5px;">17</li><li style="box-sizing:border-box;padding:0px 5px;">18</li><li style="box-sizing:border-box;padding:0px 5px;">19</li><li style="box-sizing:border-box;padding:0px 5px;">20</li><li style="box-sizing:border-box;padding:0px 5px;">21</li><li style="box-sizing:border-box;padding:0px 5px;">22</li><li style="box-sizing:border-box;padding:0px 5px;">23</li><li style="box-sizing:border-box;padding:0px 5px;">24</li><li style="box-sizing:border-box;padding:0px 5px;">25</li><li style="box-sizing:border-box;padding:0px 5px;">26</li><li style="box-sizing:border-box;padding:0px 5px;">27</li><li style="box-sizing:border-box;padding:0px 5px;">28</li><li style="box-sizing:border-box;padding:0px 5px;">29</li><li style="box-sizing:border-box;padding:0px 5px;">30</li><li style="box-sizing:border-box;padding:0px 5px;">31</li><li style="box-sizing:border-box;padding:0px 5px;">32</li><li style="box-sizing:border-box;padding:0px 5px;">33</li><li style="box-sizing:border-box;padding:0px 5px;">34</li><li style="box-sizing:border-box;padding:0px 5px;">35</li><li style="box-sizing:border-box;padding:0px 5px;">36</li><li style="box-sizing:border-box;padding:0px 5px;">37</li><li style="box-sizing:border-box;padding:0px 5px;">38</li><li style="box-sizing:border-box;padding:0px 5px;">39</li><li style="box-sizing:border-box;padding:0px 5px;">40</li><li style="box-sizing:border-box;padding:0px 5px;">41</li><li style="box-sizing:border-box;padding:0px 5px;">42</li><li style="box-sizing:border-box;padding:0px 5px;">43</li><li style="box-sizing:border-box;padding:0px 5px;">44</li><li style="box-sizing:border-box;padding:0px 5px;">45</li><li style="box-sizing:border-box;padding:0px 5px;">46</li><li style="box-sizing:border-box;padding:0px 5px;">47</li><li style="box-sizing:border-box;padding:0px 5px;">48</li><li style="box-sizing:border-box;padding:0px 5px;">49</li><li style="box-sizing:border-box;padding:0px 5px;">50</li><li style="box-sizing:border-box;padding:0px 5px;">51</li><li style="box-sizing:border-box;padding:0px 5px;">52</li><li style="box-sizing:border-box;padding:0px 5px;">53</li><li style="box-sizing:border-box;padding:0px 5px;">54</li><li style="box-sizing:border-box;padding:0px 5px;">55</li><li style="box-sizing:border-box;padding:0px 5px;">56</li><li style="box-sizing:border-box;padding:0px 5px;">57</li><li style="box-sizing:border-box;padding:0px 5px;">58</li><li style="box-sizing:border-box;padding:0px 5px;">59</li><li style="box-sizing:border-box;padding:0px 5px;">60</li><li style="box-sizing:border-box;padding:0px 5px;">61</li><li style="box-sizing:border-box;padding:0px 5px;">62</li><li style="box-sizing:border-box;padding:0px 5px;">63</li><li style="box-sizing:border-box;padding:0px 5px;">64</li><li style="box-sizing:border-box;padding:0px 5px;">65</li><li style="box-sizing:border-box;padding:0px 5px;">66</li><li style="box-sizing:border-box;padding:0px 5px;">67</li><li style="box-sizing:border-box;padding:0px 5px;">68</li></ul></pre>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">鉴于博文内容较多，我们只是在粘贴web.xml的配置，就不在博文中提供Spring和SpringMVC的XML配置，其他内容，大家查看<a href="http://download.csdn.net/detail/jiuqiyuliang/9141139" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">源码</a>即可。</p>

<h4 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;"><a name="t9" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>web.xml</h4>



<pre style="word-wrap:break-word;box-sizing:border-box;color:rgb(51, 51, 51);font-family:&quot;Source Code Pro&quot;, monospace;border-radius:0px;font-size:14px;line-height:1.45;word-break:break-all;border:0px solid rgb(136, 136, 136);display:block;background-color:rgba(128, 128, 128, 0.0470588);padding:5px 5px 5px 60px;position:relative;overflow-y:hidden;overflow-x:auto;white-space:nowrap;margin:0px 0px 1.1em;"><code style="font-family:&quot;Source Code Pro&quot;, monospace;display:block;background:rgb(255, 255, 255);box-sizing:border-box;color:inherit;padding:0px;font-size:inherit;background-color:transparent;white-space:pre;border-radius:0px;word-wrap:normal;"><span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">web-app</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns:xsi</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xmlns:web</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">xsi:schemaLocation</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span>
    <span style="box-sizing:border-box;color:rgb(102, 0, 102);">version</span>=<span style="box-sizing:border-box;color:rgb(0, 136, 0);">&quot;3.0&quot;</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">display-name</span>&gt;</span>ActiveMQSpringDemo<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">display-name</span>&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Log4J Start --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">context-param</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>log4jConfigLocation<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>classpath:log4j.properties<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">context-param</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">context-param</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>log4jRefreshInterval<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>6000<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">context-param</span>&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring Log4J config --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener-class</span>&gt;</span>org.springframework.web.util.Log4jConfigListener<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener-class</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener</span>&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Log4J End --&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring 编码过滤器 start --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-name</span>&gt;</span>characterEncoding<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-name</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-class</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">init-param</span>&gt;</span>
            <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>encoding<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>
            <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>UTF-8<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">init-param</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">init-param</span>&gt;</span>
            <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>forceEncoding<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>
            <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>true<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">init-param</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-mapping</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-name</span>&gt;</span>characterEncoding<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-name</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">url-pattern</span>&gt;</span>/*<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">url-pattern</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">filter-mapping</span>&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring 编码过滤器 End --&gt;</span>

    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring Application Context Listener Start --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">context-param</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>contextConfigLocation<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>classpath*:applicationContext.xml,classpath*:ActiveMQ.xml<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">context-param</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener-class</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">listener</span>&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring Application Context Listener End --&gt;</span>


    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring MVC Config Start --&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-name</span>&gt;</span>SpringMVC<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-name</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-class</span>&gt;</span>

        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">init-param</span>&gt;</span>
            <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>contextConfigLocation<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-name</span>&gt;</span>
            <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>classpath:spring-mvc.xml<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">param-value</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">init-param</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">load-on-startup</span>&gt;</span>1<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">load-on-startup</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-mapping</span>&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-name</span>&gt;</span>SpringMVC<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-name</span>&gt;</span>
        <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Filter all resources --&gt;</span>
        <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;<span style="box-sizing:border-box;color:rgb(0, 0, 136);">url-pattern</span>&gt;</span>/<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">url-pattern</span>&gt;</span>
    <span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">servlet-mapping</span>&gt;</span>
    <span style="color:rgb(136, 0, 0);box-sizing:border-box;">&lt;!-- Spring MVC Config End --&gt;</span>

<span style="color:rgb(0, 102, 102);box-sizing:border-box;">&lt;/<span style="box-sizing:border-box;color:rgb(0, 0, 136);">web-app</span>&gt;</span></code><ul style="margin:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;left:0px;position:absolute;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;opacity:0;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li><li style="box-sizing:border-box;padding:0px 5px;">17</li><li style="box-sizing:border-box;padding:0px 5px;">18</li><li style="box-sizing:border-box;padding:0px 5px;">19</li><li style="box-sizing:border-box;padding:0px 5px;">20</li><li style="box-sizing:border-box;padding:0px 5px;">21</li><li style="box-sizing:border-box;padding:0px 5px;">22</li><li style="box-sizing:border-box;padding:0px 5px;">23</li><li style="box-sizing:border-box;padding:0px 5px;">24</li><li style="box-sizing:border-box;padding:0px 5px;">25</li><li style="box-sizing:border-box;padding:0px 5px;">26</li><li style="box-sizing:border-box;padding:0px 5px;">27</li><li style="box-sizing:border-box;padding:0px 5px;">28</li><li style="box-sizing:border-box;padding:0px 5px;">29</li><li style="box-sizing:border-box;padding:0px 5px;">30</li><li style="box-sizing:border-box;padding:0px 5px;">31</li><li style="box-sizing:border-box;padding:0px 5px;">32</li><li style="box-sizing:border-box;padding:0px 5px;">33</li><li style="box-sizing:border-box;padding:0px 5px;">34</li><li style="box-sizing:border-box;padding:0px 5px;">35</li><li style="box-sizing:border-box;padding:0px 5px;">36</li><li style="box-sizing:border-box;padding:0px 5px;">37</li><li style="box-sizing:border-box;padding:0px 5px;">38</li><li style="box-sizing:border-box;padding:0px 5px;">39</li><li style="box-sizing:border-box;padding:0px 5px;">40</li><li style="box-sizing:border-box;padding:0px 5px;">41</li><li style="box-sizing:border-box;padding:0px 5px;">42</li><li style="box-sizing:border-box;padding:0px 5px;">43</li><li style="box-sizing:border-box;padding:0px 5px;">44</li><li style="box-sizing:border-box;padding:0px 5px;">45</li><li style="box-sizing:border-box;padding:0px 5px;">46</li><li style="box-sizing:border-box;padding:0px 5px;">47</li><li style="box-sizing:border-box;padding:0px 5px;">48</li><li style="box-sizing:border-box;padding:0px 5px;">49</li><li style="box-sizing:border-box;padding:0px 5px;">50</li><li style="box-sizing:border-box;padding:0px 5px;">51</li><li style="box-sizing:border-box;padding:0px 5px;">52</li><li style="box-sizing:border-box;padding:0px 5px;">53</li><li style="box-sizing:border-box;padding:0px 5px;">54</li><li style="box-sizing:border-box;padding:0px 5px;">55</li><li style="box-sizing:border-box;padding:0px 5px;">56</li><li style="box-sizing:border-box;padding:0px 5px;">57</li><li style="box-sizing:border-box;padding:0px 5px;">58</li><li style="box-sizing:border-box;padding:0px 5px;">59</li><li style="box-sizing:border-box;padding:0px 5px;">60</li><li style="box-sizing:border-box;padding:0px 5px;">61</li><li style="box-sizing:border-box;padding:0px 5px;">62</li><li style="box-sizing:border-box;padding:0px 5px;">63</li><li style="box-sizing:border-box;padding:0px 5px;">64</li><li style="box-sizing:border-box;padding:0px 5px;">65</li><li style="box-sizing:border-box;padding:0px 5px;">66</li><li style="box-sizing:border-box;padding:0px 5px;">67</li><li style="box-sizing:border-box;padding:0px 5px;">68</li><li style="box-sizing:border-box;padding:0px 5px;">69</li><li style="box-sizing:border-box;padding:0px 5px;">70</li><li style="box-sizing:border-box;padding:0px 5px;">71</li></ul><ul style="left:0px;box-sizing:border-box;width:50px;background-color:rgb(238, 238, 238);top:0px;position:absolute;margin:0px;padding:6px 0px 40px;border-right:1px solid rgb(221, 221, 221);list-style:none;text-align:right;"><li style="box-sizing:border-box;padding:0px 5px;">1</li><li style="box-sizing:border-box;padding:0px 5px;">2</li><li style="box-sizing:border-box;padding:0px 5px;">3</li><li style="box-sizing:border-box;padding:0px 5px;">4</li><li style="box-sizing:border-box;padding:0px 5px;">5</li><li style="box-sizing:border-box;padding:0px 5px;">6</li><li style="box-sizing:border-box;padding:0px 5px;">7</li><li style="box-sizing:border-box;padding:0px 5px;">8</li><li style="box-sizing:border-box;padding:0px 5px;">9</li><li style="box-sizing:border-box;padding:0px 5px;">10</li><li style="box-sizing:border-box;padding:0px 5px;">11</li><li style="box-sizing:border-box;padding:0px 5px;">12</li><li style="box-sizing:border-box;padding:0px 5px;">13</li><li style="box-sizing:border-box;padding:0px 5px;">14</li><li style="box-sizing:border-box;padding:0px 5px;">15</li><li style="box-sizing:border-box;padding:0px 5px;">16</li><li style="box-sizing:border-box;padding:0px 5px;">17</li><li style="box-sizing:border-box;padding:0px 5px;">18</li><li style="box-sizing:border-box;padding:0px 5px;">19</li><li style="box-sizing:border-box;padding:0px 5px;">20</li><li style="box-sizing:border-box;padding:0px 5px;">21</li><li style="box-sizing:border-box;padding:0px 5px;">22</li><li style="box-sizing:border-box;padding:0px 5px;">23</li><li style="box-sizing:border-box;padding:0px 5px;">24</li><li style="box-sizing:border-box;padding:0px 5px;">25</li><li style="box-sizing:border-box;padding:0px 5px;">26</li><li style="box-sizing:border-box;padding:0px 5px;">27</li><li style="box-sizing:border-box;padding:0px 5px;">28</li><li style="box-sizing:border-box;padding:0px 5px;">29</li><li style="box-sizing:border-box;padding:0px 5px;">30</li><li style="box-sizing:border-box;padding:0px 5px;">31</li><li style="box-sizing:border-box;padding:0px 5px;">32</li><li style="box-sizing:border-box;padding:0px 5px;">33</li><li style="box-sizing:border-box;padding:0px 5px;">34</li><li style="box-sizing:border-box;padding:0px 5px;">35</li><li style="box-sizing:border-box;padding:0px 5px;">36</li><li style="box-sizing:border-box;padding:0px 5px;">37</li><li style="box-sizing:border-box;padding:0px 5px;">38</li><li style="box-sizing:border-box;padding:0px 5px;">39</li><li style="box-sizing:border-box;padding:0px 5px;">40</li><li style="box-sizing:border-box;padding:0px 5px;">41</li><li style="box-sizing:border-box;padding:0px 5px;">42</li><li style="box-sizing:border-box;padding:0px 5px;">43</li><li style="box-sizing:border-box;padding:0px 5px;">44</li><li style="box-sizing:border-box;padding:0px 5px;">45</li><li style="box-sizing:border-box;padding:0px 5px;">46</li><li style="box-sizing:border-box;padding:0px 5px;">47</li><li style="box-sizing:border-box;padding:0px 5px;">48</li><li style="box-sizing:border-box;padding:0px 5px;">49</li><li style="box-sizing:border-box;padding:0px 5px;">50</li><li style="box-sizing:border-box;padding:0px 5px;">51</li><li style="box-sizing:border-box;padding:0px 5px;">52</li><li style="box-sizing:border-box;padding:0px 5px;">53</li><li style="box-sizing:border-box;padding:0px 5px;">54</li><li style="box-sizing:border-box;padding:0px 5px;">55</li><li style="box-sizing:border-box;padding:0px 5px;">56</li><li style="box-sizing:border-box;padding:0px 5px;">57</li><li style="box-sizing:border-box;padding:0px 5px;">58</li><li style="box-sizing:border-box;padding:0px 5px;">59</li><li style="box-sizing:border-box;padding:0px 5px;">60</li><li style="box-sizing:border-box;padding:0px 5px;">61</li><li style="box-sizing:border-box;padding:0px 5px;">62</li><li style="box-sizing:border-box;padding:0px 5px;">63</li><li style="box-sizing:border-box;padding:0px 5px;">64</li><li style="box-sizing:border-box;padding:0px 5px;">65</li><li style="box-sizing:border-box;padding:0px 5px;">66</li><li style="box-sizing:border-box;padding:0px 5px;">67</li><li style="box-sizing:border-box;padding:0px 5px;">68</li><li style="box-sizing:border-box;padding:0px 5px;">69</li><li style="box-sizing:border-box;padding:0px 5px;">70</li><li style="box-sizing:border-box;padding:0px 5px;">71</li></ul></pre>



<h3 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;font-size:1.73em;"><a name="t10" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>运行效果</h3>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;"><img src="深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且_files/20150926151836004.jpg" type="image/jpeg" data-filename="20150926151836004.jpg" alt="这里写图片描述" height="416" style="border:none;box-sizing:border-box;max-width:100%;" title="" width="909"/></p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;"><img src="深入浅出JMS(四)--Spring和ActiveMQ整合的完整实例 - 努力+坚持，而且_files/20150926151827047.jpg" type="image/jpeg" data-filename="20150926151827047.jpg" alt="这里写图片描述" height="421" style="border:none;box-sizing:border-box;max-width:100%;" title="" width="914"/></p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">从上图可以看出队列模型和PUB/SUB模型的区别，Queue只能由一个消费者接收，其他Queue中的成员无法接受到被已消费的信息，而Topic则可以，只要是订阅了Topic的消费者，全部可以获取到生产者发布的信息。</p>



<h3 style="padding:0px;box-sizing:border-box;font-weight:100;margin:0.8em 0px;line-height:1.3em;font-size:1.73em;"><a name="t11" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank"></a>总结</h3>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">Spring提供了对JMS的支持，ActiveMQ提供了很好的实现，而此时我们已经将两者完美的结合在了一起。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;">下篇博文我们实现Spring和ActiveMQ消息的持久化。</p>

<p style="padding:0px;box-sizing:border-box;margin:0px 0px 1.1em;"><a href="http://download.csdn.net/detail/jiuqiyuliang/9141139" style="text-decoration:none;box-sizing:border-box;color:rgb(79, 161, 219);" target="_blank">源码下载</a></p></div>
        
   
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="padding-left:17px;color:rgb(51, 51, 51);background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;background-position:0 0 !important;float:left;font-size:12px;text-decoration:none;line-height:16px;height:16px;background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank"></a>
<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -52px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -104px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -260px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -208px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到人人网"></a>
<a href="http://blog.csdn.net/jiuqiyuliang/article/details/48758203#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -1612px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   











 


        <div style="display:block;clear:both;width:182px;margin:0px auto;padding:30px 0px 15px;text-align:center;">
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;background:rgb(255, 121, 0);text-align:center;color:rgb(255, 255, 255);cursor:pointer;">
               
                 <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:27px;line-height:30px;font-family:&quot;Microsoft YaHei&quot;;">顶</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;font-family:Arial;">98</dd>
            </dl>
           
              
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;background:rgb(255, 121, 0);text-align:center;color:rgb(255, 255, 255);cursor:pointer;">
              
                  <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:27px;line-height:30px;font-family:&quot;Microsoft YaHei&quot;;">踩</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;font-family:Arial;">3</dd>               
            </dl>
            
        <span style="text-align:center;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
     <div><a href="#" style="color:rgb(255, 153, 0);text-decoration:none;" target="_blank"> </a>   </div>
    <div> <a href="#" style="color:rgb(255, 153, 0);text-decoration:none;" target="_blank"> </a></div>
    

   <ul style="line-height:24px;display:block;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;color:rgb(102, 102, 102);font-family:&quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif;clear:both;float:left;margin:0px 0px 5px;padding:10px 0px 0px;margin-top:30px;">
                <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="color:rgb(255, 255, 255);display:block;width:52px;padding:0px 0px 0px 27px;height:26px;background-color:rgb(153, 153, 153);float:left;font-size:14px;margin-right:7px;background-image:url(&quot;http://static.blog.csdn.net/skin/light_blue/css/../images/blog-page-arr.png&quot;);background-repeat:no-repeat;background-position:9px 8px;">上一篇</span><a href="http://blog.csdn.net/jiuqiyuliang/article/details/48608237" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">深入浅出JMS(三)--ActiveMQ简单的HelloWorld实例</a></li>
                <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="color:rgb(255, 255, 255);display:block;width:52px;padding:0px 0px 0px 27px;height:26px;background-color:rgb(153, 153, 153);float:left;font-size:14px;margin-right:7px;background-image:url(&quot;http://static.blog.csdn.net/skin/light_blue/css/../images/blog-page-arr.png&quot;);background-repeat:no-repeat;background-position:9px -22px;">下一篇</span><a href="http://blog.csdn.net/jiuqiyuliang/article/details/48765039" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">Web Service简介(一)</a></li>
    <span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:&quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif;display:block;height:0px;clear:both;visibility:hidden;">.</span></ul>

    <div style="clear:both;height:10px;"></div>


            <div style="overflow:hidden;">
                    <h4 style="margin:0px;padding:0px;font-size:16px;color:rgb(51, 51, 51);"></h4>
                    <div style="border:1px solid rgb(187, 187, 187);margin:20px 0px 0px 0px;">
                        <div style="line-height:45px;border-bottom:1px solid rgb(220, 220, 220);">
                            相关文章推荐
                        </div>
                   
                        <div style="background:rgb(252, 252, 252);max-height:180px;overflow-y:auto;padding:10px 20px;">                       
                            <ul style="float:left;width:48%;list-style:none;margin:0px;padding:0px;">    
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/jiuqiyuliang/article/details/46701559" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="深入浅出JMS(一)--JMS基本概念">深入浅出JMS(一)--JMS基本概念</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/seawavecau/article/details/1570030" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="Java教程 实战JMS">Java教程 实战JMS </a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/aking21alinjuju/article/details/6051421" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="深入浅出JMS（一）——JMS简介">深入浅出JMS（一）——JMS简介</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/caiwenfeng_for_23/article/details/8606521" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="JMS简介">JMS简介</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/whiteForever/article/details/49884145" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="jms--activemq知识点总结">jms--activemq知识点总结</a>
                                   </li>
                            </ul>
                              <ul style="float:right;width:48%;list-style:none;margin:0px;padding:0px;">      
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/zhangzikui/article/details/24837999" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="JMS入门教程">JMS入门教程</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/xuxian361/article/details/8084315" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="JMS发送和接收实例-发布/订阅模式">JMS发送和接收实例-发布/订阅模式</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/qifeng178/article/details/53991457" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="Spring与ActiveMQ的集成详解">Spring与ActiveMQ的集成详解</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/leeking888/article/details/7414877" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="activemq的连接池，通过spring的JmsTemplate发送消息到指定的Destination">activemq的连接池，通过spring的JmsTemplate发送消息到指定的Destination</a>
                                   </li>
                                   <li style="list-style:none;line-height:30px;height:30px;overflow:hidden;text-overflow:ellipsis;">
                                       <em style="vertical-align:middle;font-style:normal;display:inline-block;margin-right:10px;">•</em>
                                       <a href="http://blog.csdn.net/json_mr/article/details/53301075" style="text-decoration:none;color:rgb(51, 51, 51);vertical-align:middle;display:inline-block;max-width:276px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" target="_blank" title="activeMq 消费者整合spring">activeMq 消费者整合spring</a>
                                   </li>
                            </ul>
                        </div>
                    </div>
                </div>   
      
</div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 