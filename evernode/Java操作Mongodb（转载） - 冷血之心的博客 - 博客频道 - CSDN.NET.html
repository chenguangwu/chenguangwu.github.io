<html>
<head>
  <title>Java操作Mongodb（转载） - 冷血之心的博客 - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="9040"/>
<h1>Java操作Mongodb（转载） - 冷血之心的博客 - 博客频道 - CSDN.NET</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/11/15 10:04</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.csdn.net/qq_25827845/article/details/51986923"><i>http://blog.csdn.net/qq_25827845/article/details/51986923</i></a></td></tr>
</table>
</div>
<br/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="font-size:12px;font-family:Arial, Console, Verdana, 'Courier New';background:url(http://static.blog.csdn.net/skin/light_blue/images/body_bg.jpg) 50% 0% repeat-x;"><div style="background:url(http://static.blog.csdn.net/skin/light_blue/images/head_bg.jpg) 50% -25px no-repeat;"><div style="text-align:left;"><div style="overflow:hidden;"><div style="min-width:700px;background:rgb(255, 255, 255);"><div>
    <div style="display:block;margin:5px 0px;color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';">   
         <span style="display:inline-block;width:19px;height:19px;margin:0px 2px 0px 0px;vertical-align:middle;background:url(http://static.blog.csdn.net/images/ico_Repost.gif) 0px 0px no-repeat;"></span>


    <h1 style="font-size:20px;padding:0px;margin:0px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:30px;font-family:'Microsoft YaHei';vertical-align:middle;font-variant:normal;display:inline;">
        <span><a href="http://blog.csdn.net/qq_25827845/article/details/51986923" style="text-decoration:none;color:rgb(51, 51, 51);">
        Java操作Mongodb（转载）            
        </a></span>
    </h1>
<span style="color:rgb(0, 0, 0);font-style:normal;font-variant:normal;font-weight:normal;font-size:20px;line-height:30px;font-family:'Microsoft YaHei';display:block;height:0px;clear:both;visibility:hidden;">.</span></div>

   

        <div style="font-family:Arial;padding:0px 20px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;color:rgb(153, 153, 153);text-align:right;display:block;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgb(237, 237, 237);margin:0px -20px;overflow:hidden;">
        <div style="width:100%;float:left;">
            <span style="margin:0px 5px;float:left;">
            标签：
              <a href="http://www.csdn.net/tag/Java" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">Java</a><a href="http://www.csdn.net/tag/MongoDB" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">MongoDB</a><a href="http://www.csdn.net/tag/%e6%95%b0%e6%8d%ae%e5%ba%93" style="color:rgb(255, 153, 0);text-decoration:none;display:inline-block;margin-right:10px;" target="_blank">数据库</a>
            </span>
        </div>
        <div>
            <span style="margin:0px 5px 0px 0px;">2016-07-21 21:39</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_view.png) 0% 50% no-repeat;" title="阅读次数">651人阅读</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(http://static.blog.csdn.net/images/ico_comm.png) 0% 50% no-repeat;" title="评论次数"> <a href="http://blog.csdn.net/qq_25827845/article/details/51986923#comments" style="color:rgb(255, 153, 0);text-decoration:none;">评论</a>(1)</span>
            <span style="margin:0px 5px;"> <a href="#" style="color:rgb(255, 153, 0);text-decoration:none;" title="收藏">收藏</a></span>
             <span style="margin:0px 5px;"> <a href="http://blog.csdn.net/qq_25827845/article/details/51986923#report" style="color:rgb(255, 153, 0);text-decoration:none;" title="举报">举报</a></span>

        </div>
    <span style="color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:22px;font-family:Arial;text-align:right;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
    
    
    
      <div style="display:block;margin:0px -20px;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgb(237, 237, 237);padding:5px 20px;">
        <div style="display:inline-block;font-size:14px;color:rgb(51, 51, 51);width:70px;float:left;line-height:28px;">
           <img src="Java操作Mongodb（转载） - 冷血之心的博客 - 博客频道 - CSDN.NET_files/category_icon.jpg" type="image/jpeg" data-filename="category_icon.jpg" height="13" style="border:none;vertical-align:middle;" width="15"/>
            <span style="display:inline-block;vertical-align:middle;">分类：</span>
        </div>
        <div style="display:inline-block;font-size:14px;color:rgb(223, 52, 52);float:left;width:90%;">
                    <span style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">
                        <span>MongoDB数据库<em style="font-style:normal;">（1）</em></span>
                      <img src="Java操作Mongodb（转载） - 冷血之心的博客 - 博客频道 - CSDN.NET_files/arrow_triangle _down.jpg" type="image/jpeg" data-filename="arrow_triangle _down.jpg" height="5" style="border:none;display:inline;" width="10"/>
                      
                        
                    </span>                    
        </div>
    <span style="display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
      

  

  
  
     

<div style="margin:20px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:26px;font-family:Arial;">

<p style="margin:0px;padding:0px;"><span style="font-size:24px;color:#ff0000;"><strong>好文章，值得收藏</strong></span></p>
<p style="margin:0px;padding:0px;"><br/>
</p>
<p style="margin:0px;padding:0px;"></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>HelloWorld程序</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　学习任何程序的第一步，都是编写HelloWorld程序，我们也不例外，看下如何通过<a href="http://lib.csdn.net/base/17" style="color:rgb(223,52,52);text-decoration:none;font-weight:bold;" target="_blank" title="Java EE知识库">Java</a>编写一个HelloWorld的程序。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　首先，要通过Java操作Mongodb，必须先下载Mongodb的Java驱动程序，可以在<a href="http://github.com/mongodb/mongo-java-driver/downloads" style="color:rgb(0,0,153);text-decoration:none;" target="_blank">这里下载</a>。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　新建立一个Java工程，将下载的驱动程序放在库文件路径下，程序代码如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;"><span style="color:rgb(0,0,255);">package</span> com.mkyong.core;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> java.net.UnknownHostException;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.BasicDBObject;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.DB;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.DBCollection;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.DBCursor;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.Mongo;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.MongoException;<br style="font-size:12px;"/>
<br style="font-size:12px;"/>
<span style="color:rgb(0,128,0);">/**</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
* Java + MongoDB Hello world Example<br style="font-size:12px;"/>
* <br style="font-size:12px;"/>
</span><span style="color:rgb(0,128,0);">*/</span><br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">public</span> <span style="color:rgb(0,0,255);">class</span> App {<br style="font-size:12px;"/>
    <span style="color:rgb(0,0,255);">public</span> <span style="color:rgb(0,0,255);">static</span> <span style="color:rgb(0,0,255);">void</span> main(String[] args) {<br style="font-size:12px;"/>
        <span style="color:rgb(0,0,255);">try</span> {<br style="font-size:12px;"/>
            <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">实例化Mongo对象，连接27017端口</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            Mongo mongo = <span style="color:rgb(0,0,255);">new</span> Mongo(&quot;localhost&quot;, 27017);<br style="font-size:12px;"/>
                               <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">连接名为yourdb的数据库，假如数据库不存在的话，mongodb会自动建立</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            DB db = mongo.getDB(&quot;yourdb&quot;);<br style="font-size:12px;"/>
            <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> Get collection from MongoDB, database named &quot;yourDB&quot;<br style="font-size:12px;"/>
</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">从Mongodb中获得名为yourColleection的数据集合，如果该数据集合不存在，Mongodb会为其新建立</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            DBCollection collection = db.getCollection(&quot;yourCollection&quot;);<br style="font-size:12px;"/>
    <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> 使用BasicDBObject对象创建一个mongodb的document,并给予赋值。</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            BasicDBObject document = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
            document.put(&quot;id&quot;, 1001);<br style="font-size:12px;"/>
            document.put(&quot;msg&quot;, &quot;hello world mongoDB in Java&quot;);<br style="font-size:12px;"/>
            <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">将新建立的document保存到collection中去</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            collection.insert(document);<br style="font-size:12px;"/>
            <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> 创建要查询的document</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            BasicDBObject searchQuery = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
            searchQuery.put(&quot;id&quot;, 1001);<br style="font-size:12px;"/>
            <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> 使用collection的find方法查找document</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            DBCursor cursor = collection.find(searchQuery);<br style="font-size:12px;"/>
            <span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">循环输出结果</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>            <span style="color:rgb(0,0,255);">while</span> (cursor.hasNext()) {<br style="font-size:12px;"/>
            System.out.println(cursor.next());<br style="font-size:12px;"/>
            }<br style="font-size:12px;"/>
            System.out.println(&quot;Done&quot;); <br style="font-size:12px;"/>
        } <span style="color:rgb(0,0,255);">catch</span> (UnknownHostException e) {<br style="font-size:12px;"/>
            e.printStackTrace();<br style="font-size:12px;"/>
        } <span style="color:rgb(0,0,255);">catch</span> (MongoException e) {<br style="font-size:12px;"/>
            e.printStackTrace();<br style="font-size:12px;"/>
        }<br style="font-size:12px;"/>
    }<br style="font-size:12px;"/>
}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　最后，输出的结果为：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">{ &quot;_id&quot; : { &quot;$oid&quot; : &quot;4dbe5596dceace565d229dc3&quot;} , <br style="font-size:12px;"/>
                &quot;id&quot; : 1001 , &quot;msg&quot; : &quot;hello world mongoDB in Java&quot;}<br style="font-size:12px;"/>
Done</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　在上面的例子中，演示了使用Java对Mongodb操作的重要方法和步骤，首先通过创建Mongodb对象，传入构造函数的参数是Mongodb的<a href="http://lib.csdn.net/base/14" style="color:rgb(223,52,52);text-decoration:none;font-weight:bold;" target="_blank" title="MySQL知识库">数据库</a>所在地址和端口，然后使用</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　getDB方法获得要连接的数据库名，使用getCollection获得数据集合的名，然后通过新建立BasicDBObject对象去建立document,最后通过collection的insert方法，将建立的document保存到数据库中去。而collection的find方法，则是用来在数据库中查找document。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　从Mongodb中获得collection数据集</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　在Mongodb中，可以通过如下方法获得数据库中的collection:</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DBCollection collection = db.getCollection(&quot;yourCollection&quot;);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　如果你不知道collection的名称，可以使用db.getCollectionNames()获得集合，然后再遍历，如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DB db = mongo.getDB(&quot;yourdb&quot;);<br style="font-size:12px;"/>
　　Set collections = db.getCollectionNames();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">for</span>(String collectionName : collections){<br style="font-size:12px;"/>
　　System.out.println(collectionName);<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　完成的一个例子如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;"><span style="color:rgb(0,0,255);">package</span> com.mkyong.core;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> java.net.UnknownHostException;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> java.util.Set;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.DB;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.DBCollection;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.Mongo;<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">import</span> com.mongodb.MongoException;<br style="font-size:12px;"/>
<span style="color:rgb(0,128,0);">/**</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
* Java : Get collection from MongoDB<br style="font-size:12px;"/>
* <br style="font-size:12px;"/>
</span><span style="color:rgb(0,128,0);">*/</span><br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">public</span> <span style="color:rgb(0,0,255);">class</span> GetCollectionApp {<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">public</span> <span style="color:rgb(0,0,255);">static</span> <span style="color:rgb(0,0,255);">void</span> main(String[] args) {<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">try</span> {<br style="font-size:12px;"/>
Mongo mongo = <span style="color:rgb(0,0,255);">new</span> Mongo(&quot;localhost&quot;, 27017);<br style="font-size:12px;"/>
DB db = mongo.getDB(&quot;yourdb&quot;);<br style="font-size:12px;"/>
Set&lt;String&gt; collections = db.getCollectionNames();<br style="font-size:12px;"/>
<span style="color:rgb(0,0,255);">for</span> (String collectionName : collections) {<br style="font-size:12px;"/>
System.out.println(collectionName);<br style="font-size:12px;"/>
}<br style="font-size:12px;"/>
DBCollection collection = db.getCollection(&quot;yourCollection&quot;);<br style="font-size:12px;"/>
System.out.println(collection.toString());<br style="font-size:12px;"/>
System.out.println(&quot;Done&quot;);<br style="font-size:12px;"/>
<br style="font-size:12px;"/>
} <span style="color:rgb(0,0,255);">catch</span> (UnknownHostException e) {<br style="font-size:12px;"/>
e.printStackTrace();<br style="font-size:12px;"/>
} <span style="color:rgb(0,0,255);">catch</span> (MongoException e) {<br style="font-size:12px;"/>
e.printStackTrace();<br style="font-size:12px;"/>
}<br style="font-size:12px;"/>
}<br style="font-size:12px;"/>
}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　Mongodb中如何插入数据</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面，讲解下如何使用4种方式，将JSON数据插入到Mongodb中去。首先我们准备JSON</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　格式的数据，如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{<br style="font-size:12px;"/>
　　&quot;database&quot; : &quot;mkyongDB&quot;,<br style="font-size:12px;"/>
　　&quot;table&quot; : &quot;hosting&quot;,<br style="font-size:12px;"/>
　　&quot;detail&quot; :<br style="font-size:12px;"/>
　　{<br style="font-size:12px;"/>
　　records : 99,<br style="font-size:12px;"/>
　　index : &quot;vps_index1&quot;,<br style="font-size:12px;"/>
　　active : &quot;true&quot;<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　我们希望用不同的方式，通过JAVA代码向Mongodb插入以上格式的JSON数据</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　第一种方法，是使用BasicDBObject，方法如下代码所示：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">BasicDBObject document = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
document.put(&quot;database&quot;, &quot;mkyongDB&quot;);<br style="font-size:12px;"/>
document.put(&quot;table&quot;, &quot;hosting&quot;);<br style="font-size:12px;"/>
BasicDBObject documentDetail = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
documentDetail.put(&quot;records&quot;, &quot;99&quot;);<br style="font-size:12px;"/>
documentDetail.put(&quot;index&quot;, &quot;vps_index1&quot;);<br style="font-size:12px;"/>
documentDetail.put(&quot;active&quot;, &quot;true&quot;);<br style="font-size:12px;"/>
document.put(&quot;detail&quot;, documentDetail);<br style="font-size:12px;"/>
collection.insert(document);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　第二种方法是使用BasicDBObjectBuilder对象，如下代码所示：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObjectBuilder documentBuilder = BasicDBObjectBuilder.start()<br style="font-size:12px;"/>
　　.add(&quot;database&quot;, &quot;mkyongDB&quot;)<br style="font-size:12px;"/>
　　.add(&quot;table&quot;, &quot;hosting&quot;);<br style="font-size:12px;"/>
　　BasicDBObjectBuilder documentBuilderDetail = BasicDBObjectBuilder.start()<br style="font-size:12px;"/>
　　.add(&quot;records&quot;, &quot;99&quot;)<br style="font-size:12px;"/>
　　.add(&quot;index&quot;, &quot;vps_index1&quot;)<br style="font-size:12px;"/>
　　.add(&quot;active&quot;, &quot;true&quot;);<br style="font-size:12px;"/>
　　documentBuilder.add(&quot;detail&quot;, documentBuilderDetail.get());<br style="font-size:12px;"/>
　　collection.insert(documentBuilder.get());</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　第三种方法是使用Map对象，代码如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　Map documentMap =<span style="color:rgb(0,0,255);">new</span> HashMap();<br style="font-size:12px;"/>
　　documentMap.put(&quot;database&quot;, &quot;mkyongDB&quot;);<br style="font-size:12px;"/>
　　documentMap.put(&quot;table&quot;, &quot;hosting&quot;);<br style="font-size:12px;"/>
　　Map documentMapDetail =<span style="color:rgb(0,0,255);">new</span> HashMap();<br style="font-size:12px;"/>
　　documentMapDetail.put(&quot;records&quot;, &quot;99&quot;);<br style="font-size:12px;"/>
　　documentMapDetail.put(&quot;index&quot;, &quot;vps_index1&quot;);<br style="font-size:12px;"/>
　　documentMapDetail.put(&quot;active&quot;, &quot;true&quot;);<br style="font-size:12px;"/>
　　documentMap.put(&quot;detail&quot;, documentMapDetail);<br style="font-size:12px;"/>
　　collection.insert(<span style="color:rgb(0,0,255);">new</span> BasicDBObject(documentMap));</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　第四种方法，也就是最简单的，即直接插入JSON格式数据</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　String json =&quot;{'database' : 'mkyongDB','table' : 'hosting',&quot;+<br style="font-size:12px;"/>
　　&quot;'detail' : {'records' : 99, 'index' : 'vps_index1', 'active' : 'true'}}}&quot;;<br style="font-size:12px;"/>
　　DBObject dbObject =(DBObject)JSON.parse(json);<br style="font-size:12px;"/>
　　collection.insert(dbObject);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　这里使用了JSON的parse方法，将解析后的JSON字符串转变为DBObject对象后再直接插入到collection中去。</p>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　完整的代码如下所示：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　packagecom.mkyong.core;<br style="font-size:12px;"/>
　　importjava.net.UnknownHostException;<br style="font-size:12px;"/>
　　importjava.util.HashMap;<br style="font-size:12px;"/>
　　importjava.util.Map;<br style="font-size:12px;"/>
　　importcom.mongodb.BasicDBObject;<br style="font-size:12px;"/>
　　importcom.mongodb.BasicDBObjectBuilder;<br style="font-size:12px;"/>
　　importcom.mongodb.DB;<br style="font-size:12px;"/>
　　importcom.mongodb.DBCollection;<br style="font-size:12px;"/>
　　importcom.mongodb.DBCursor;<br style="font-size:12px;"/>
　　importcom.mongodb.DBObject;<br style="font-size:12px;"/>
　　importcom.mongodb.Mongo;<br style="font-size:12px;"/>
　　importcom.mongodb.MongoException;<br style="font-size:12px;"/>
　　importcom.mongodb.util.JSON;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">/**</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
　　* Java MongoDB : Insert a Document<br style="font-size:12px;"/>
　　*<br style="font-size:12px;"/>
　　</span><span style="color:rgb(0,128,0);">*/</span><br style="font-size:12px;"/>
　　publicclass InsertDocumentApp {<br style="font-size:12px;"/>
　　publicstaticvoid main(String[] args){<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">try</span>{<br style="font-size:12px;"/>
　　Mongo mongo =<span style="color:rgb(0,0,255);">new</span> Mongo(&quot;localhost&quot;, 27017);<br style="font-size:12px;"/>
　　DB db = mongo.getDB(&quot;yourdb&quot;);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> get a single collection</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　DBCollection collection = db.getCollection(&quot;dummyColl&quot;);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> BasicDBObject example</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　System.out.println(&quot;BasicDBObject example...&quot;);<br style="font-size:12px;"/>
　　BasicDBObject document =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　document.put(&quot;database&quot;, &quot;mkyongDB&quot;);<br style="font-size:12px;"/>
　　document.put(&quot;table&quot;, &quot;hosting&quot;);<br style="font-size:12px;"/>
　　BasicDBObject documentDetail =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　documentDetail.put(&quot;records&quot;, &quot;99&quot;);<br style="font-size:12px;"/>
　　documentDetail.put(&quot;index&quot;, &quot;vps_index1&quot;);<br style="font-size:12px;"/>
　　documentDetail.put(&quot;active&quot;, &quot;true&quot;);<br style="font-size:12px;"/>
　　document.put(&quot;detail&quot;, documentDetail);<br style="font-size:12px;"/>
　　collection.insert(document);<br style="font-size:12px;"/>
　　DBCursor cursorDoc = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursorDoc.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursorDoc.next());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　collection.remove(<span style="color:rgb(0,0,255);">new</span> BasicDBObject());<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> BasicDBObjectBuilder example</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　System.out.println(&quot;BasicDBObjectBuilder example...&quot;);<br style="font-size:12px;"/>
　　BasicDBObjectBuilder documentBuilder = BasicDBObjectBuilder.start()<br style="font-size:12px;"/>
　　.add(&quot;database&quot;, &quot;mkyongDB&quot;)<br style="font-size:12px;"/>
　　.add(&quot;table&quot;, &quot;hosting&quot;);<br style="font-size:12px;"/>
　　BasicDBObjectBuilder documentBuilderDetail = BasicDBObjectBuilder.start()<br style="font-size:12px;"/>
　　.add(&quot;records&quot;, &quot;99&quot;)<br style="font-size:12px;"/>
　　.add(&quot;index&quot;, &quot;vps_index1&quot;)<br style="font-size:12px;"/>
　　.add(&quot;active&quot;, &quot;true&quot;);<br style="font-size:12px;"/>
　　documentBuilder.add(&quot;detail&quot;, documentBuilderDetail.get());<br style="font-size:12px;"/>
　　collection.insert(documentBuilder.get());<br style="font-size:12px;"/>
　　DBCursor cursorDocBuilder = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursorDocBuilder.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursorDocBuilder.next());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　collection.remove(<span style="color:rgb(0,0,255);">new</span> BasicDBObject());<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> Map example</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　System.out.println(&quot;Map example...&quot;);<br style="font-size:12px;"/>
　　Map documentMap =<span style="color:rgb(0,0,255);">new</span> HashMap();<br style="font-size:12px;"/>
　　documentMap.put(&quot;database&quot;, &quot;mkyongDB&quot;);<br style="font-size:12px;"/>
　　documentMap.put(&quot;table&quot;, &quot;hosting&quot;);<br style="font-size:12px;"/>
　　Map documentMapDetail =<span style="color:rgb(0,0,255);">new</span> HashMap();<br style="font-size:12px;"/>
　　documentMapDetail.put(&quot;records&quot;, &quot;99&quot;);<br style="font-size:12px;"/>
　　documentMapDetail.put(&quot;index&quot;, &quot;vps_index1&quot;);<br style="font-size:12px;"/>
　　documentMapDetail.put(&quot;active&quot;, &quot;true&quot;);<br style="font-size:12px;"/>
　　documentMap.put(&quot;detail&quot;, documentMapDetail);<br style="font-size:12px;"/>
　　collection.insert(<span style="color:rgb(0,0,255);">new</span> BasicDBObject(documentMap));<br style="font-size:12px;"/>
　　DBCursor cursorDocMap = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursorDocMap.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursorDocMap.next());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　collection.remove(<span style="color:rgb(0,0,255);">new</span> BasicDBObject());<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);"> JSON parse example</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　System.out.println(&quot;JSON parse example...&quot;);<br style="font-size:12px;"/>
　　String json =&quot;{'database' : 'mkyongDB','table' : 'hosting',&quot;+<br style="font-size:12px;"/>
　　&quot;'detail' : {'records' : 99, 'index' : 'vps_index1', 'active' : 'true'}}}&quot;;<br style="font-size:12px;"/>
　　DBObject dbObject =(DBObject)JSON.parse(json);<br style="font-size:12px;"/>
　　collection.insert(dbObject);<br style="font-size:12px;"/>
　　DBCursor cursorDocJSON = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursorDocJSON.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursorDocJSON.next());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　collection.remove(<span style="color:rgb(0,0,255);">new</span> BasicDBObject());<br style="font-size:12px;"/>
　　}<span style="color:rgb(0,0,255);">catch</span>(UnknownHostException e){<br style="font-size:12px;"/>
　　e.printStackTrace();<br style="font-size:12px;"/>
　　}<span style="color:rgb(0,0,255);">catch</span>(MongoException e){<br style="font-size:12px;"/>
　　e.printStackTrace();<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　更新Document</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　假设如下的JSON格式的数据已经保存到Mongodb中去了，现在要更新相关的数据。</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostA&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 1000}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostB&quot; , &quot;type&quot; : &quot;dedicated server&quot; , &quot;clients&quot; : 100}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostC&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 900}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　假设现在要将hosting中值为hostB的进行更新，则可以使用如下的方法：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject newDocument =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　newDocument.put(&quot;hosting&quot;, &quot;hostB&quot;);<br style="font-size:12px;"/>
　　newDocument.put(&quot;type&quot;, &quot;shared host&quot;);<br style="font-size:12px;"/>
　　newDocument.put(&quot;clients&quot;, 111);<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostB&quot;), newDocument);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　可以看到，这里依然使用了BasicDBObject对象，并为其赋值了新的值后，然后使用collection的update方法，即可更新该对象。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　更新后的输出如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostA&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 1000}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostB&quot; , &quot;type&quot; : &quot;shared host&quot; , &quot;clients&quot; : 111}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostC&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 900}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　另外，还可以使用mongodb中的$inc修饰符号去对某个值进行更新，比如，要将hosting值为hostB的document的clients的值得更新为199(即100+99=199)，可以这样：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject newDocument =<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;$inc&quot;,<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;clients&quot;, 99));<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostB&quot;), newDocument);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　则输出如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostA&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 1000}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostB&quot; , &quot;type&quot; : &quot;dedicated server&quot; , &quot;clients&quot; : 199}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostC&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 900}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　接下来，讲解$set修饰符的使用。比如要把hosting中值为hostA的document中的</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　type的值进行修改，则可以如下实现：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject newDocument3 =<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;$set&quot;,<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;type&quot;, &quot;dedicated server&quot;));<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostA&quot;), newDocument3);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　则输出如下，把type的值从vps改为dedicated server:</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostB&quot; , &quot;type&quot; : &quot;dedicated server&quot; , &quot;clients&quot; : 100}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostC&quot; , &quot;type&quot; : &quot;vps&quot; , &quot;clients&quot; : 900}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostA&quot; , &quot;clients&quot; : 1000 , &quot;type&quot; : &quot;dedicated server&quot;}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　要注意的是，如果不使用$set的修饰符，而只是如下代码：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject newDocument3 =<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;type&quot;, &quot;dedicated server&quot;);<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostA&quot;), newDocument3);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　则会将所有的三个document的type类型都改为dedicated server了，因此要使用$set以更新特定的document的特定的值。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　如果要更新多个document中相同的值，可以使用$multi，比如，要把所有vps为type的document,将它们的clients的值更新为888，可以如下实现：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject updateQuery =<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;$set&quot;,<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;clients&quot;, &quot;888&quot;));<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;type&quot;, &quot;vps&quot;), updateQuery, <span style="color:rgb(0,0,255);">false</span>, <span style="color:rgb(0,0,255);">true</span>);</div>
 </div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　输出如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostA&quot; , &quot;clients&quot; : &quot;888&quot; , &quot;type&quot; : &quot;vps&quot;}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostB&quot; , &quot;type&quot; : &quot;dedicated server&quot; , &quot;clients&quot; : 100}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;x&quot;} , &quot;hosting&quot; : &quot;hostC&quot; , &quot;clients&quot; : &quot;888&quot; , &quot;type&quot; : &quot;vps&quot;}</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　最后，还是给出更新document的完整例子：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　<span style="color:rgb(0,0,255);">package</span> com.liao;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> java.net.UnknownHostException;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> com.mongodb.BasicDBObject;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> com.mongodb.DB;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> com.mongodb.DBCollection;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> com.mongodb.DBCursor;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> com.mongodb.Mongo;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">import</span> com.mongodb.MongoException;<br style="font-size:12px;"/>
　　publicclass UpdateDocumentApp {<br style="font-size:12px;"/>
　　publicstaticvoid printAllDocuments(DBCollection collection){<br style="font-size:12px;"/>
　　DBCursor cursor = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span> (cursor.hasNext()) {<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　publicstaticvoid removeAllDocuments(DBCollection collection){<br style="font-size:12px;"/>
　　collection.remove(<span style="color:rgb(0,0,255);">new</span> BasicDBObject());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　publicstaticvoid insertDummyDocuments(DBCollection collection){<br style="font-size:12px;"/>
　　BasicDBObject document = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　document.put(&quot;hosting&quot;, &quot;hostA&quot;);<br style="font-size:12px;"/>
　　document.put(&quot;type&quot;, &quot;vps&quot;);<br style="font-size:12px;"/>
　　document.put(&quot;clients&quot;, 1000);<br style="font-size:12px;"/>
　　BasicDBObject document2 = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　document2.put(&quot;hosting&quot;, &quot;hostB&quot;);<br style="font-size:12px;"/>
　　document2.put(&quot;type&quot;, &quot;dedicated server&quot;);<br style="font-size:12px;"/>
　　document2.put(&quot;clients&quot;, 100);<br style="font-size:12px;"/>
　　BasicDBObject document3 = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　document3.put(&quot;hosting&quot;, &quot;hostC&quot;);<br style="font-size:12px;"/>
　　document3.put(&quot;type&quot;, &quot;vps&quot;);<br style="font-size:12px;"/>
　　document3.put(&quot;clients&quot;, 900);<br style="font-size:12px;"/>
　　collection.insert(document);<br style="font-size:12px;"/>
　　collection.insert(document2);<br style="font-size:12px;"/>
　　collection.insert(document3);<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　publicstaticvoid main(String[] args) {<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">try</span> {<br style="font-size:12px;"/>
　　Mongo mongo = <span style="color:rgb(0,0,255);">new</span> Mongo(&quot;localhost&quot;, 27017);<br style="font-size:12px;"/>
　　DB db = mongo.getDB(&quot;yourdb&quot;);<br style="font-size:12px;"/>
　　DBCollection collection = db.getCollection(&quot;dummyColl&quot;);<br style="font-size:12px;"/>
　　System.out.println(&quot;Testing 1...&quot;);<br style="font-size:12px;"/>
　　insertDummyDocuments(collection);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">find hosting = hostB, and update it with new document</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　BasicDBObject newDocument = <span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　newDocument.put(&quot;hosting&quot;, &quot;hostB&quot;);<br style="font-size:12px;"/>
　　newDocument.put(&quot;type&quot;, &quot;shared host&quot;);<br style="font-size:12px;"/>
　　newDocument.put(&quot;clients&quot;, 111);<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostB&quot;), newDocument);<br style="font-size:12px;"/>
　　printAllDocuments(collection);<br style="font-size:12px;"/>
　　removeAllDocuments(collection);<br style="font-size:12px;"/>
　　System.out.println(&quot;Testing 2...&quot;);<br style="font-size:12px;"/>
　　insertDummyDocuments(collection);<br style="font-size:12px;"/>
　　BasicDBObject newDocument2 = <span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;$inc&quot;,<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;clients&quot;, 99));<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostB&quot;), newDocument2);<br style="font-size:12px;"/>
　　printAllDocuments(collection);<br style="font-size:12px;"/>
　　removeAllDocuments(collection);<br style="font-size:12px;"/>
　　System.out.println(&quot;Testing 3...&quot;);<br style="font-size:12px;"/>
　　insertDummyDocuments(collection);<br style="font-size:12px;"/>
　　BasicDBObject newDocument3 = <span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;$set&quot;,<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;type&quot;, &quot;dedicated server&quot;));<br style="font-size:12px;"/>
　　collection.update(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;hosting&quot;, &quot;hostA&quot;), newDocument3);<br style="font-size:12px;"/>
　　printAllDocuments(collection);<br style="font-size:12px;"/>
　　removeAllDocuments(collection);<br style="font-size:12px;"/>
　　System.out.println(&quot;Testing 4...&quot;);<br style="font-size:12px;"/>
　　insertDummyDocuments(collection);<br style="font-size:12px;"/>
　　BasicDBObject updateQuery = <span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;$set&quot;,<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;clients&quot;, &quot;888&quot;));<br style="font-size:12px;"/>
　　collection.update(<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;type&quot;, &quot;vps&quot;), updateQuery, <span style="color:rgb(0,0,255);">false</span>, <span style="color:rgb(0,0,255);">true</span>);<br style="font-size:12px;"/>
　　printAllDocuments(collection);<br style="font-size:12px;"/>
　　removeAllDocuments(collection);<br style="font-size:12px;"/>
　　System.out.println(&quot;Done&quot;);<br style="font-size:12px;"/>
　　} <span style="color:rgb(0,0,255);">catch</span> (UnknownHostException e) {<br style="font-size:12px;"/>
　　e.printStackTrace();<br style="font-size:12px;"/>
　　} <span style="color:rgb(0,0,255);">catch</span> (MongoException e) {<br style="font-size:12px;"/>
　　e.printStackTrace();<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　查询Document</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面学习如何查询document,先用下面的代码往数据库中插入1-10数字：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　<span style="color:rgb(0,0,255);">for</span>(<span style="color:rgb(0,0,255);">int</span> i=1; i &lt;=10; i++){<br style="font-size:12px;"/>
　　collection.insert(<span style="color:rgb(0,0,255);">new</span> BasicDBObject().append(&quot;number&quot;, i));<br style="font-size:12px;"/>
<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　接下来，看下如下的例子：</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　1) 获得数据库中的第一个document:</strong></p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DBObject doc = collection.findOne();<br style="font-size:12px;"/>
　　System.out.println(dbObject);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　输出为：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80bd&quot;} , &quot;number&quot; : 1}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　2)获得document的集合</strong></p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DBCursor cursor = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　这里，使用collection.find()方法，获得当前数据库中所有的documents对象集合</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　然后通过对DBCursor对象集合的遍历，即可输出当前所有documents。输出如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80bd&quot;} , &quot;number&quot; : 1}<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">..........中间部分省略，为2到9的输出</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
</span>　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c6&quot;} , &quot;number&quot; : 10}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　3) 获取指定的document</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　比如要获得number=5的document对象内容，可以使用collection的find方法即可，如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject query =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　query.put(&quot;number&quot;, 5);<br style="font-size:12px;"/>
　　DBCursor cursor = collection.find(query);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　即输出：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c1&quot;} , &quot;number&quot; : 5}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　4) 使用in操作符号</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　在mongodb中，也可以使用in操作符，比如要获得number=9和number=10的document对象，可以如下操作：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject query =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　List list =<span style="color:rgb(0,0,255);">new</span> ArrayList();<br style="font-size:12px;"/>
　　list.add(9);<br style="font-size:12px;"/>
　　list.add(10);<br style="font-size:12px;"/>
　　query.put(&quot;number&quot;, <span style="color:rgb(0,0,255);">new</span> BasicDBObject(&quot;$in&quot;, list));<br style="font-size:12px;"/>
　　DBCursor cursor = collection.find(query);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　这里使用了一个List，并将list传入到BasicDBObject的构造函数中，并使用了in操作符号，输出如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c5&quot;} , &quot;number&quot; : 9}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c6&quot;} , &quot;number&quot; : 10}</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　5) 使用&gt;,&lt;等比较符号</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　在mongodb中，也可以使用比如&gt;,&lt;等数量比较符号，比如要输出number&gt;5的document集合，则使用“$gt”即可，同理，小于关系则使用$lt，例子如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject query =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　query.put(&quot;number&quot;, <span style="color:rgb(0,0,255);">new</span> BasicDBObject(&quot;$gt&quot;, 5));<br style="font-size:12px;"/>
　　DBCursor cursor = collection.find(query);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　输出如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c2&quot;} , &quot;number&quot; : 6}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c3&quot;} , &quot;number&quot; : 7}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c4&quot;} , &quot;number&quot; : 8}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c5&quot;} , &quot;number&quot; : 9}<br style="font-size:12px;"/>
　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc7f7b7bd0fb9a86c6c80c6&quot;} , &quot;number&quot; : 10}<br style="font-size:12px;"/>
　　也可以多个比较符号一起使用，比如要输出number&gt;5和number&lt;8的document,则如下：<br style="font-size:12px;"/>
　　BasicDBObject query =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　query.put(&quot;number&quot;, <span style="color:rgb(0,0,255);">new</span> BasicDBObject(&quot;$gt&quot;, 5).append(&quot;$lt&quot;, 8));<br style="font-size:12px;"/>
　　DBCursor cursor = collection.find(query);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　同样，如果是不等于的关系的话，可以使用$ne操作符，如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject query5 =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　query5.put(&quot;number&quot;, <span style="color:rgb(0,0,255);">new</span> BasicDBObject(&quot;$ne&quot;, 8));<br style="font-size:12px;"/>
　　DBCursor cursor6 = collection.find(query5);<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor6.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor6.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　以上输出number=8之外的所有document。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　删除document</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面我们学习如何删除document，依然以上面的已插入的1-10的documents集合为例说明：</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　1) 删除第一个document</strong></p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DBObject doc = collection.findOne();<br style="font-size:12px;"/>
　　collection.remove(doc);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　2) 删除指定的document</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　比如删除number=2的document,如下方法：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject document =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　document.put(&quot;number&quot;, 2);<br style="font-size:12px;"/>
　　collection.remove(document);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　要注意的是，如下的方法将只会删除number=3的document。</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject document =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　document.put(&quot;number&quot;, 2);<br style="font-size:12px;"/>
　　document.put(&quot;number&quot;, 3);<br style="font-size:12px;"/>
　　collection.remove(document);</div>
</div>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　3) 使用in 操作符号指定删除document</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面的例子将同时删除number=4和number=5的document，使用的是in操作符</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject query2 =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　List list =<span style="color:rgb(0,0,255);">new</span> ArrayList();<br style="font-size:12px;"/>
　　list.add(4);<br style="font-size:12px;"/>
　　list.add(5);<br style="font-size:12px;"/>
　　query2.put(&quot;number&quot;, <span style="color:rgb(0,0,255);">new</span> BasicDBObject(&quot;$in&quot;, list));<br style="font-size:12px;"/>
　　collection.remove(query2);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　4) 使用“$gt”删除大于某个值的document</strong></p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　BasicDBObject query =<span style="color:rgb(0,0,255);">new</span> BasicDBObject();<br style="font-size:12px;"/>
　　query.put(&quot;number&quot;, <span style="color:rgb(0,0,255);">new</span> BasicDBObject(&quot;$gt&quot;, 9));<br style="font-size:12px;"/>
　　collection.remove(query);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　以上会删除number=10的document。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　5) 删除所有的document</strong></p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DBCursor cursor = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　collection.remove(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　保存图片到Mongodb</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面将讲解如何使用Java MongoDB GridFS API去保存图片等二进制文件到Monodb，关于Java MongoDB GridFS API的详细论述，请参考http://www.mongodb.org/display/DOCS/GridFS+Specification</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　1)保存图片</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　代码段如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　String newFileName =&quot;mkyong-java-image&quot;;<br style="font-size:12px;"/>
　　File imageFile =newFile(&quot;c:\\JavaWebHosting.png&quot;);<br style="font-size:12px;"/>
　　GridFS gfsPhoto =<span style="color:rgb(0,0,255);">new</span> GridFS(db, &quot;photo&quot;);<br style="font-size:12px;"/>
　　GridFSInputFile gfsFile = gfsPhoto.createFile(imageFile);<br style="font-size:12px;"/>
　　gfsFile.setFilename(newFileName);<br style="font-size:12px;"/>
　　gfsFile.save();</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　这里，将c盘下的JavaWebHosting.png保存到mongodb中去，并命名为mkyong-java-image。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　2) 读取图片信息</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　代码段如下</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　String newFileName =&quot;mkyong-java-image&quot;;<br style="font-size:12px;"/>
　　GridFS gfsPhoto =<span style="color:rgb(0,0,255);">new</span> GridFS(db, &quot;photo&quot;);<br style="font-size:12px;"/>
　　GridFSDBFile imageForOutput = gfsPhoto.findOne(newFileName);<br style="font-size:12px;"/>
　　System.out.println(imageForOutput);<br style="font-size:12px;"/>
</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　将会输出JSON格式的结果;</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{<br style="font-size:12px;"/>
　　&quot;_id&quot; :<br style="font-size:12px;"/>
　　{<br style="font-size:12px;"/>
　　&quot;$oid&quot; : &quot;4dc9511a14a7d017fee35746&quot;<br style="font-size:12px;"/>
　　} ,<br style="font-size:12px;"/>
　　&quot;chunkSize&quot; : 262144 ,<br style="font-size:12px;"/>
　　&quot;length&quot; : 22672 ,<br style="font-size:12px;"/>
　　&quot;md5&quot; : &quot;1462a6cfa27669af1d8d21c2d7dd1f8b&quot; ,<br style="font-size:12px;"/>
　　&quot;filename&quot; : &quot;mkyong-java-image&quot; ,<br style="font-size:12px;"/>
　　&quot;contentType&quot; : <span style="color:rgb(0,0,255);">null</span> ,<br style="font-size:12px;"/>
　　&quot;uploadDate&quot; :<br style="font-size:12px;"/>
　　{<br style="font-size:12px;"/>
　　&quot;$date&quot; : &quot;2011-05-10T14:52:10Z&quot;<br style="font-size:12px;"/>
　　} ,<br style="font-size:12px;"/>
　　&quot;aliases&quot; : <span style="color:rgb(0,0,255);">null</span><br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　可以看到，输出的是文件的属性相关信息。</p>
<br style="font-size:13.63636302948px;font-family:SimSun;line-height:23px;background-color:rgb(244,249,254);"/>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　3) 输出已保存的所有图片</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面代码段，输出所有保存在photo命名空间下的图片信息：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　GridFS gfsPhoto =<span style="color:rgb(0,0,255);">new</span> GridFS(db, &quot;photo&quot;);<br style="font-size:12px;"/>
　　DBCursor cursor = gfsPhoto.getFileList();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursor.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursor.next());<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　4) 从数据库中读取一张图片并另存</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　下面的代码段，从数据库中读取一张图片并另存为另外一张图片到磁盘中</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　String newFileName =&quot;mkyong-java-image&quot;;<br style="font-size:12px;"/>
　　GridFS gfsPhoto =<span style="color:rgb(0,0,255);">new</span> GridFS(db, &quot;photo&quot;);<br style="font-size:12px;"/>
　　GridFSDBFile imageForOutput = gfsPhoto.findOne(newFileName);<br style="font-size:12px;"/>
　　imageForOutput.writeTo(&quot;c:\\JavaWebHostingNew.png&quot;);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　5) 删除图片</strong></p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　String newFileName =&quot;mkyong-java-image&quot;;<br style="font-size:12px;"/>
　　GridFS gfsPhoto =<span style="color:rgb(0,0,255);">new</span> GridFS(db, &quot;photo&quot;);<br style="font-size:12px;"/>
　　gfsPhoto.remove(gfsPhoto.findOne(newFileName));</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 <strong>　　如何将JSON数据格式转化为DBObject格式</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　在mongodb中，可以使用com.mongodb.util.JSON类，将JSON格式的字符串转变为DBObject对象。MongoDB for JAVA驱动中提供了用于向数据库中存储普通对象的接口DBObject，当一个文档从MongoDB中取出时，它会自动把文档转换成DBObject接口类型，要将它实例化为需要的对象。比如：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{<br style="font-size:12px;"/>
　　'name' : 'mkyong',<br style="font-size:12px;"/>
　　'age' : 30<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　这样的JSON格式字符串，转换方法为：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　DBObject dbObject =(DBObject) JSON.parse(&quot;{'name':'mkyong', 'age':30}&quot;);</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　完整的代码如下：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　packagecom.mkyong.core;<br style="font-size:12px;"/>
　　importjava.net.UnknownHostException;<br style="font-size:12px;"/>
　　importcom.mongodb.DB;<br style="font-size:12px;"/>
　　importcom.mongodb.DBCollection;<br style="font-size:12px;"/>
　　importcom.mongodb.DBCursor;<br style="font-size:12px;"/>
　　importcom.mongodb.DBObject;<br style="font-size:12px;"/>
　　importcom.mongodb.Mongo;<br style="font-size:12px;"/>
　　importcom.mongodb.MongoException;<br style="font-size:12px;"/>
　　importcom.mongodb.util.JSON;<br style="font-size:12px;"/>
　　<span style="color:rgb(0,128,0);">/**</span><span style="color:rgb(0,128,0);"><br style="font-size:12px;"/>
　　* Java MongoDB : Convert JSON data to DBObject<br style="font-size:12px;"/>
　　*<br style="font-size:12px;"/>
　　</span><span style="color:rgb(0,128,0);">*/</span><br style="font-size:12px;"/>
　　publicclass App {<br style="font-size:12px;"/>
　　publicstaticvoid main(String[] args){<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">try</span>{<br style="font-size:12px;"/>
　　Mongo mongo =<span style="color:rgb(0,0,255);">new</span> Mongo(&quot;localhost&quot;, 27017);<br style="font-size:12px;"/>
　　DB db = mongo.getDB(&quot;yourdb&quot;);<br style="font-size:12px;"/>
　　DBCollection collection = db.getCollection(&quot;dummyColl&quot;);<br style="font-size:12px;"/>
　　DBObject dbObject =(DBObject) JSON<br style="font-size:12px;"/>
　　.parse(&quot;{'name':'mkyong', 'age':30}&quot;);<br style="font-size:12px;"/>
　　collection.insert(dbObject);<br style="font-size:12px;"/>
　　DBCursor cursorDoc = collection.find();<br style="font-size:12px;"/>
　　<span style="color:rgb(0,0,255);">while</span>(cursorDoc.hasNext()){<br style="font-size:12px;"/>
　　System.out.println(cursorDoc.next());<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　System.out.println(&quot;Done&quot;);<br style="font-size:12px;"/>
　　}<span style="color:rgb(0,0,255);">catch</span>(UnknownHostException e){<br style="font-size:12px;"/>
　　e.printStackTrace();<br style="font-size:12px;"/>
　　}<span style="color:rgb(0,0,255);">catch</span>(MongoException e){<br style="font-size:12px;"/>
　　e.printStackTrace();<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}<br style="font-size:12px;"/>
　　}</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
 　　则输出为：</p>
<div style="font-size:14px;height:auto;padding:4px 5.4pt;line-height:23px;font-family:SimSun;border:0.5pt solid windowtext;width:582px;word-break:break-all;background-color:rgb(230,230,230);">
<div style="height:auto;padding-top:15px;">　　{&quot;_id&quot; : {&quot;$oid&quot; : &quot;4dc9ebb5237f275c2fe4959f&quot;} , &quot;name&quot; : &quot;mkyong&quot; , &quot;age&quot; : 30}</div>
<div style="height:auto;padding-top:15px;">　　Done</div>
</div>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　可以看到，将JSON格式的数据类型直接转换为mongodb中的文档类型并输出。</p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
<strong>　　小结：</strong></p>
<p style="padding-bottom:0px;margin:0px;margin-top:0px;margin-bottom:0px;padding-top:13px;padding:0px;font-size:14px;height:auto;line-height:23px;font-family:SimSun;background-color:rgb(244,249,254);">
　　本文学习了如何使用Mongodb for JAVA驱动，对mongodb进行日常的数据库操作，比如增加，删除和修改，下一篇教程中，将指导学习<a href="http://lib.csdn.net/base/17" style="color:rgb(223,52,52);text-decoration:none;font-weight:bold;" target="_blank" title="Java EE知识库">spring</a>对mongodb的操作。</p>
<br/>
   
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/qq_25827845/article/details/51986923#" style="padding-left:17px;color:rgb(51, 51, 51);background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;background-position:0 0 !important;float:left;font-size:12px;text-decoration:none;line-height:16px;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-repeat:no-repeat;"></a>
<a href="http://blog.csdn.net/qq_25827845/article/details/51986923#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -52px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/qq_25827845/article/details/51986923#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -104px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/qq_25827845/article/details/51986923#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -260px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/qq_25827845/article/details/51986923#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -208px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到人人网"></a>
<a href="http://blog.csdn.net/qq_25827845/article/details/51986923#" style="line-height:16px;color:rgb(255, 153, 0);background-position:0 -1612px !important;text-decoration:none;font-size:12px;padding-left:17px;float:left;height:16px;cursor:pointer;margin:6px 6px 6px 0px;background-image:url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   

    








 

        <div style="display:block;clear:both;width:182px;margin:0px auto;padding:30px 0px 15px;text-align:center;">
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;text-align:center;background:rgb(255, 121, 0);color:rgb(255, 255, 255);cursor:pointer;">
               
                 <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:27px;line-height:30px;font-family:'Microsoft YaHei';">顶</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;font-family:Arial;">1</dd>
            </dl>
           
              
            <dl style="display:inline-block;float:left;width:72px;height:72px;overflow:hidden;margin:0px 2px;text-align:center;background:rgb(255, 121, 0);color:rgb(255, 255, 255);cursor:pointer;">
              
                  <dt style="margin:0px;padding:12px 0px 3px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:27px;line-height:30px;font-family:'Microsoft YaHei';">踩</dt>
                <dd style="margin:0px;color:rgb(255, 255, 255);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:22px;font-family:Arial;">1</dd>               
            </dl>
            
        <span style="text-align:center;display:block;height:0px;clear:both;visibility:hidden;">.</span></div>
     <div><a href="#" style="color:rgb(255, 153, 0);text-decoration:none;"> </a>   </div>
    <div> <a href="#" style="color:rgb(255, 153, 0);text-decoration:none;"> </a></div>
    

   <ul style="line-height:24px;display:block;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;color:rgb(102, 102, 102);font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;clear:both;float:left;margin:0px 0px 5px;padding:10px 0px 0px;margin-top:30px;">
                <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/light_blue/images/blog-page-arr.png);background-position:9px 8px;background-repeat:no-repeat;">上一篇</span><a href="http://blog.csdn.net/qq_25827845/article/details/51966534" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">Java设计模式—适配器模式</a></li>
                <li style="list-style-type:none;clear:both;padding:0px 0px 3px;overflow:hidden;"><span style="font-size:14px;display:block;width:52px;padding:0px 0px 0px 27px;height:26px;color:rgb(255, 255, 255);float:left;margin-right:7px;background-color:rgb(153, 153, 153);background-image:url(http://static.blog.csdn.net/skin/light_blue/images/blog-page-arr.png);background-position:9px -22px;background-repeat:no-repeat;">下一篇</span><a href="http://blog.csdn.net/qq_25827845/article/details/51993745" style="text-decoration:none;display:block;float:left;font-size:14px;color:rgb(51, 51, 51);">java操作MongoDB数据库（自己总结）</a></li>
    <span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;line-height:24px;font-family:'Microsoft YaHei', Arial, Helvetica, sans-serif;display:block;height:0px;clear:both;visibility:hidden;">.</span></ul>

    <div style="clear:both;height:10px;"></div>


        <div style="overflow:hidden;">
                <h4 style="margin:0px;padding:0px;font-size:16px;color:rgb(51, 51, 51);">我的同类文章</h4>
                <div style="border:1px solid rgb(187, 187, 187);margin:20px 0px 0px 0px;">
                    <div style="line-height:45px;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgb(220, 220, 220);">
                                <span style="display:inline-block;margin-left:25px;font-size:16px;color:rgb(102, 102, 102);font-weight:bold;">
                                    <span style="cursor:pointer;">MongoDB数据库<em style="font-style:normal;">（1）</em></span>
                                </span>
                    </div>
                   
                    <div style="max-height:195px;overflow-y:auto;padding:10px 20px;background:rgb(252, 252, 252);">
                        
                        <ul style="float:left;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/qq_25827845/article/details/52014468" style="text-decoration:none;color:rgb(51, 51, 51);display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;" target="_blank" title="分享一个好东西（一天精通MongoDB数据库）">分享一个好东西（一天精通MongoDB数据库）</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-07-24</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">772</b></span></li> </ul>

                        <ul style="float:right;width:49%;list-style:none;margin:0px;padding:0px;"></ul>
                    </div>
                </div>
            </div>    
    
      
</div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 