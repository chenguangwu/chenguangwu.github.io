<html>
<head>
  <title>Spring Cloud中，Eureka常见问题总结 - CSDN博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="6838"/>
<h1>Spring Cloud中，Eureka常见问题总结 - CSDN博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/4/26 19:34</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="https://blog.csdn.net/lc0817/article/details/54375802"><i>https://blog.csdn.net/lc0817/article/details/54375802</i></a></td></tr>
</table>
</div>
<br/>

<div><span>
  <div>
<div style="font-size: 16px; display: inline-block; min-width: 100%; position: relative;"><div style="outline:0px;box-sizing:border-box;"><div style="box-sizing:inherit;outline:0px;font-family:&quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif;font-size:14px;line-height:1.57143;background-color:rgb(245, 246, 247);color:rgb(51, 51, 51);"><div style="outline:0px;box-sizing:content-box;"><span style="box-sizing:inherit;outline:0px;"><div style="box-sizing:inherit;outline:0px;background:rgb(255, 255, 255);box-shadow:rgba(0, 0, 0, 0.0470588) 0px 2px 4px 0px;">
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-bottom:16px;">
			<span style="border-radius:50%;display:inline-block;width:26px;height:26px;line-height:26px;text-align:center;font-size:12px;outline:0px;box-sizing:inherit;border:1px solid rgb(231, 244, 223);color:rgb(134, 202, 94);margin-right:8px;margin-top:4px;float:left;">转</span>		<h6 style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:24px;word-break:break-all;">Spring Cloud中，Eureka常见问题总结</h6>
	</div>
	<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:14px;border-bottom:1px solid rgb(227, 227, 227);">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;color:rgb(133, 133, 133);display:flex;">
												<span style="box-sizing:inherit;outline:0px;margin-right:14px;">2017年01月12日 10:41:28</span>
			<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;margin-left:auto;float:right;">
				<span style="box-sizing:inherit;outline:0px;margin-right:14px;">阅读数：35828</span>
							</div>
		</div>
	</div>
	<div style="box-sizing:inherit;outline:0px;display:block;position:relative;padding-top:16px;">
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;word-break:break-all;">
                    
            <div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;word-break:break-all;">
                
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
Spring Cloud中，Eureka常见问题总结。</p>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t0" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#%E6%8C%87%E5%AE%9AEureka%E7%9A%84Environment" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="指定Eureka的Environment"></a>指定Eureka的Environment</h2>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.environment: 指定环境</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
参考文档：<a href="https://github.com/Netflix/eureka/wiki/Configuring-Eureka" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank">https://github.com/Netflix/eureka/wiki/Configuring-Eureka</a></p>
<a style="border-bottom-width:1px;word-break:break-all;box-sizing:border-box;outline:0px;text-decoration:none;cursor:pointer;color:rgb(85,85,85);border-bottom-style:solid;border-bottom-color:rgb(153,153,153);font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:16px;line-height:32px;text-align:justify;" target="_blank"></a><span style="outline:0px;box-sizing:border-box;word-break:break-all;color:rgb(85,85,85);font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:16px;line-height:32px;text-align:justify;"></span>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t1" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#%E6%8C%87%E5%AE%9AEureka%E7%9A%84DataCenter" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="指定Eureka的DataCenter"></a>指定Eureka的DataCenter</h2>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.datacenter: 指定数据中心</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
参考文档：<a href="https://github.com/Netflix/eureka/wiki/Configuring-Eureka" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank">https://github.com/Netflix/eureka/wiki/Configuring-Eureka</a><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
文中指出，配置-Deureka.datacenter=cloud，这样eureka将会知道是在AWS云上。</p>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t2" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3Eureka%E6%B3%A8%E5%86%8C%E6%9C%8D%E5%8A%A1%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="如何解决Eureka注册服务慢的问题"></a>如何解决Eureka注册服务慢的问题</h2>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
使用配置项：</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.instance.leaseRenewalIntervalInSeconds</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
参考文档：<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/><a href="http://cloud.spring.io/spring-cloud-static/Camden.SR1/#_why_is_it_so_slow_to_register_a_service" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank">http://cloud.spring.io/spring-cloud-static/Camden.SR1/#_why_is_it_so_slow_to_register_a_service</a><br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
原文：</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">2</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">3</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">Why is it so Slow to Register a Service?</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;"></div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">Being an instance also involves a periodic heartbeat to the registry (via the client’s serviceUrl) with default duration 30 seconds. A service is not available for discovery by clients until the instance, the server and the client all have the same metadata in their local cache (so it could take 3 heartbeats). You can change the period using eureka.instance.leaseRenewalIntervalInSeconds and this will speed up the process of getting clients connected to other services. In production it’s probably better to stick with the default because there are some computations internally in the server that make assumptions about the lease renewal period.</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
翻译：</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">作为实例还涉及到与注册中心的周期性心跳，默认持续时间为30秒（通过serviceUrl）。在实例、服务器、客户端都在本地缓存中具有相同的元数据之前，服务不可用于客户端发现（所以可能需要3次心跳）。你可以使用eureka.instance.leaseRenewalIntervalInSeconds 配置，这将加快客户端连接到其他服务的过程。在生产中，最好坚持使用默认值，因为在服务器内部有一些计算，他们对续约做出假设。</div>
</td>
</tr></tbody></table><h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t3" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#Eureka%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%9D%E6%8A%A4%E6%A8%A1%E5%BC%8F" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="Eureka的自我保护模式"></a>Eureka的自我保护模式</h2>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
如果在Eureka Server的首页看到以下这段提示，则说明Eureka已经进入了保护模式。</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY'RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE.</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
保护模式主要用于一组客户端和Eureka Server之间存在网络分区场景下的保护。一旦进入保护模式，Eureka Server将会尝试保护其服务注册表中的信息，不再删除服务注册表中的数据（也就是不会注销任何微服务）。</p>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
详见：<a href="https://github.com/Netflix/eureka/wiki/Understanding-Eureka-Peer-to-Peer-Communication" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank">https://github.com/Netflix/eureka/wiki/Understanding-Eureka-Peer-to-Peer-Communication</a></p>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t4" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3Eureka-Server%E4%B8%8D%E8%B8%A2%E5%87%BA%E5%B7%B2%E5%85%B3%E5%81%9C%E7%9A%84%E8%8A%82%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="如何解决Eureka Server不踢出已关停的节点的问题"></a>如何解决Eureka
 Server不踢出已关停的节点的问题</h2>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
在开发过程中，我们常常希望Eureka Server能够迅速有效地踢出已关停的节点，但是新手由于Eureka自我保护模式，以及心跳周期长的原因，常常会遇到Eureka Server不踢出已关停的节点的问题。解决方法如下：</p>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
(1) Eureka Server端：配置关闭自我保护，并按需配置Eureka Server清理无效节点的时间间隔。</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">2</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.server.enable-self-preservation			# 设为false，关闭自我保护</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.server.eviction-interval-timer-in-ms     # 清理间隔（单位毫秒，默认是60*1000）</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
(2) Eureka Client端：配置开启健康检查，并按需配置续约更新时间和到期时间。</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">2</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">3</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.client.healthcheck.enabled			# 开启健康检查（需要spring-boot-starter-actuator依赖）</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.instance.lease-renewal-interval-in-seconds		# 续约更新时间间隔（默认30秒）</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka.instance.lease-expiration-duration-in-seconds 	# 续约到期时间（默认90秒）</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
示例：<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
服务器端配置：</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">2</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">3</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">4</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka:</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  server:</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    enable-self-preservation: false</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    eviction-interval-timer-in-ms: 4000</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
客户端配置：</p>
<table style="border-spacing:0px;font-size:14px;font-style:inherit;font-variant:inherit;word-break:break-all;box-sizing:border-box;outline:0px;border-collapse:collapse;font-weight:inherit;display:table;width:100%;text-align:left;margin-bottom:24px;margin:0px;border:none;table-layout:fixed;"><tbody style="outline:0px;box-sizing:border-box;border:0px;word-break:break-all;"><tr style="border-right-color:initial;word-break:break-all;outline:0px;border-width:1px 0px 0px;border-right-style:initial;border-bottom-style:initial;border-left-style:initial;box-sizing:border-box;border-bottom-color:initial;border-left-color:initial;border-image:initial;border-top-style:solid;border-top-color:rgb(221, 221, 221);background-color:rgb(249,249,249);"><td style="font-weight:normal;word-break:break-all;outline:0px;padding:8px;margin:0px;box-sizing:border-box;text-align:left;border:1px solid rgb(221, 221, 221);font-size:14px;color:rgb(79, 79, 79);line-height:22px;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(134,145,148);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;text-align:right;background:rgb(239,242,243);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">1</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">2</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">3</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">4</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">5</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">6</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">7</div>
</td>
<td style="text-align:left;word-break:break-all;outline:0px;padding:0px;margin:0px;font-weight:normal;box-sizing:border-box;border:none;font-size:14px;color:rgb(79, 79, 79);line-height:22px;vertical-align:middle;">
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:10px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:0px;margin-bottom:0px;border:none;background:rgb(247,247,247);"></pre><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">eureka:</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  client:</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    healthcheck:</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">      enabled: true</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">  instance:</div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    lease-expiration-duration-in-seconds: 30 </div><div style="outline:0px;padding:0px;margin:0px;box-sizing:border-box;word-break:break-all;">    lease-renewal-interval-in-seconds: 10</div>
</td>
</tr></tbody></table><p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
注意：<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
更改Eureka更新频率将打破服务器的自我保护功能，生产环境下不建议自定义这些配置。<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/>
详见：<a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/373" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank">https://github.com/spring-cloud/spring-cloud-netflix/issues/373</a></p>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t5" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#%E8%87%AA%E5%AE%9A%E4%B9%89Eureka%E7%9A%84Instance-ID" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="自定义Eureka的Instance ID"></a>自定义Eureka的Instance
 ID</h2>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
在Spring Cloud中，服务的Instance ID的默认值是<code style="line-height:22px;word-break:break-all;outline:0px;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;font-size:13px;box-sizing:border-box;color:rgb(77,77,76);background-color:rgb(249, 242, 244);border-radius:4px;padding:2px 4px;background:rgb(247,247,247);">${spring.cloud.client.hostname}:${spring.application.name}:${spring.application.instance_id:${server.port}}</code> ，也就是<code style="line-height:22px;word-break:break-all;outline:0px;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;font-size:13px;box-sizing:border-box;color:rgb(77,77,76);background-color:rgb(249, 242, 244);border-radius:4px;padding:2px 4px;background:rgb(247,247,247);">机器主机名:应用名称:应用端口</code> 。因此在Eureka
 Server首页中看到的服务的信息类似如下：<code style="line-height:22px;word-break:break-all;outline:0px;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;font-size:13px;box-sizing:border-box;color:rgb(77,77,76);background-color:rgb(249, 242, 244);border-radius:4px;padding:2px 4px;background:rgb(247,247,247);">itmuch:microservice-provider-user:8000</code> 。如果想要自定义这部分的信息怎么办？</p>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
示例：</p>
<pre style="font-size:13px;word-break:break-all;outline:0px;padding:0px;margin:0px 0px 24px;background-color:rgb(240, 240, 240);overflow-x:auto;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;box-sizing:border-box;line-height:1.6;color:rgb(77,77,76);overflow:auto;margin-top:20px;margin-bottom:20px;text-align:justify;background:rgb(247,247,247);"><code style="background-color:rgb(246, 248, 250);word-break:break-all;outline:0px;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;font-size:14px;line-height:22px;color:rgb(0, 0, 0);box-sizing:border-box;border-radius:4px;display:block;overflow-x:auto;padding:0px;white-space:pre;word-wrap:normal;background:none;">eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/
  instance:
    preferIpAddress: true
    instance-id: ${spring.cloud.client.ipAddress}:${server.port}        # 将Instance ID设置成IP:端口的形式
</code></pre>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t6" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#Eureka%E9%85%8D%E7%BD%AE%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E5%8F%82%E8%80%83" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="Eureka配置最佳实践参考"></a>Eureka配置最佳实践参考</h2>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
<a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/203" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank">https://github.com/spring-cloud/spring-cloud-netflix/issues/203</a></p>
<h2 style="font-size:20px;word-break:break-all;outline:0px;padding:10px 0px 0px;margin:20px 0px 15px;box-sizing:border-box;color:rgb(85,85,85);font-weight:700;line-height:1.5;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;text-align:justify;"><a name="t7" style="outline:0px;cursor:pointer;box-sizing:border-box;color:rgb(78, 161, 219);text-decoration:none;word-break:break-all;"></a>
<a href="http://www.itmuch.com/spring-cloud-sum-eureka/#%E6%B3%A8%E6%84%8F%E7%82%B9%EF%BC%9Aeureka-client-healthcheck-enabled-true%E9%85%8D%E7%BD%AE%E9%A1%B9%E5%BF%85%E9%A1%BB%E8%AE%BE%E7%BD%AE%E5%9C%A8application-yml%E4%B8%AD" style="word-break:break-all;color:rgb(85,85,85);outline:0px;box-sizing:border-box;text-decoration:none;cursor:pointer;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(153,153,153);background-color:transparent;" target="_blank" title="注意点：eureka.client.healthcheck.enabled=true配置项必须设置在application.yml中"></a>注意点：eureka.client.healthcheck.enabled=true配置项必须设置在application.yml中</h2>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
<code style="line-height:22px;word-break:break-all;outline:0px;font-family:consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;font-size:13px;box-sizing:border-box;color:rgb(77,77,76);background-color:rgb(249, 242, 244);border-radius:4px;padding:2px 4px;background:rgb(247,247,247);">eureka.client.healthcheck.enabled=true</code> 只应该在application.yml中设置。如果设置在bootstrap.yml中将会导致一些不良的副作用，例如在Eureka中注册的应用名称是UNKNOWN等。</p>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
<br style="outline:0px;box-sizing:border-box;word-break:break-all;"/></p>
<p style="color:rgb(85,85,85);word-break:break-all;outline:0px;padding:0px;margin:0px 0px 16px;font-size:16px;box-sizing:border-box;font-weight:400;line-height:32px;text-align:justify;margin-top:0px;margin-bottom:25px;font-family:Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;">
转自:http://www.itmuch.com/spring-cloud-sum-eureka/</p>
            </div>
                </div>
				
        	</div>
	
		<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;padding-bottom:16px;margin-top:36px;border-bottom:1px solid rgb(227, 227, 227);">
								<div style="box-sizing:inherit;outline:0px;padding:0px;margin:0px;font-size:12px;margin-bottom:0px;">
			<span style="box-sizing:inherit;outline:0px;color:rgb(77, 77, 77);">个人分类：</span>
						<a href="https://blog.csdn.net/lc0817/article/category/6532464" style="box-sizing:inherit;outline:0px;text-decoration:none;cursor:pointer;display:inline-block;margin-right:24px;color:rgb(121, 165, 229);word-break:break-all;" target="_blank">--------5.1.1.2.Spring Cloud						</a>
		</div>
					</div>
	
	
		</div></span></div></div></div></div>
</div>
</span>
</div></body></html> 